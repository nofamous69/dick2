/*!* Application Version: 4.0.23* Application Environment: prod* Build Version: 1637065675*/
webpackJsonp([0],[,,,function(module,exports,__webpack_require__){"use strict";function injectable(WrappedClass){return WrappedClass}exports.a=injectable},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(177)),__WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_stores_EnvironmentStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__),__webpack_require__(602)),__WEBPACK_IMPORTED_MODULE_4__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8);__webpack_require__.d(exports,"a",function(){return ConfigurationQueries});var ConfigurationQueries=function(_StejarConfigurationQ){function ConfigurationQueries(){return _classCallCheck(this,ConfigurationQueries),_possibleConstructorReturn(this,(ConfigurationQueries.__proto__||Object.getPrototypeOf(ConfigurationQueries)).apply(this,arguments))}return _inherits(ConfigurationQueries,_StejarConfigurationQ),ConfigurationQueries}(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__.ConfigurationQueries);ConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getConfiguration",ConfigurationQueries.getConfiguration,function(configuration){return configuration}),ConfigurationQueries.getEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getEnv",function(state){return state.ConfigurationStore},function(configuration){return configuration.env}),ConfigurationQueries.getRewardsBaseUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getRewardsBaseUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.rewardsUrl}),ConfigurationQueries.getClubUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getClubUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.clubUrl}),ConfigurationQueries.getAccountUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAccountUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.accountUrl}),ConfigurationQueries.getCustomerSupportUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getCustomerSupportUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.customerSupportUrl}),ConfigurationQueries.getAnalyticsSdkUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAnalyticsSdkUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.analyticsSdkUrl}),ConfigurationQueries.getTwitchClientId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getTwitchClientId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.twitchClientId}),ConfigurationQueries.getAvatarsUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsUrl}),ConfigurationQueries.getCurrentEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getCurrentEnv",__WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_stores_EnvironmentStore__.a.getCurrentEnv,function(env){return env}),ConfigurationQueries.getEnableDebug=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.enableDebug",ConfigurationQueries.getConfiguration,__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getEnableDebug,function(configuration,enableDebug){return void 0!==enableDebug?enableDebug:configuration.enableDebug}),ConfigurationQueries.getStatsCDNUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getStatsCDNUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.statsCDNUrl}),ConfigurationQueries.getWebcenterAssetsUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getWebcenterAssetsUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.webcenterAssetsUrl}),ConfigurationQueries.getBetaPopulationsSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaPopulationsSpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaPopulationsSpaceId}),ConfigurationQueries.getBetaEnitySpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaEnitySpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaEnitySpaceId}),ConfigurationQueries.getBetaType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaType",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaType}),ConfigurationQueries.getOverlayIndexUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getOverlayIndexUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.overlayIndexUrl}),ConfigurationQueries.getAvatarsMaintenanceStartDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceStartDate",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsMaintenanceStartDate}),ConfigurationQueries.getAvatarsMaintenanceEndDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceEndDate",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsMaintenanceEndDate}),ConfigurationQueries.getUbiServicesEndpoint=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getUbiServicesEndpoint",ConfigurationQueries.getConfiguration,function(configuration){return configuration.ubiServicesEndpoint}),ConfigurationQueries.getUplayWebcenterEndpoint=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getUplayWebcenterEndpoint",ConfigurationQueries.getConfiguration,function(configuration){return configuration.uplayWebcenterEndpoint}),ConfigurationQueries.getLinkedAccountsApiEndpoint=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getLinkedAccountsApiEndpoint",ConfigurationQueries.getConfiguration,function(configuration){return configuration.linkedAccountsApiEndpoint}),ConfigurationQueries.getConnectEndpoint=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getConnectEndpoint",ConfigurationQueries.getConfiguration,function(configuration){return configuration.connectEndpoint}),ConfigurationQueries.getConnectEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.connectEnv",ConfigurationQueries.getConfiguration,function(configuration){return configuration.connectEnv}),ConfigurationQueries.getUbiStoreUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getUbiStoreUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.ubiStoreUrl}),ConfigurationQueries.getAreAvatarsInMaintenance=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceEndDate",__WEBPACK_IMPORTED_MODULE_4__stores_ChangeAvatarStore__.a.getAvatarIntervalCheck,ConfigurationQueries.getAvatarsMaintenanceStartDate,ConfigurationQueries.getAvatarsMaintenanceEndDate,function(check,startDate,endDate){return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().isBetween(__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(startDate),__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(endDate))}),ConfigurationQueries.getThirdPartyCookiesErrorUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getThirdPartyCookiesErrorUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.thirdPartyCookiesErrorUrl}),ConfigurationQueries.getLoginNextUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getLoginNextUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.loginNextUrl}),ConfigurationQueries.getLoginUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getLoginUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.loginUrl}),ConfigurationQueries.getWebsocketEndpoint=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getWebsocketEndpoint",ConfigurationQueries.getConfiguration,function(configuration){return configuration.websocketEndpoint}),ConfigurationQueries.getWebsocketNotificationTypes=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getWebsocketNotificationTypes",ConfigurationQueries.getConfiguration,function(configuration){return configuration.websocketNotificationTypes?configuration.websocketNotificationTypes.join(","):null}),ConfigurationQueries.getWebsocketSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("ConfigurationQueries.getWebsocketSpaceIds",ConfigurationQueries.getConfiguration,function(configuration){return configuration.websocketSpaceIds?configuration.websocketSpaceIds.join(","):null}),ConfigurationQueries.isExpired=function(expiration,cacheTime){return!__WEBPACK_IMPORTED_MODULE_0_moment___default.a.unix(expiration).isAfter(__WEBPACK_IMPORTED_MODULE_0_moment___default()().subtract(cacheTime,"seconds"))}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__),__webpack_require__(26));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__);__webpack_require__.d(exports,"a",function(){return IdentityQueries});var IdentityQueries=function(_AuthenticationQuerie){function IdentityQueries(){return _classCallCheck(this,IdentityQueries),_possibleConstructorReturn(this,(IdentityQueries.__proto__||Object.getPrototypeOf(IdentityQueries)).apply(this,arguments))}return _inherits(IdentityQueries,_AuthenticationQuerie),IdentityQueries}(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries);IdentityQueries.getIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity}),IdentityQueries.getHasIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.hasIdentity,function(hasIdentity){return hasIdentity}),IdentityQueries.getUserId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getUserId",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity?identity.user_id:null})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__queries_LocaleQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(22));__webpack_require__.d(exports,"a",function(){return Translate});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},Translate=function(_PureComponent){function Translate(){return _classCallCheck(this,Translate),_possibleConstructorReturn(this,(Translate.__proto__||Object.getPrototypeOf(Translate)).apply(this,arguments))}return _inherits(Translate,_PureComponent),_createClass(Translate,[{key:"render",value:function(){var params=Object.assign({},this.props);delete params.children,delete params.catalogs,delete params._$locale;var translatedValue=void 0;try{translatedValue=this.props.catalogs[this.props._$locale][this.props.children],translatedValue||(translatedValue=this.props.children)}catch(error){translatedValue=this.props.children}var list=[];if(Object.keys(params).filter(function(name){return"function"!=typeof params[name]}).forEach(function(name){if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.isObject)(params[name])){list.push({term:params[name],orderLevel:translatedValue.indexOf(name)});try{translatedValue=translatedValue.replace("%("+name+")","{REACT}")}catch(error){console.error(error)}}else translatedValue=translatedValue.replace("%("+name+")",params[name])}),list.length>0){list=list.sort(function(a,b){return a.orderLevel-b.orderLevel});var result=translatedValue.split("{REACT}"),newResult=[],offset=0;return result.forEach(function(item){offset++,newResult.push(React.createElement(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.DangerousHtml,{key:offset},item)),list.length>0&&(offset++,newResult.push(React.createElement("span",{key:offset},list.shift().term)))}),"ar-AE"===this.props._$locale?React.createElement("span",null,[null].concat(newResult.reverse())):React.createElement("span",null,[null].concat(newResult))}return-1!==translatedValue.indexOf("&")||-1!==translatedValue.indexOf("<")&&-1!==translatedValue.indexOf(">")?"ar-AE"===this.props._$locale?React.createElement(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.DangerousHtml,null,translatedValue):React.createElement(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.DangerousHtml,null,translatedValue):"ar-AE"===this.props._$locale?React.createElement("span",null,translatedValue):React.createElement("span",null,translatedValue)}}]),Translate}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);Translate=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({catalogs:__WEBPACK_IMPORTED_MODULE_4__queries_LocaleQueries__.a.getLocaleCatalogs,_$locale:__WEBPACK_IMPORTED_MODULE_4__queries_LocaleQueries__.a.getCurrentLocale})),__metadata("design:paramtypes",[])],Translate)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(164)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(305),__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__=__webpack_require__(165);__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationQueries});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IntegratorConfigurationQueries=function(){function IntegratorConfigurationQueries(){_classCallCheck(this,IntegratorConfigurationQueries)}return _createClass(IntegratorConfigurationQueries,null,[{key:"isUUID",value:function(str){var version=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",uuid={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},pattern=uuid[version];return pattern&&pattern.test(str)}},{key:"computeLinkString",value:function(currentLocale,hasOverwrittenLinks,configuration,overwrittenLinksType){var locale=__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__.a[currentLocale]?__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__.a[currentLocale]:"en-GB";return hasOverwrittenLinks?"object"!==_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT])?null:configuration.overwrittenLinks[overwrittenLinksType].locs?"zh-hk"===currentLocale.toLowerCase()&&configuration.overwrittenLinks[overwrittenLinksType].locs["zh-HK"]?configuration.overwrittenLinks[overwrittenLinksType].locs["zh-HK"]:configuration.overwrittenLinks[overwrittenLinksType].locs[locale]?configuration.overwrittenLinks[overwrittenLinksType].locs[locale]:configuration.overwrittenLinks[overwrittenLinksType].locs["en-GB"]:null:null}}]),IntegratorConfigurationQueries}();IntegratorConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getConfiguration",function(state){return state[__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a.name]},function(configuration){return configuration}),IntegratorConfigurationQueries.getLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginType||__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.LOGIN_TYPE_POPUP}),IntegratorConfigurationQueries.getLocaleCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLocaleCode",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.locale?configuration.locale:"en-GB"}),IntegratorConfigurationQueries.getApplicationId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getApplicationId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.appId}),IntegratorConfigurationQueries.getGenomeId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getGenomeId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.genomeId}),IntegratorConfigurationQueries.getHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHeight",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.height||50}),IntegratorConfigurationQueries.getBackgroundColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getBackgroundColor",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"transparent"}),IntegratorConfigurationQueries.getLoginBackgroundColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLoginBackgroundColor",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"#000"}),IntegratorConfigurationQueries.getTrackingSiteSection=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteSection",IntegratorConfigurationQueries.getConfiguration,function(){return"web overlay"}),IntegratorConfigurationQueries.getTrackingSiteName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteName",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteName}),IntegratorConfigurationQueries.getTrackingSiteType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(){return"overlay"}),IntegratorConfigurationQueries.getHasCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.customerSupportLinks&&configuration.customerSupportLinks.length>0}),IntegratorConfigurationQueries.getHasOverwrittenLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasOverwrittenLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.overwrittenLinks&&Object.keys(configuration.overwrittenLinks).length>0}),IntegratorConfigurationQueries.getOverwrittenAccountLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenAccountLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT]?"string"==typeof configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT]:"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT].link:null:null}),IntegratorConfigurationQueries.isAccountLinkOverwritten=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.isOverwrittenAccountLink",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return!!hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT])}),IntegratorConfigurationQueries.getOverwrittenAccountLinkString=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.isOverwrittenAccountLink",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,function(configuration,hasOverwrittenLinks,currentLocale){return IntegratorConfigurationQueries.computeLinkString(currentLocale,hasOverwrittenLinks,configuration,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT)}),IntegratorConfigurationQueries.getOverwrittenAccountLinkAction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenAccountLinkAction",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT].action:null}),IntegratorConfigurationQueries.getOverwrittenSupportLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT]?"string"==typeof configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT]:"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT].link:null:null}),IntegratorConfigurationQueries.isSupportLinkOverwritten=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.isSupportLinkOverwritten",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return!!hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT])}),IntegratorConfigurationQueries.getOverwrittenSupportLinkString=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.isOverwrittenAccountLink",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,function(configuration,hasOverwrittenLinks,currentLocale){return IntegratorConfigurationQueries.computeLinkString(currentLocale,hasOverwrittenLinks,configuration,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT);
}),IntegratorConfigurationQueries.getOverwrittenSupportLinkAction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenSupportLinkAction",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.SUPPORT].action:null}),IntegratorConfigurationQueries.getOverwrittenStoreLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenStoreLink",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.ACCOUNT]?"string"==typeof configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE]:"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE].link:null:null}),IntegratorConfigurationQueries.isStoreLinkOverwritten=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.isStoreLinkOverwritten",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return!!hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE])}),IntegratorConfigurationQueries.getOverwrittenStoreLinkString=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenStoreLinkString",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,function(configuration,hasOverwrittenLinks,currentLocale){return IntegratorConfigurationQueries.computeLinkString(currentLocale,hasOverwrittenLinks,configuration,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE)}),IntegratorConfigurationQueries.getOverwrittenStoreLinkAction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenStoreLinkAction",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&"object"===_typeof(configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE])?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.STORE].action:null}),IntegratorConfigurationQueries.getCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasCustomerSupportLinks,__WEBPACK_IMPORTED_MODULE_3__locale_queries_LocaleQueries__.a.getCurrentLocale,function(configuration,hasCustomerSupportLinks,locale){return hasCustomerSupportLinks?configuration.customerSupportLinks.map(function(customlink,offset){return{id:customlink.locs["en-GB"]?customlink.locs["en-GB"]:offset.toString(),name:"zh-hk"===locale.toLowerCase()&&customlink.locs["zh-HK"]?customlink.locs["zh-HK"]:__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__.a[locale]&&customlink.locs[__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__.a[locale]]?customlink.locs[__WEBPACK_IMPORTED_MODULE_4__locale_entities_LocalStrings__.a[locale]]:customlink.locs["en-GB"]?customlink.locs["en-GB"]:"link",url:customlink.link?customlink.link:null,action:customlink.action?customlink.action:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB}}):[]}),IntegratorConfigurationQueries.getHasDarkBackground=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"boolean"!=typeof configuration.darkBackground||configuration.darkBackground}),IntegratorConfigurationQueries.getInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){var installmentId=null;return configuration.installmentId&&(installmentId=IntegratorConfigurationQueries.isUUID(configuration.installmentId)?configuration.installmentId:null),configuration.spaceId&&(installmentId=IntegratorConfigurationQueries.isUUID(configuration.spaceId)?configuration.spaceId:null),installmentId}),IntegratorConfigurationQueries.getClickFriendsProfileType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.clickFriendsProfileType&&(configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_SELF||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_BLANK||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_POST_MESSAGE)?configuration.clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_SELF}),IntegratorConfigurationQueries.getHasExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.loginExternalType&&[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.e.LOGIN_PSN,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.e.LOGIN_XBOX,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.e.LOGIN_TWITCH].indexOf(configuration.loginExternalType)!==-1}),IntegratorConfigurationQueries.getExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginExternalType?configuration.loginExternalType:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.e.LOGIN_NONE}),IntegratorConfigurationQueries.getShowSignInText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.showSignInText}),IntegratorConfigurationQueries.getHasArabLanguage=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.locale&&"ar-AE"==configuration.locale}),IntegratorConfigurationQueries.getIsInDesktopResize=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.isInDesktopResize}),IntegratorConfigurationQueries.getMobileHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getMobileHeight",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.mobileHeight}),IntegratorConfigurationQueries.getHasParentSiteTrackingIntegrate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasParentSiteTrackingIntegrate",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.hasParentSiteTrackingIntegrate}),IntegratorConfigurationQueries.getHasParentSiteTcOptoutSdkCookieSet=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasParentSiteTcOptoutSdkCookieSet",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.hasParentSiteTcOptoutSdkCookieSet}),IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet}),IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyAaOptoutCookieSet=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyAaOptoutCookieSet",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.hasParentSiteUbiPrivacyAaOptoutCookieSet}),IntegratorConfigurationQueries.getScrollbarWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getScrollbarWidth",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.browserScrollbarWidth}),IntegratorConfigurationQueries.getScrollbarNegativeMargin=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getScrollbarNegativeMargin",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.scrollbarNegativeMarginValue}),IntegratorConfigurationQueries.getEnableDebug=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getEnableDebug",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.enableDebug}),IntegratorConfigurationQueries.getHasCustomStoreBuyButton=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasCustomStoreBuyButton",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.customStoreBuyButton}),IntegratorConfigurationQueries.getThirdPartyCookiesSupport=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getThirdPartyCookiesSupport",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.thirdPartyCookiesSupport}),IntegratorConfigurationQueries.getCustomStoreBuyButton=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomStoreBuyButton",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.customStoreBuyButton})},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return PurgeAction});var PurgeAction=function PurgeAction(){_classCallCheck(this,PurgeAction)}},,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function isActive$(state){return state[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16__stores_OverlayStore__.a)()].isActive}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_1_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(67)),__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_12_app_stores_AddFriendStore__=__webpack_require__(322),__WEBPACK_IMPORTED_MODULE_13_app_stores_UserEmailVerificationStore__=__webpack_require__(622),__WEBPACK_IMPORTED_MODULE_14__stores_FilterFriendStore__=__webpack_require__(619),__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_16__stores_OverlayStore__=__webpack_require__(621),__WEBPACK_IMPORTED_MODULE_17__stores_IpLocationStore__=__webpack_require__(620),__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_19__queries_GamesCommonQueries__=__webpack_require__(135),__WEBPACK_IMPORTED_MODULE_20__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_21__stores_UserStore__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_22__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_23__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_24__utils_getLoginUrl__=__webpack_require__(624),__WEBPACK_IMPORTED_MODULE_25__utils_getLoginNextUrl__=__webpack_require__(623);exports.r=isActive$,__webpack_require__.d(exports,"f",function(){return myUserProfiles$}),__webpack_require__.d(exports,"v",function(){return getOwnedFriendsByIds$}),__webpack_require__.d(exports,"h",function(){return friendsInFriendsState$}),__webpack_require__.d(exports,"a",function(){return friendsInFriendsStateIds$}),__webpack_require__.d(exports,"b",function(){return friendsInRequestStateIds$}),__webpack_require__.d(exports,"c",function(){return friendsUserProfilesByPropsIds$}),__webpack_require__.d(exports,"u",function(){return myUserProfilesIds$}),__webpack_require__.d(exports,"n",function(){return friendsUserProfilesIds$}),__webpack_require__.d(exports,"g",function(){return friendsUserProfilesIdsString$}),__webpack_require__.d(exports,"i",function(){return getUsername$}),__webpack_require__.d(exports,"t",function(){return getUsernameForEditTool$}),__webpack_require__.d(exports,"E",function(){return getLoadedFriendsActivityFeed$}),__webpack_require__.d(exports,"K",function(){return getLoadedFriendsRequests$}),__webpack_require__.d(exports,"D",function(){return getLoadedOnlineFriends$}),__webpack_require__.d(exports,"w",function(){return hasFoundProfilesByName$}),__webpack_require__.d(exports,"y",function(){return foundProfilesByNameIds$}),__webpack_require__.d(exports,"x",function(){return foundProfilesByNameUserId$}),__webpack_require__.d(exports,"B",function(){return friendsToAdd$}),__webpack_require__.d(exports,"A",function(){return hasFoundFriendsToAdd$}),__webpack_require__.d(exports,"z",function(){return friendsToAddState$}),__webpack_require__.d(exports,"l",function(){return showUserEmailVerificationButton$}),__webpack_require__.d(exports,"N",function(){return isEmailVerificationSent$}),__webpack_require__.d(exports,"m",function(){return getEmailVerificationNotificationsNb$}),__webpack_require__.d(exports,"o",function(){return getAllFriends$}),__webpack_require__.d(exports,"p",function(){return getHasFriendsInFriendsState$}),__webpack_require__.d(exports,"q",function(){return getHasFriendsInRequestState$}),__webpack_require__.d(exports,"F",function(){return getFriendsActivityFeedFiltered$}),__webpack_require__.d(exports,"I",function(){return getOnlineFeedFilteredToShow$}),__webpack_require__.d(exports,"J",function(){return getHasOnlineFeedAfterFiltered$}),__webpack_require__.d(exports,"G",function(){return getHasFriendsActivityFeedAfterFiltered$}),__webpack_require__.d(exports,"H",function(){return getNbFriendsInActivityFeed$}),__webpack_require__.d(exports,"L",function(){return getFriendsRequestsRelatedToTooggleParam$}),__webpack_require__.d(exports,"M",function(){return getFriendsRequestsLength$}),__webpack_require__.d(exports,"e",function(){return gamesSortedByPublishedAt$}),__webpack_require__.d(exports,"d",function(){return gamesByInstallmentId$}),__webpack_require__.d(exports,"C",function(){return friendUserProfilesByFriendId$}),__webpack_require__.d(exports,"j",function(){return friendUserProfilesIdsByFriendId$}),__webpack_require__.d(exports,"k",function(){return myCountryCode$}),__webpack_require__.d(exports,"s",function(){return loginUrl$});var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},defaultLoadedSelector=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.reduce(function(prev,curr){return prev&&curr})},myUserProfiles$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gamesBySpaceId$",__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,function(gamesByPlatformId,gamesById){var tmp={};return Object.keys(gamesByPlatformId).forEach(function(spaceId){tmp[spaceId]=gamesById[gamesByPlatformId[spaceId].siblingSpaceId]}),tmp}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfiles$",__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})})),getFriendsWithNameOnPlatforByIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsWithNameOnPlatforByIds$",__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(friendsbyIds,usersByIds){var friends={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(friendsbyIds,function(friend){return __assign({},friend,{nameOnPlatform:usersByIds[friend.pid]?usersByIds[friend.pid].nameOnPlatform:friend.nickname})}).forEach(function(friend){friends[friend.pid]=friend}),friends}),getOwnedFriendsByIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOwnedFriendsByIds$",getFriendsWithNameOnPlatforByIds$,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byIds,ownershipByUserId,userId){var friends={};return ownershipByUserId[userId]?(ownershipByUserId[userId].forEach(function(id){friends[id]=byIds[id]}),friends):friends}),friendsInFriendsState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.FRIENDS})}),friendsInFriendsStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsStateIds$",friendsInFriendsState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE})}),friendsInSentInviteState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInSentInviteState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE})}),friendsInRequestStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestStateIds$",friendsInRequestState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfiles$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userIds,profilesIds,profilesByIds){return profilesIds.filter(function(id){return userIds.includes(profilesByIds[id].userId)}).map(function(id){return profilesByIds[id]})}),friendsUserProfilesByPropsIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesByPropsIds$",friendsUserProfiles$,function(state,_ref){var ids=_ref.ids;return ids},function(profiles,ids){return ids&&ids.length?profiles.filter(function(profile){return ids.includes(profile.userId)}):[]}),myUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfilesIds$",myUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIds$",friendsUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIdsString$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIdsString$",friendsUserProfilesIds$,function(profileIds){return profileIds.sort().join(",")}),friendsUserProfilesIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIdsByUserId$",friendsUserProfiles$,function(profiles){var tmp={};return profiles.forEach(function(profile){tmp[profile.userId]||(tmp[profile.userId]=[]),tmp[profile.userId].push(profile.profileId)}),tmp}),getUsername$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUsername$",__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_21__stores_UserStore__.a.getById,function(userId,user){return user&&user[userId]?user[userId].nameOnPlatform:null}),getUsernameForEditTool$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUsernameForEditTool$",getUsername$,__WEBPACK_IMPORTED_MODULE_22__stores_UserNameStore__.a.getUserName,function(userName,editedUserName){return editedUserName?editedUserName:userName}),computeLpgByUserIds=function(userIds,userProfilesIdsByUserId,applicationsByUserId,lastSessionDates,gamesBySpaceId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.keyBy)(userIds.map(function(userId){var userProfilesIds=userProfilesIdsByUserId[userId]||[],games=[];if(userProfilesIds.length&&(games=userProfilesIds.map(function(userId){return applicationsByUserId[userId]?applicationsByUserId[userId]:[]}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(lastSessionDates[userId][a]).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(lastSessionDates[userId][b]))?1:-1}).map(function(appId){return byPlatformApplicationId[appId]?gamesBySpaceId[byPlatformApplicationId[appId].parentSpaceId]:null})),0==games.length)return null;if(!games[0])return null;var platforms=platformsApplicationsIdsByParentSpaceId[games[0].spaceId]?platformsApplicationsIdsByParentSpaceId[games[0].spaceId].map(function(appId){return platformsByApplicationId[appId]}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_19__queries_GamesCommonQueries__.a.sortPlatforms(lastSessionDates,userId,a,b)}):[];return{id:games[0].id,gameName:games[0].title,publishedAt:games[0].publishedAt,gameCleanUrl:games[0].cleanUrl,lastPlayedDate:lastSessionDates[userId]&&platforms.length?lastSessionDates[userId][platforms[0].applicationId]:null,platformCode:platforms.length?platforms[0].displayName:null,platformType:platforms.length?platforms[0].type:null,imageUrl:games[0].thumbUrl,userId:userId,spaceId:games[0].spaceId,coverUrl:games[0].coverUrl}}).filter(function(item){return!!item}),"userId")},myProfileIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myProfileIdsByUserId$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(profileIds,userId){return _defineProperty({},userId,profileIds)}),myUserIdAsArray$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserIdAsArray",__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(userId){return[userId]}),myLastPlayedGameDict$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameDict$",myUserIdAsArray$,myProfileIdsByUserId$,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesPlayedStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,computeLpgByUserIds),getNbOfFriendsOnline$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameEvenIfOwned$",myLastPlayedGameDict$,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(lpg,userId){return lpg[userId]}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,defaultLoadedSelector),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(connections,friends){return Object.keys(connections).filter(function(id,index,self){return self.map(function(item){return friends[connections[item].profileId].userId}).indexOf(friends[connections[id].profileId].userId)===index}).length})),getOnlineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeed$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getByUserId,friendsUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(connections,friends,userProfilesByUserId,friendsProfilesIds,gamesBySpaceId,gamesByPlatformId,avatarsUrl,appId){var spaceIds=Object.keys(gamesBySpaceId),connectionsIdsWithUser=Object.keys(connections).filter(function(id){return friendsProfilesIds.includes(connections[id].profileId)}),withAGame=connectionsIdsWithUser.filter(function(id){return spaceIds.includes(connections[id].spaceIds[0])}),withoutAGame=connectionsIdsWithUser.filter(function(id){return!spaceIds.includes(connections[id].spaceIds[0])}).filter(function(id){return!withAGame.map(function(i){return connections[i].profileId}).includes(connections[id].profileId)}),currentlyPlaying=[];withAGame.forEach(function(id){currentlyPlaying.find(function(playing){return userProfilesByUserId[playing.userId].includes(connections[id].profileId)})||currentlyPlaying.push({userId:friends[connections[id].profileId].userId,username:friends[friends[connections[id].profileId].userId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,isOnline:!0,isCurrentlyPlayingAGame:!0})}),currentlyPlaying=currentlyPlaying.slice(0);var justOnline=[];return withoutAGame.forEach(function(id){justOnline.find(function(playing){return userProfilesByUserId[playing.userId].includes(connections[id].profileId)})||justOnline.push({userId:friends[connections[id].profileId].userId,username:friends[friends[connections[id].profileId].userId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,isOnline:!0,isCurrentlyPlayingAGame:!1})}),justOnline=justOnline.slice(0),currentlyPlaying.concat(justOnline)}),offlineFriendsIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("offlineFriendsIds$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getByProfileId,function(friends,connections){
return friends.filter(function(id){return!Object.keys(connections).includes(id)})}),getOfflineFriendsWithLPG=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFriendsWithLPG",offlineFriendsIds$,friendsUserProfilesIdsByUserId$,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesPlayedStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,computeLpgByUserIds),getOfflineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFeed$",getOwnedFriendsByIds$,offlineFriendsIds$,getOfflineFriendsWithLPG,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(friends,offlineFriendsIds,friendsWithLPG,avatarUrl,appId){var offlineWithLPG=Object.keys(friendsWithLPG).map(function(userId){return{userId:userId,username:friends[friendsWithLPG[userId].userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0),friendsWithoutLPG=offlineFriendsIds.filter(function(pid){return!Object.keys(friendsWithLPG).includes(pid)}).map(function(userId){return{userId:userId,username:friends[userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0);return offlineWithLPG.concat(friendsWithoutLPG)}),getLoadedFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsActivityFeed$",__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,defaultLoadedSelector),getLoadedFriendsRequestsMetaProgressions$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsRequestsMetaProgressions$",__WEBPACK_IMPORTED_MODULE_20__stores_MetaProgressionProfileStore__.a.getLoaded,friendsInRequestStateIds$,function(loaded,ids){return!ids.length||ids.every(function(id){return loaded[id]===!0})}),getLoadedFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsRequests$",__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,getLoadedFriendsRequestsMetaProgressions$,defaultLoadedSelector),getLoadedOnlineFriends$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedOnlineFriends$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,defaultLoadedSelector),getFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeed$",getOnlineFeed$,getOfflineFeed$,function(online,offline){return online.concat(offline.filter(function(offlineFriend){return online.map(function(onlineFriend){return onlineFriend.username}).indexOf(offlineFriend.username)===-1})).sort(function(a,b){return sortFriends(a,b)})}),getFriendsRequestsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsNb$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE}).length}),getNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNotificationsNb$",getFriendsRequestsNb$,function(friends){return friends}),getFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequests$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_20__stores_MetaProgressionProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,metaProgressionProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:metaProgressionProfiles&&metaProgressionProfiles[friend.pid]?metaProgressionProfiles[friend.pid].level:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),getFriendsInvitations$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitations$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_20__stores_MetaProgressionProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,metaProgressionProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:metaProgressionProfiles&&metaProgressionProfiles[friend.pid]?metaProgressionProfiles[friend.pid].level:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),foundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByName$",__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_12_app_stores_AddFriendStore__.a.getUserNameToSearch,function(friends,name){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.nameOnPlatform==name})}),hasFoundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundProfilesByName$",foundProfilesByName$,function(friends){return friends.length>=1}),foundProfilesByNameIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByNameIds$",foundProfilesByName$,function(friends){return friends.map(function(friend){return friend.profileId})}),foundProfilesByNameUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByNameIds$",foundProfilesByName$,hasFoundProfilesByName$,function(friends,hasFoundProfilesByName){return hasFoundProfilesByName?friends[0].userId:null}),friendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAdd$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_20__stores_MetaProgressionProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,foundProfilesByName$,hasFoundProfilesByName$,function(friends,userProfiles,metaProgressionProfiles,avatarUrl,applicationId,friendsProfilesByName,hasFoundProfilesByName){var friendsToAddFiltered=friendsProfilesByName.slice();if(hasFoundProfilesByName||(friendsToAddFiltered=friendsProfilesByName.filter(function(item){return item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.UPLAY})),friendsToAddFiltered.length){var friendsToAddMaped=friendsToAddFiltered.map(function(item){var friend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(friends,function(profile){return profile.pid==item.profileId||profile.pid==item.userId}),metaProgression=metaProgressionProfiles?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(metaProgressionProfiles,function(profile){return profile.profileId==item.userId}):null;return{pid:item.userId?item.userId:item.profileId,friendState:friend?friend.state:__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP,userAvatarUrl:avatarUrl+"/"+(item.userId?item.userId:item.profileId)+"/default_146_146.png?appId="+applicationId,userName:userProfiles[item.userId]?userProfiles[item.userId].nameOnPlatform:item.nameOnPlatform,level:metaProgression&&metaProgression.level?metaProgression.level:0,invitationRequestDate:friend&&friend.state===__WEBPACK_IMPORTED_MODULE_4_app_modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE?friend.lastModified:null,hasPsnProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.PSN,psnName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.PSN?item.nameOnPlatform:null,hasSteamProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.STEAM,steamName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.STEAM?item.nameOnPlatform:null,hasXboxProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE,xboxName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_app_modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE?item.nameOnPlatform:null}}).sort(function(a,b){return a.level>b.level?-1:1});return friendsToAddMaped.length?[friendsToAddMaped[0]]:[]}return[]}),hasFoundFriendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundFriendsToAdd$",friendsToAdd$,function(friends){return friends.length>=1}),friendsToAddState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAddState$",friendsToAdd$,function(friends){var state={};return friends.map(function(item){return state[item.pid]=!1}),state}),showUserEmailVerificationButton$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("showUserEmailVerificationButton$",__WEBPACK_IMPORTED_MODULE_13_app_stores_UserEmailVerificationStore__.a.getShowUserEmailVerificationButton,function(showUserEmailVerificationButton){return showUserEmailVerificationButton}),isEmailVerificationSent$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("isEmailVerificationSent$",__WEBPACK_IMPORTED_MODULE_13_app_stores_UserEmailVerificationStore__.a.getIsEmailVerificationSent,function(isEmailVerificationSent){return isEmailVerificationSent}),getEmailVerificationNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getTotalNotificationsNb$",showUserEmailVerificationButton$,isEmailVerificationSent$,function(showUserEmailVerificationButton,isEmailVerificationSent){return showUserEmailVerificationButton&&!isEmailVerificationSent?1:0}),getAllFriends$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getAllFriends$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(friends,function(friend){return friend})}),getHasFriendsInFriendsState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInFriendsState$",friendsInFriendsState$,function(friends){return friends&&friends.length>0}),getHasFriendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInRequestState$",friendsInRequestState$,function(friends){return friends&&friends.length>0}),getFriendsActivityFeedFiltered$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInSentInviteState$",friendsInSentInviteState$,function(friends){return friends&&friends.length>0}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFiltered$",getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_14__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends})),getOnlineFeedFiltered$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFilteredToShow$",getFriendsActivityFeedFiltered$,getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_14__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends:friendsFiltered}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFiltered$",getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_14__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends})),getOnlineFeedFilteredToShow$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFilteredToShow$",getOnlineFeedFiltered$,getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_14__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends.sort(function(a,b){return sortFriends(a,b)}):friendsFiltered.sort(function(a,b){return sortFriends(a,b)})}),getHasOnlineFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasOnlineFeedAfterFiltered$",getOnlineFeedFiltered$,function(friends){return friends.length>=1}),getHasFriendsActivityFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsActivityFeedAfterFiltered$",getFriendsActivityFeedFiltered$,function(friends){return friends.length>=1}),getNbFriendsInActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbFriendsInActivityFeed$",getFriendsActivityFeed$,function(friends){return friends.length}),getFriendsRequestsRelatedToTooggleParam$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsRelatedToTooggleParam$",getFriendsRequests$,__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,function(friends,toggle){return toggle?friends.slice(0,2):friends}),getFriendsRequestsLength$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsRelatedToTooggleParam$",getFriendsInvitations$,__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getShowMoreFriendInvitations,function(friends,toggle){return toggle?friends.slice(0,2):friends}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsLength$",getFriendsRequests$,function(friends){return friends.length})),gamesSortedByPublishedAt$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsLength$",getFriendsInvitations$,function(friends){return friends.length}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("nbConnections$",getFriendsRequestsLength$,getNbOfFriendsOnline$,function(nbFriendsRequests,nbOfFriendsOnline){return nbFriendsRequests+nbOfFriendsOnline}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,function(gamesBySpaceId,platformsApplicationsIdsByParentSpaceId){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(gamesBySpaceId,function(game){return game}).filter(function(game){return platformsApplicationsIdsByParentSpaceId[game.spaceId].length>0}).filter(function(game){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(game.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()())}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.publishedAt).isAfter(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.publishedAt))?-1:1})})),gamesByInstallmentId$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUserPlatformType$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(profileIds,profiles){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(profiles,function(profile,profileId){return profileIds.indexOf(profileId)!==-1})}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gamesBySpaceInstallmentId$",__WEBPACK_IMPORTED_MODULE_18__stores_UbisoftGamesStore__.a.getBySpaceId,function(gamesById){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.keyBy)(gamesById,"installmentId")})),friendUserProfilesByFriendId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendUserProfilesByFriendId$",function(state,props){return props.friendId},__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})}),friendUserProfilesIdsByFriendId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendUserProfilesIdsByFriendId$",friendUserProfilesByFriendId$,function(friendUserProfilesByFriendId){return friendUserProfilesByFriendId.map(function(profile){return profile.profileId})}),myCountryCode$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myCountryCode$",__WEBPACK_IMPORTED_MODULE_17__stores_IpLocationStore__.a.getByProfileId,__WEBPACK_IMPORTED_MODULE_17__stores_IpLocationStore__.a.getByIp,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byProfileId,byIp,userId){return byProfileId&&byIp&&byIp[byProfileId[userId]]?byIp[byProfileId[userId]].countryCode:null}),loginUrl$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("loginUrl$",function(state,props){return props.status},function(state,props){return props.overwriteConfig},__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId,__WEBPACK_IMPORTED_MODULE_23__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getLoginNextUrl,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getConnectEnv,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getThirdPartyCookiesSupport,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getThirdPartyCookiesErrorUrl,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getLoginUrl,__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getConnectEndpoint,__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getExternalLoginType,function(connectThirdPartyCookiesSupport,overwriteConfig,appId,genomeId,currentLocale,loginNextUrl,connectEnv,integratorThirdPartyCookiesSupport,thirdPartyCookiesErrorUrl,loginUrl,connectEndpoint,externalLoginType){var options={appId:appId,genomeId:genomeId,lang:currentLocale,nextUrl:loginNextUrl},nextUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__utils_getLoginNextUrl__.a)(connectEnv,options,integratorThirdPartyCookiesSupport);return connectThirdPartyCookiesSupport===!1&&integratorThirdPartyCookiesSupport===!1?thirdPartyCookiesErrorUrl+"?locale="+currentLocale:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_24__utils_getLoginUrl__.a)(loginUrl,connectEndpoint,overwriteConfig?__assign({},options,{nextUrl:nextUrl},overwriteConfig):__assign({},options,{nextUrl:nextUrl}),externalLoginType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./))}),sortFriends=function(a,b){return a.isCurrentlyPlayingAGame&&b.isCurrentlyPlayingAGame?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:a.isCurrentlyPlayingAGame&&b.isOnline?-1:a.isOnline&&b.isCurrentlyPlayingAGame?1:a.isOnline&&b.isOnline?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:!a.isOnline&&!a.isCurrentlyPlayingAGame||b.isOnline||b.isCurrentlyPlayingAGame?a.isOnline||a.isCurrentlyPlayingAGame||!b.isOnline&&!b.isCurrentlyPlayingAGame?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:1:-1}},,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(114),__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__entities_Cookies__=__webpack_require__(601),__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__=__webpack_require__(324);__webpack_require__.d(exports,"a",function(){return AnalyticsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AnalyticsService=function(){function AnalyticsService(store,ipLocationService,debugService){_classCallCheck(this,AnalyticsService),this.store=store,this.ipLocationService=ipLocationService,this.debugService=debugService,this.currentPageName=null,this.currentSiteSubSection=null,this.tcWindow=window}return _createClass(AnalyticsService,[{key:"enableDebug",value:function(){this.debugService.enableDebug(),console.log("[Ubisoft Analytics] Enabled debug")}},{key:"setDebug",value:function(debug){this.debugService.setDebug(debug)}},{key:"canRun",value:function(){return"undefined"!=typeof window}},{key:"boot",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var locale,country,environment,hasIdentity;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.canRun()){_context.next=3;break}return this.debugService.log("[Ubisoft Analytics] Cannot boot since cannot run."),_context.abrupt("return",new Promise(function(resolve){return resolve()}));case 3:return _context.prev=3,_context.next=6,this.ipLocationService.loadIpLocation();case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context["catch"](3),this.debugService.error(_context.t0);case 11:return locale=__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),country=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState())?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState()):locale?locale.split("-")[1]:"GB",environment="prod"===__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getEnv(this.store.getState())?"prod":"uat",hasIdentity=__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState()),this.tcWindow.wa_data={siteName:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteName(this.store.getState()),siteType:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteType(this.store.getState()),environment:environment,siteSection:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteSection(this.store.getState()),siteSubSection:"user tab",pageName:__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?"all pages":"player card",country:country,language:locale?locale.split("-")[0]:"en",genomeId:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.store.getState()),appId:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.store.getState()),ubisoftId:hasIdentity?__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,disableMedia:!0},_context.prev=16,_context.next=19,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.loadScript)(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getAnalyticsSdkUrl(this.store.getState())+"?t="+(new Date).getTime(),1e3);case 19:this.debugService.log("[Ubisoft Analytics] Loaded script: "+__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getAnalyticsSdkUrl(this.store.getState())),window.adobeAnalytics?window.adobeAnalytics.init(this.tcWindow.wa_data):this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics"),_context.next=26;break;case 23:_context.prev=23,_context.t1=_context["catch"](16),this.debugService.log("[Ubisoft Analytics] Failed to loaded script");case 26:return _context.abrupt("return",new Promise(function(resolve){return resolve()}));case 27:case"end":return _context.stop()}},_callee,this,[[3,8],[16,23]])}))}},{key:"trackEvent",value:function(siteSubSection,pageName,location,category,action){if(this.canRun()){if(!this.tcWindow.adobeAnalytics)return void this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics");this.debugService.log("[Ubisoft Analytics] Start tracking click: "+location+" - "+category+" - "+action);try{siteSubSection===this.currentSiteSubSection&&pageName===this.currentPageName||this.trackPage(siteSubSection,pageName),this.tcWindow.adobeAnalytics.track("clickevent",{action:action,location:location,category:category})}catch(error){this.debugService.warn("[Ubisoft Analytics] Analytics click event error:"),this.debugService.warn(error)}}}},{key:"trackPage",value:function(siteSubSection,pageName){if(this.canRun()){if(!this.tcWindow.adobeAnalytics)return void this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics");this.debugService.log("[Ubisoft Analytics] Start tracking page: "+siteSubSection+" - "+pageName);var locale=__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),country=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState())?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState()):locale?locale.split("-")[1]:"GB";try{this.tcWindow.adobeAnalytics.track("pageevent",{siteName:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteName(this.store.getState()),siteType:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteType(this.store.getState()),siteSection:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteSection(this.store.getState()),country:country,language:locale?locale.split("-")[0]:"en",ubisoftId:__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_1__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,genomeId:__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.store.getState()),errorType:null,siteSubSection:siteSubSection,pageName:pageName}),this.currentPageName=pageName,this.currentSiteSubSection=siteSubSection}catch(error){this.debugService.warn("[Ubisoft Analytics] Analytics page event error:"),this.debugService.warn(error)}}}},{key:"changeLanguage",value:function(){var locale=__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),country=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState())?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.k)(this.store.getState()):locale?locale.split("-")[1]:"GB";
this.tcWindow.wa_data.country=country,this.tcWindow.wa_data.language=locale?locale.split("-")[0]:"en"}},{key:"setCookieIfItDoesNotExist",value:function(cookieName,value,days,domain){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(cookieName)||this.setCookie(cookieName,value,days,domain)}},{key:"setCookieIfItDoesExist",value:function(cookieName,value,days,domain){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(cookieName)&&this.setCookie(cookieName,value,days,domain)}},{key:"setCookie",value:function(cookieName,value,days,domain){var expires="",security="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}domain&&(security="; domain="+domain+"; SameSite=None; Secure"),document.cookie=cookieName+"="+(value||"")+expires+"; path=/"+security}},{key:"attachSCode",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var source;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(source=this.getSCodeScripUrl(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(__WEBPACK_IMPORTED_MODULE_6__entities_Cookies__.a.UBI_PRIVACY_AA_OPTOUT)||this.hasScript(source)||this.tcWindow.sCode){_context2.next=16;break}return _context2.prev=2,this.debugService.log("[Ubisoft Analytics] Attached sCode"),window.adobeAnalytics&&window.adobeAnalytics.init(this.tcWindow.wa_data),_context2.next=7,new Promise(function(resolve){return resolve()});case 7:return _context2.abrupt("return",_context2.sent);case 10:return _context2.prev=10,_context2.t0=_context2["catch"](2),this.debugService.log("[Ubisoft Analytics] Failed to loaded attach sCode"),_context2.next=15,new Promise(function(resolve){return resolve()});case 15:return _context2.abrupt("return",_context2.sent);case 16:return this.debugService.log("[Ubisoft Analytics] sCode already attached"),_context2.next=19,new Promise(function(resolve){return resolve()});case 19:return _context2.abrupt("return",_context2.sent);case 20:case"end":return _context2.stop()}},_callee2,this,[[2,10]])}))}},{key:"detachSCode",value:function(){return this.tcWindow.s&&this.tcWindow.s.constructor&&"AppMeasurement"===this.tcWindow.s.constructor.name?(this.debugService.log("[Ubisoft Analytics] detached sCode"),this.tcWindow.s={},this.tcWindow.sCode=!1,void this.removeScript(this.getSCodeScripUrl())):void this.debugService.log("[Ubisoft Analytics] sCode already detached")}},{key:"getSCodeScripUrl",value:function(){var environment="prod"===__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getEnv(this.store.getState())?"prod":"uat";return"https://ubistatic-a.akamaihd.net/0106/"+environment+"/global/tracking/scode.js"}},{key:"removeScript",value:function(source){var script=document.querySelector('script[src="'+source+'"]');return script&&script.remove(),!1}},{key:"hasScript",value:function(source){return null!=document.querySelector('script[src="'+source+'"]')}},{key:"loadSCodeScript",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var hasOverlayTcOptoutSdkCookie,hasOverlayUbiPrivacyPolicyAccepteCookie,hasOverlayUbiPrivacyAaOptoutCookie,hasParentSiteTrackingIntegrate,hasParentSiteTcOptoutSdkCookie,hasParentSiteUbiPrivacyPolicyAcceptedCookie,hasParentSiteUbiPrivacyAaOptoutCookie;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(hasOverlayTcOptoutSdkCookie=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(__WEBPACK_IMPORTED_MODULE_6__entities_Cookies__.a.TC_OPTOUT_SDK),hasOverlayUbiPrivacyPolicyAccepteCookie=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(__WEBPACK_IMPORTED_MODULE_6__entities_Cookies__.a.UBI_PRIVACY_POLICY_ACCEPTED),hasOverlayUbiPrivacyAaOptoutCookie=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils_getCookie__.a)(__WEBPACK_IMPORTED_MODULE_6__entities_Cookies__.a.UBI_PRIVACY_AA_OPTOUT),hasParentSiteTrackingIntegrate=__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasParentSiteTrackingIntegrate(this.store.getState()),hasParentSiteTcOptoutSdkCookie=__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasParentSiteTcOptoutSdkCookieSet(this.store.getState()),hasParentSiteUbiPrivacyPolicyAcceptedCookie=__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.store.getState()),hasParentSiteUbiPrivacyAaOptoutCookie=__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasParentSiteUbiPrivacyAaOptoutCookieSet(this.store.getState()),hasParentSiteTrackingIntegrate){_context3.next=13;break}if(hasOverlayUbiPrivacyAaOptoutCookie||!hasOverlayTcOptoutSdkCookie&&!hasOverlayUbiPrivacyPolicyAccepteCookie){_context3.next=12;break}return this.debugService.log("[Ubisoft Analytics] Load sCode script"),_context3.next=12,this.attachSCode();case 12:return _context3.abrupt("return");case 13:if(!hasParentSiteUbiPrivacyAaOptoutCookie){_context3.next=15;break}return _context3.abrupt("return");case 15:if(!hasParentSiteTcOptoutSdkCookie&&!hasParentSiteUbiPrivacyPolicyAcceptedCookie||hasOverlayUbiPrivacyAaOptoutCookie){_context3.next=20;break}return this.debugService.log("[Ubisoft Analytics] Load sCode script"),window.adobeAnalytics&&window.adobeAnalytics.init(this.tcWindow.wa_data),_context3.next=20,this.attachSCode();case 20:case"end":return _context3.stop()}},_callee3,this)}))}}]),AnalyticsService}()},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__stores_LocaleStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(608));__webpack_require__.d(exports,"a",function(){return LocaleQueries});var LocaleQueries=function LocaleQueries(){_classCallCheck(this,LocaleQueries)};LocaleQueries.getCurrentLocale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state[__WEBPACK_IMPORTED_MODULE_1__stores_LocaleStore__.a.name]},function(store){return store.currentLocale}),LocaleQueries.hasLocaleBeenLoaded=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state[__WEBPACK_IMPORTED_MODULE_1__stores_LocaleStore__.a.name]},function(state,props){return props.locale},function(store,locale){return Object.keys(store.catalogs).includes(locale)}),LocaleQueries.getLocaleCatalog=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state[__WEBPACK_IMPORTED_MODULE_1__stores_LocaleStore__.a.name]},function(state,props){return props.locale},function(store,locale){return store.catalogs[locale]}),LocaleQueries.getLocaleCatalogs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state[__WEBPACK_IMPORTED_MODULE_1__stores_LocaleStore__.a.name]},function(store){return store.catalogs})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_services_IntegratorConfigurationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(875)),__WEBPACK_IMPORTED_MODULE_4_messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_6_app_actions_ShowFriendsActivityAction__=__webpack_require__(556),__WEBPACK_IMPORTED_MODULE_7_app_actions_HideFriendsActivityAction__=__webpack_require__(528),__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_10_app_actions_ResizeWidgetAction__=__webpack_require__(551),__WEBPACK_IMPORTED_MODULE_11_app_modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_12_app_services_GamesService__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_13_app_services_RewardsService__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_14_app_actions_LoadingRewardsAction__=__webpack_require__(203),__WEBPACK_IMPORTED_MODULE_15_app_actions_LoadingGameStatsAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_16_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_17_app_actions_ShowMobileTabsAction__=__webpack_require__(557),__WEBPACK_IMPORTED_MODULE_18_app_actions_HideMobileTabsAction__=__webpack_require__(529),__WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(564),__WEBPACK_IMPORTED_MODULE_20_app_modules_integrator_communication_services_WidgetService__=__webpack_require__(604),__WEBPACK_IMPORTED_MODULE_21_app_services_ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_22_app_actions_HideNotificationsPanelAction__=__webpack_require__(530),__WEBPACK_IMPORTED_MODULE_23_app_actions_ShowNotificationsPanelAction__=__webpack_require__(558),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_25__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_26_app_actions_LoadedEnvAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_25__stejar_http__),__webpack_require__(531)),__WEBPACK_IMPORTED_MODULE_27_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_28_app_actions_ToggleVisitedNotificationsAction__=__webpack_require__(782),__WEBPACK_IMPORTED_MODULE_29__actions_SelectArabLanguageAction__=__webpack_require__(282),__WEBPACK_IMPORTED_MODULE_30__actions_DeselectArabLanguageAction__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_31__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_32__actions_SetParentUrlAction__=__webpack_require__(553),__WEBPACK_IMPORTED_MODULE_33__actions_SetSsoIdAction__=__webpack_require__(554),__WEBPACK_IMPORTED_MODULE_34__EmailVerificationService__=__webpack_require__(213),__WEBPACK_IMPORTED_MODULE_35__actions_UserEmailVerificationAction__=__webpack_require__(296),__WEBPACK_IMPORTED_MODULE_36__actions_ConnectLoginUrlAction__=__webpack_require__(525),__WEBPACK_IMPORTED_MODULE_37__services_WidgetChannelService__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_38__services_GeneralChannelService__=__webpack_require__(317),__WEBPACK_IMPORTED_MODULE_39__actions_DeleteCONNECTloginDataAction__=__webpack_require__(195),__WEBPACK_IMPORTED_MODULE_40__stejar_configuration__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_41__queries_OtherGamesCarouselQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_40__stejar_configuration__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_42__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_43__actions_OverlayOpenAction__=__webpack_require__(548),__WEBPACK_IMPORTED_MODULE_44__actions_OverlayCloseAction__=__webpack_require__(547),__WEBPACK_IMPORTED_MODULE_45__services_BetaNotificationsService__=__webpack_require__(314),__WEBPACK_IMPORTED_MODULE_46__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_47__stores_ProfileEntitiesStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_48__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_49__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(207),__WEBPACK_IMPORTED_MODULE_50__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(206),__WEBPACK_IMPORTED_MODULE_51__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_52__locale_services_TranslatorService__=__webpack_require__(306),__WEBPACK_IMPORTED_MODULE_53__authentication_entities_Window__=__webpack_require__(109),__WEBPACK_IMPORTED_MODULE_54__actions_ResizeWindowInnerHeightAction__=__webpack_require__(552),__WEBPACK_IMPORTED_MODULE_55__services_MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_56__configuration_entities_IntegratorConfig__=__webpack_require__(164),__WEBPACK_IMPORTED_MODULE_57__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_58__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_59__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__=__webpack_require__(601),__WEBPACK_IMPORTED_MODULE_61__actions_ThirdPartyCookiesSupportAction__=__webpack_require__(561),__WEBPACK_IMPORTED_MODULE_62__services_WebsocketService__=__webpack_require__(321),__WEBPACK_IMPORTED_MODULE_63__CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return CommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},CommunicationService=function(_AbstractActions){function CommunicationService(integratorConfigurationService,pageLoaderService,translatorService,gamesService,rewardsService,analyticsService,profilesService,httpService,emailVerificationService,channel,generalChannel,configurationService,betaNotificationsService,metaProgressionProfileService,debugService,websocketService,commonActionsService){_classCallCheck(this,CommunicationService);var _this=_possibleConstructorReturn(this,(CommunicationService.__proto__||Object.getPrototypeOf(CommunicationService)).call(this));return _this.integratorConfigurationService=integratorConfigurationService,_this.pageLoaderService=pageLoaderService,_this.translatorService=translatorService,_this.gamesService=gamesService,_this.rewardsService=rewardsService,_this.analyticsService=analyticsService,_this.profilesService=profilesService,_this.httpService=httpService,_this.emailVerificationService=emailVerificationService,_this.channel=channel,_this.generalChannel=generalChannel,_this.configurationService=configurationService,_this.betaNotificationsService=betaNotificationsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.debugService=debugService,_this.websocketService=websocketService,_this.commonActionsService=commonActionsService,_this.windowsHeight=null,_this.windowsWidth=null,_this.iframeBoundingClientRect=null,_this}return _inherits(CommunicationService,_AbstractActions),_createClass(CommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){if(_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_BOOTSTRAP,function(configuration){var enableDebug=void 0!==configuration.enableDebug?configuration.enableDebug:__WEBPACK_IMPORTED_MODULE_58__configuration_queries_ConfigurationQueries__.a.getEnableDebug(_this2.getState());return _this2.channel.setDebug(enableDebug),_this2.generalChannel.setDebug(enableDebug),_this2.debugService.setDebug(enableDebug),_this2.integratorConfigurationService.loadConfiguration(configuration),_this2.hideAllTabs(),resolve()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK,function(){_this2.hideFriends(),_this2.hidePlayerCard(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_COLLAPSE,function(){_this2.hidePlayerCard(),_this2.hideFriends(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_EXPAND_FRIENDS,function(){return _this2.showFriends()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_EXPAND_PLAYER_CARD,function(){return _this2.showPlayerCard()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_EXPAND_NOTIFICATIONS,function(){return _this2.showNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_RESIZED_WINDOW,function(payload){return _this2.addMobileClass(payload)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_LOCALE,function(locale){return _this2.changeLocale(locale)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_GAME,function(installmentIdOrSpaceId){return _this2.changeLastPlayedGame(installmentIdOrSpaceId)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_ENV,function(env){return _this2.changeEnv(env)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,function(type){return _this2.changeFriendsProfileType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_EXTERNAL_LOGIN_TYPE,function(type){return _this2.changeExternalLoginType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_CHANGE_DARK_BACKGROUND,function(toggle){return _this2.handleToggleDarkBackground(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,function(toggle){return _this2.toggleDesktopResize(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,function(toggle){return _this2.toggleSignInText(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_URL,function(url){return _this2.setParentUrl(url)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_SOS_ID,function(ssoID){return _this2.setSsoId(ssoID)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TICKET_ERROR,function(){return _this2.deleteTicket()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TRIGGER_EMAIL_VERIFICATION,function(triggerEmailResponse){return _this2.onTriggerEmailActivation(triggerEmailResponse)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TRIGGER_LOGOUT,function(){return _this2.onTriggerLogout()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TRIGGER_USER_DATA_SUCCESS,function(userData){return _this2.onUserDataSuccess(userData)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TRIGGER_USER_DATA_ERROR,function(){return _this2.onUserDataFailure()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,function(payload){return _this2.onSetConnectLoginUrl(payload.loginUrl,payload.connectUrl)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_GET_TICKET,function(){return _this2.getTicket()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS,function(){return _this2.getConnectCallbacksParams()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_INITIAL_WINDOW_HEIGHT,function(innerHeight){return _this2.setInitalWindowHeight(innerHeight)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_LOGIN,function(payload){return _this2.triggerLogin(payload.status,payload.config)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_LOGOUT,function(){return _this2.triggerLogout()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,function(payload){return _this2.setInitalWindowsParams(payload.innerWidth,payload.innerHeight,payload.iframeBoundingClientRect)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_OPEN_POPUP_WINDOW,function(payload){return _this2.openPopupWindow(payload)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.S_CODE_READY,function(){return _this2.analyticsService.attachSCode()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.S_CODE_REMOVED,function(){return _this2.analyticsService.detachSCode()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_VIEWED,function(){return _this2.viewPrivacyPolicyForTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_ACCEPTED,function(){return _this2.acceptPrivacyPolicyForTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_REFUSED,function(){return _this2.refusePrivacyPolicyForTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_ANALYTICS_OFF,function(){return _this2.removeAdobeAnalyticsTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_ANALYTICS_ON,function(){return _this2.addAdobeAnalyticsTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_OFF,function(){return _this2.removeMediaAnalyticsTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_ON,function(){return _this2.addMediaAnalyticsTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_OFF,function(){return _this2.removeCustomizationTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_ON,function(){return _this2.addCustomizationTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_VIDEOS_OFF,function(){return _this2.removeVideosTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_31__messages__.c.PRIVACY_POLICY_VIDEOS_ON,function(){return _this2.addVideosTracking()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_TOGGLE_LOGIN_TYPE,function(toggle){return _this2.toggleLoginType(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_UPDATE_INTEGRATOR_CONFIG,function(config){return _this2.handleUpdateIntegratorConfiguration(config)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_THIRD_PARTY_COOKIES_SUPPORT,function(payload){return _this2.handleThirdPartyCookiesSupport(payload.thirdPartyCookiesSupport,payload.shouldLogin)}),_this2.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_INITIALIZE),window.parent.parent===window)return resolve()})}},{key:"clickedOnLogout",value:function(noPageLoaderEvents){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.hidePlayerCard(),this.websocketService.close(),noPageLoaderEvents){_context.next=5;break}return _context.next=5,this.pageLoaderService.showPageLoader();case 5:this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_TRIGGER_LOGOUT,{ticket:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId});case 6:case"end":return _context.stop()}},_callee,this)}))}},{key:"loggedIn",value:function(identity,afterLogin,isReInit){var action=__WEBPACK_IMPORTED_MODULE_31__messages__.b.INIT,getTicket={op:"getTicket",status:"error"};afterLogin&&(action=__WEBPACK_IMPORTED_MODULE_31__messages__.b.LOGIN),isReInit&&(action=__WEBPACK_IMPORTED_MODULE_31__messages__.b.REINIT),identity?getTicket={op:identity.opId,status:"ok",payload:{expiration:identity.expiration,ticket:identity.ticket,userId:identity.user_id,sessionId:identity.sessionId,nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_app_selectors__.i)(this.getState())}}:getTicket.errorMessage="no login data available",this.hidePlayerCard(),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_LOGGED_IN,{action:action,getTicket:getTicket})}},{key:"clickedOnFriends",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():(this.analyticsService.trackPage("friends tab","manage friends"),this.showFriends())}},{key:"clickedOnMobileFriends",value:function(){var _this3=this;if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.analyticsService.trackPage("friends tab","manage friends"),this.showFriends()}},{key:"clickedOnPlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())?this.hidePlayerCard():(this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard())}},{key:"clickedOnMobilePlayerCardTab",value:function(){var _this4=this;if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this4.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard()}},{key:"clickedOnMobilePlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())||__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())||__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_18_app_actions_HideMobileTabsAction__.a),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())&&this.hidePlayerCard(),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&this.hideFriends(),void(__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications())):(this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard())}},{key:"clickedOnNotifications",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():(this.analyticsService.trackPage("notifications tab","notifications panel"),this.showNotifications())}},{key:"clickedOnMobileNotifications",value:function(){var _this5=this;if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this5.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.analyticsService.trackPage("notifications tab","notifications panel"),this.showNotifications()}},{key:"clickedOnMenu",value:function(){return this.dispatch(new __WEBPACK_IMPORTED_MODULE_18_app_actions_HideMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_49__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_50__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())?this.hidePlayerCard():__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():void 0}},{key:"clickedOnClosePlayerCard",value:function(){return this.hidePlayerCard()}},{key:"clickedOnCloseFriends",value:function(){return this.hideFriends()}},{key:"clickedOnCloseNotifications",value:function(){return this.hideNotifications()}},{key:"doShowFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context2.next=3;break}return _context2.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 3:this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_ShowFriendsActivityAction__.a),
this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_4_messages__.e.FRIENDS),this.commonActionsService.onExpandFriends(),this.showMobileTabs();case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"showFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context3.next=2;break}return _context3.abrupt("return");case 2:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())){_context3.next=5;break}return _context3.next=5,this.hidePlayerCard(!0);case 5:return __WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowFriends(),_context3.abrupt("return");case 9:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"hideFriends",value:function(shouldNotCollapse){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context4.next=2;break}return _context4.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context4.next=5;break}return _context4.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 5:return _context4.next=7,this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_HideFriendsActivityAction__.a);case 7:if(!shouldNotCollapse){_context4.next=10;break}return document.body.classList.remove("expanded"),_context4.abrupt("return");case 10:return this.hideBackdrop(),this.collapse(),_context4.abrupt("return");case 13:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"doShowPlayerCard",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_43__actions_OverlayOpenAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_4_messages__.e.PLAYER_CARD),this.showMobileTabs(),_context5.abrupt("return");case 6:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"showPlayerCard",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context6.next=2;break}return _context6.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context6.next=5;break}return _context6.next=5,this.hideFriends(!0);case 5:__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowPlayerCard();case 8:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"hidePlayerCard",value:function(shouldNotCollapse){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())){_context7.next=2;break}return _context7.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context7.next=5;break}return _context7.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 5:return _context7.next=7,this.dispatch(new __WEBPACK_IMPORTED_MODULE_44__actions_OverlayCloseAction__.a);case 7:if(!shouldNotCollapse){_context7.next=10;break}return document.body.classList.remove("expanded"),_context7.abrupt("return");case 10:return this.hideBackdrop(),this.collapse(),_context7.abrupt("return");case 13:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"doShowNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(__WEBPACK_IMPORTED_MODULE_48__stores_PopulationsStore__.a.loaded(this.getState())&&__WEBPACK_IMPORTED_MODULE_47__stores_ProfileEntitiesStore__.a.loaded(this.getState())&&__WEBPACK_IMPORTED_MODULE_46__stores_NewsStore__.a.loaded(this.getState())&&this.betaNotificationsService.seenAllNotifications(!0,!1,!0),!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context8.next=4;break}return _context8.next=4,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_23_app_actions_ShowNotificationsPanelAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_ShowMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28_app_actions_ToggleVisitedNotificationsAction__.a((!0))),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_4_messages__.e.NOTIFICATIONS),this.showMobileTabs(),_context8.abrupt("return");case 11:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"showNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context9.next=2;break}return _context9.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context9.next=5;break}return _context9.next=5,this.hideFriends(!0);case 5:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())){_context9.next=8;break}return _context9.next=8,this.hidePlayerCard(!0);case 8:this.doShowNotifications();case 9:case"end":return _context9.stop()}},_callee9,this)}))}},{key:"hideNotifications",value:function(shouldNotCollapse){if(__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())){if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_22_app_actions_HideNotificationsPanelAction__.a),this.betaNotificationsService.seenAllNotifications(!0,!0,!0),shouldNotCollapse)return void document.body.classList.remove("expanded");this.hideBackdrop(),this.collapse()}}},{key:"hideAllTabs",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context10.next=3;break}return _context10.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 3:this.dispatch(new __WEBPACK_IMPORTED_MODULE_44__actions_OverlayCloseAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_HideFriendsActivityAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22_app_actions_HideNotificationsPanelAction__.a),this.hideBackdrop(),this.collapse(),this.hideMobileTabs();case 9:case"end":return _context10.stop()}},_callee10,this)}))}},{key:"showBackdrop",value:function(){return this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_SHOW_BACKDROP)}},{key:"hideBackdrop",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_HIDE_BACKDROP)}},{key:"expand",value:function(panel){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_EXPAND),_context11.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},301)});case 3:document.body.classList.add("expanded"),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getIsIos()&&document.body.classList.add("is-ios"),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,"100vh");case 6:case"end":return _context11.stop()}},_callee11,this)}))}},{key:"collapse",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee12(){return regeneratorRuntime.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:this.dispatch(new __WEBPACK_IMPORTED_MODULE_18_app_actions_HideMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_49__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_50__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_COLLAPSE),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getCollapsedHeight(this.getState())+"px"),document.body.classList.remove("expanded");case 6:case"end":return _context12.stop()}},_callee12,this)}))}},{key:"showMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS)}},{key:"hideMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS)}},{key:"addMobileClass",value:function(windowSize){return this.windowsHeight=windowSize.innerHeight,this.windowsWidth=windowSize.innerWidth,this.iframeBoundingClientRect=windowSize.iframeBoundingClientRect,this.commonActionsService.changeIframeWidthInCorelationToParentWindowWidth(windowSize.innerWidth,windowSize.innerHeight,windowSize.iframeBoundingClientRect),windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_RESIZE_WIDTH||windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_4_messages__.a.WIDGET_MOBILE_WIDTH&&windowSize.innerHeight<windowSize.innerWidth&&__WEBPACK_IMPORTED_MODULE_20_app_modules_integrator_communication_services_WidgetService__.a.isMobileDevice()?(document.body.classList.contains("mobile")||document.body.classList.add("mobile"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_ResizeWidgetAction__.a((!0)))):(document.body.classList.contains("mobile")&&document.body.classList.remove("mobile"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_ResizeWidgetAction__.a((!1)))),__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowMobileTabs(this.state)&&this.showMobileTabs(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_54__actions_ResizeWindowInnerHeightAction__.a(windowSize.innerHeight)),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_RESIZE,{isInExpandedMode:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_42__selectors__.r)(this.getState())||__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())||__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getShowFriends(this.getState()),showSignInText:__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText,locale:__WEBPACK_IMPORTED_MODULE_51__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())})}},{key:"openLoginModal",value:function(connectIFrameUrl){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,connectIFrameUrl)}},{key:"changeLocale",value:function(locale){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee13(){return regeneratorRuntime.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return"ar-ae"===locale.toLowerCase()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_29__actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_30__actions_DeselectArabLanguageAction__.a),this.dispatchIntegratorGetIframeBoundingClientRect(),_context13.prev=2,_context13.next=5,this.translatorService.loadLocale(locale);case 5:_context13.next=10;break;case 7:_context13.prev=7,_context13.t0=_context13["catch"](2),locale="en-GB";case 10:this.translatorService.changeLocale(locale),_context13.prev=11,_context13.t1=locale,_context13.next="en-GB"===_context13.t1?15:"en-US"===_context13.t1?18:"en-CA"===_context13.t1?18:"pt-BR"===_context13.t1?20:"zh-CN"===_context13.t1?22:"zh-TW"===_context13.t1?24:"zh-HK"===_context13.t1?24:26;break;case 15:return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}}),this.translatorService.registerDateLocale("en-gb"),_context13.abrupt("break",26);case 18:return this.translatorService.registerDateLocale("en"),_context13.abrupt("break",26);case 20:return this.translatorService.registerDateLocale("pt-br"),_context13.abrupt("break",26);case 22:return this.translatorService.registerDateLocale("zh-cn"),_context13.abrupt("break",26);case 24:return this.translatorService.registerDateLocale("zh-tw"),_context13.abrupt("break",26);case 26:_context13.next=31;break;case 28:_context13.prev=28,_context13.t2=_context13["catch"](11),console.warn(_context13.t2);case 31:if(this.analyticsService.changeLanguage(),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_CHANGE_LOCALE,{locale:locale,showSignInText:__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText}),!__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())||!__WEBPACK_IMPORTED_MODULE_41__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(this.getState())){_context13.next=38;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14_app_actions_LoadingRewardsAction__.a),_context13.next=38,Promise.all([this.gamesService.loadMyLastPlayedGameStatsCard(),this.rewardsService.loadUserRewards(__WEBPACK_IMPORTED_MODULE_41__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()))]);case 38:case"end":return _context13.stop()}},_callee13,this,[[2,7],[11,28]])}))}},{key:"changeLastPlayedGame",value:function(installmentIdOrSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee14(){return regeneratorRuntime.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,this.commonActionsService.changeLastPlayedGame(installmentIdOrSpaceId);case 2:case"end":return _context14.stop()}},_callee14,this)}))}},{key:"changeEnv",value:function(env){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee15(){return regeneratorRuntime.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:_context15.next=12;break;case 3:_context15.t0=env,_context15.next="cert2"===_context15.t0?6:"dev"===_context15.t0?6:"dev-prod"===_context15.t0?6:"local-prod"===_context15.t0?6:"prod"===_context15.t0?6:"uat"===_context15.t0?6:"uat-prod"===_context15.t0?6:9;break;case 6:return _context15.next=8,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_25__stejar_http__.HttpRequest(__webpack_require__(193)("./"+env+".json")));case 8:return _context15.abrupt("return");case 9:return _context15.next=11,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_25__stejar_http__.HttpRequest(__webpack_require__(226)));case 11:return _context15.abrupt("return");case 12:return _context15.abrupt("return");case 13:case"end":return _context15.stop()}},_callee15,this)}))}},{key:"resetSateForConfigChange",value:function(request){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee16(){var configCall;return regeneratorRuntime.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.abrupt("return",Promise.resolve());case 2:return _context16.next=4,this.pageLoaderService.showPageLoader();case 4:if(!__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticationQueries.hasIdentity(this.state)){_context16.next=7;break}return _context16.next=7,this.clickedOnLogout();case 7:return _context16.next=9,this.loadConfig(request);case 9:return configCall=_context16.sent,this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_TRIGGER_CHANGE_CONFIG,configCall),_context16.next=13,this.pageLoaderService.hidePageLoader();case 13:return _context16.abrupt("return",configCall);case 14:case"end":return _context16.stop()}},_callee16,this)}))}},{key:"loadConfig",value:function(request){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee18(){var _this6=this;return regeneratorRuntime.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.abrupt("return",Promise.resolve());case 2:return _context18.next=4,this.httpService.send(request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(newConfig){return __awaiter(_this6,void 0,void 0,regeneratorRuntime.mark(function _callee17(){return regeneratorRuntime.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.prev=0,localStorage.setItem("overlay-env-v3",JSON.stringify(newConfig.env)),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_ENV_LOADED,newConfig),this.dispatch(new __WEBPACK_IMPORTED_MODULE_26_app_actions_LoadedEnvAction__.a(newConfig.env)),_context17.next=6,this.configurationService.loadConfiguration();case 6:return _context17.abrupt("return",newConfig);case 9:return _context17.prev=9,_context17.t0=_context17["catch"](0),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_ENV_LOADED,newConfig),this.dispatch(new __WEBPACK_IMPORTED_MODULE_26_app_actions_LoadedEnvAction__.a(newConfig.env)),_context17.next=15,this.configurationService.loadConfiguration();case 15:return _context17.abrupt("return",newConfig);case 16:case"end":return _context17.stop()}},_callee17,this,[[0,9]])}))});case 4:return _context18.abrupt("return",_context18.sent);case 5:case"end":return _context18.stop()}},_callee18,this)}))}},{key:"changeFriendsProfileType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{clickFriendsProfileType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"changeExternalLoginType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{loginExternalType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleSignInText",value:function(toggle){var showSignInText=toggle?toggle:__WEBPACK_IMPORTED_MODULE_31__messages__.d.DEFAULT,config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{showSignInText:showSignInText}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleToggleDarkBackground",value:function(toggle){var config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state),darkBackground="true"===toggle;config=Object.assign({},config,{darkBackground:darkBackground}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleDesktopResize",value:function(toggle){var isInDesktopResize="true"==toggle,config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{isInDesktopResize:isInDesktopResize}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"setParentUrl",value:function(url){this.dispatch(new __WEBPACK_IMPORTED_MODULE_32__actions_SetParentUrlAction__.a(url))}},{key:"setSsoId",value:function(ssoId){this.dispatch(new __WEBPACK_IMPORTED_MODULE_33__actions_SetSsoIdAction__.a(ssoId))}},{key:"deleteTicket",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_39__actions_DeleteCONNECTloginDataAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction)}},{key:"changeIframeUrl",value:function(){}},{key:"onTriggerEmailActivation",value:function(triggerEmailResponse){this.emailVerificationService.callback(triggerEmailResponse)}},{key:"onTriggerLogout",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee19(){var env;return regeneratorRuntime.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:env=__WEBPACK_IMPORTED_MODULE_27_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_LOGGED_OUT,{opId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).opId,status:"error",errorMessage:"no login data available"}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_39__actions_DeleteCONNECTloginDataAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction);try{window.clearStores.purge()}catch(error){console.error(error)}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_26_app_actions_LoadedEnvAction__.a(env)),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,__WEBPACK_IMPORTED_MODULE_5_app_queries_WidgetQueries__.a.getCollapsedHeight(this.getState())+"px"),_context19.next=9,this.pageLoaderService.hidePageLoader();case 9:return _context19.abrupt("return",_context19.sent);case 10:case"end":return _context19.stop()}},_callee19,this)}))}},{key:"onUserDataSuccess",value:function(userData){userData&&userData.payload&&userData.payload.status&&userData.payload.status.generalStatus==__WEBPACK_IMPORTED_MODULE_53__authentication_entities_Window__.d.PENDING_ACTIVATION&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_35__actions_UserEmailVerificationAction__.a((!0),(!1))),userData&&userData.payload&&userData.payload.status&&userData.payload.status.generalStatus==__WEBPACK_IMPORTED_MODULE_53__authentication_entities_Window__.d.ACTIVATED&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_35__actions_UserEmailVerificationAction__.a((!1),(!1)))}},{key:"onUserDataFailure",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_35__actions_UserEmailVerificationAction__.a((!1),(!1)))}},{key:"onSetConnectLoginUrl",value:function(loginUrl,connectUrl){this.dispatch(new __WEBPACK_IMPORTED_MODULE_36__actions_ConnectLoginUrlAction__.a(loginUrl,connectUrl))}},{key:"getTicket",value:function(){var data={nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_app_selectors__.i)(this.getState())};__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())&&(data={opId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).opId,status:"ok",expiration:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).expiration,sessionId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId,ticket:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,user_id:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).user_id,nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_app_selectors__.i)(this.getState())}),this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_GET_TICKET,data)}},{key:"getConnectCallbacksParams",value:function(){var object={ticket:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket:null,userId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).user_id:null,sessionId:__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId:null};this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,object)}},{key:"setInitalWindowHeight",value:function(innerHeight){this.windowsHeight=innerHeight}},{key:"dispatchIntegratorGetIframeBoundingClientRect",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT)}},{key:"setInitalWindowsParams",value:function(innerWidth,innerHeight,iframeClient){this.windowsWidth=innerWidth,this.windowsHeight=innerHeight,this.iframeBoundingClientRect=iframeClient}},{key:"triggerLogin",value:function(status,overwriteConfig){__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())||this.login(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_app_selectors__.s)(this.getState(),{status:this.commonActionsService.getIframeCheckThirdPartyCookiesSupport(),overwriteConfig:overwriteConfig}),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasExternalLoginType(this.getState()),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLoginType(this.getState()))}},{key:"triggerLogout",value:function(){__WEBPACK_IMPORTED_MODULE_9_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())&&this.clickedOnLogout()}},{key:"popupWindow",value:function(url,title){var width=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,height=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_OPEN_POPUP_WINDOW,{url:url,title:title,width:width,height:height})}},{key:"login",value:function(loginUrl,hasExternalLoginType,loginType){try{if(localStorage.setItem("hasLocalStorage","true"),hasExternalLoginType)return void this.popupWindow(loginUrl,"Ubisoft Connect",480,800);if(navigator.userAgent.match(/Trident.*rv[ :]*11\./)||navigator.userAgent.indexOf("Instagram")!==-1||navigator.userAgent.indexOf("FBAV")!==-1||navigator.userAgent.indexOf("FBAN")!==-1)return void this.openLoginModal(loginUrl);if(navigator.userAgent.match("CriOS")&&navigator.userAgent.match(/iphone|ipod|ipad/i))return void this.openLoginModal(loginUrl);if(navigator.userAgent.match(/Version\/[\d\.]+.*Safari/))return navigator.userAgent.match(/iphone|ipod|ipad/i)?void window.open(loginUrl):void this.popupWindow(loginUrl,"Ubisoft Connect",480,800);switch(loginType){case __WEBPACK_IMPORTED_MODULE_56__configuration_entities_IntegratorConfig__.b.LOGIN_TYPE_MODAL:this.openLoginModal(loginUrl);break;case __WEBPACK_IMPORTED_MODULE_56__configuration_entities_IntegratorConfig__.b.LOGIN_TYPE_POPUP:this.popupWindow(loginUrl,"Ubisoft Connect",480,800)}return}catch(e){return void this.popupWindow(loginUrl,"Ubisoft Connect",480,800)}}},{key:"openPopupWindow",value:function(payload){var left=(payload.availWidth-payload.width)/2+payload.availLeft,top=(payload.availHeight-payload.height)/2+payload.availTop;try{var newWindow=window.open(payload.url,payload.title,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width="+payload.width+",height="+payload.height+",left="+Math.ceil(left)+",top="+Math.ceil(top));window.focus&&newWindow.focus()}catch(error){console.error(error)}}},{key:"viewPrivacyPolicyForTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Viewd privacy policy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_POLICY_VIEWED,"true",182,"ubisoft.com")}},{key:"acceptPrivacyPolicyForTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Accept privacy policy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_POLICY_ACCEPTED,"true",182,"ubisoft.com")}},{key:"refusePrivacyPolicyForTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Refuse privacy policy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_POLICY_ACCEPTED,"",-1,"ubisoft.com")}},{key:"removeAdobeAnalyticsTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Refuse adobe analytics privacy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_AA_OPTOUT,"true",182,"ubisoft.com"),this.analyticsService.detachSCode()}},{key:"addAdobeAnalyticsTracking",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee20(){return regeneratorRuntime.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return this.debugService.log("[Ubisoft Analytics] Accept adobe analytics privacy"),this.analyticsService.setCookieIfItDoesExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_AA_OPTOUT,"",-1,"ubisoft.com"),_context20.next=4,this.analyticsService.attachSCode();case 4:case"end":return _context20.stop()}},_callee20,this)}))}},{key:"removeMediaAnalyticsTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Refuse ads privacy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_ADS_OPTOUT,"true",182,"ubisoft.com")}},{key:"addMediaAnalyticsTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Accept ads privacy"),this.analyticsService.setCookieIfItDoesExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_ADS_OPTOUT,"",-1,"ubisoft.com")}},{key:"removeCustomizationTracking",
value:function(){this.debugService.log("[Ubisoft Analytics] Refuse customization privacy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_CUSTOMIZATION_OPTOUT,"true",182,"ubisoft.com")}},{key:"addCustomizationTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Accept customization privacy"),this.analyticsService.setCookieIfItDoesExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_CUSTOMIZATION_OPTOUT,"",-1,"ubisoft.com")}},{key:"removeVideosTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Refuse video privacy"),this.analyticsService.setCookieIfItDoesNotExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_VIDEO_OPTOUT,"true",182,"ubisoft.com")}},{key:"addVideosTracking",value:function(){this.debugService.log("[Ubisoft Analytics] Accept video privacy"),this.analyticsService.setCookieIfItDoesExist(__WEBPACK_IMPORTED_MODULE_60__analytics_entities_Cookies__.a.UBI_PRIVACY_VIDEO_OPTOUT,"",-1,"ubisoft.com")}},{key:"toggleLoginType",value:function(loginType){if(loginType===__WEBPACK_IMPORTED_MODULE_56__configuration_entities_IntegratorConfig__.b.LOGIN_TYPE_MODAL||loginType===__WEBPACK_IMPORTED_MODULE_56__configuration_entities_IntegratorConfig__.b.LOGIN_TYPE_POPUP){var config=__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=__assign({},config,{loginType:loginType}),this.integratorConfigurationService.loadConfiguration(config)}}},{key:"handleUpdateIntegratorConfiguration",value:function(config){Object.prototype.hasOwnProperty.call(config,"enableDebug")&&(this.channel.setDebug(config.enableDebug),this.generalChannel.setDebug(config.enableDebug),this.debugService.setDebug(config.enableDebug)),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleThirdPartyCookiesSupport",value:function(thirdPartyCookiesSupport,shouldLogin){this.dispatch(new __WEBPACK_IMPORTED_MODULE_61__actions_ThirdPartyCookiesSupportAction__.a(thirdPartyCookiesSupport)),shouldLogin&&this.login(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_app_selectors__.s)(this.getState(),{status:this.commonActionsService.getIframeCheckThirdPartyCookiesSupport()}),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasExternalLoginType(this.getState()),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLoginType(this.getState()))}},{key:"triggerThirdPartyStatusCheckAndLogin",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_GET_THIRD_PARTY_STATUS_FOR_LOGIN,!0)}},{key:"handleOnFriendAction",value:function(pid,state){this.channel.send(__WEBPACK_IMPORTED_MODULE_4_messages__.a.INTEGRATOR_ON_FRIEND_ACTION,{pid:pid,state:state})}},{key:"getWindowsWidth",value:function(){return this.windowsWidth}},{key:"getWindowsHeight",value:function(){return this.windowsHeight}},{key:"getIframeBoundingClientRect",value:function(){return this.iframeBoundingClientRect}}]),CommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);CommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_57__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_services_IntegratorConfigurationService__.a,__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_52__locale_services_TranslatorService__.a,__WEBPACK_IMPORTED_MODULE_12_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_13_app_services_RewardsService__.a,__WEBPACK_IMPORTED_MODULE_11_app_modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_21_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_25__stejar_http__.HttpService,__WEBPACK_IMPORTED_MODULE_34__EmailVerificationService__.a,__WEBPACK_IMPORTED_MODULE_37__services_WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_38__services_GeneralChannelService__.a,__WEBPACK_IMPORTED_MODULE_40__stejar_configuration__.ConfigurationService,__WEBPACK_IMPORTED_MODULE_45__services_BetaNotificationsService__.a,__WEBPACK_IMPORTED_MODULE_55__services_MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_59__services_DebugService__.a,__WEBPACK_IMPORTED_MODULE_62__services_WebsocketService__.a,__WEBPACK_IMPORTED_MODULE_63__CommonActionsService__.a])],CommunicationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(8));__webpack_require__.d(exports,"a",function(){return WidgetQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WidgetQueries=function(){function WidgetQueries(){_classCallCheck(this,WidgetQueries)}return _createClass(WidgetQueries,null,[{key:"computeScrollbarHeight",value:function(isInMobileView,windowInnerHeight,collapsedHeight,trackingBannerHeight,isInDesktopResize,show){return isInMobileView?"calc("+windowInnerHeight+"px - 4.8rem - "+collapsedHeight+"px - "+trackingBannerHeight+"px)":show?isInDesktopResize?"calc(100vh - 4.8rem - "+collapsedHeight+"px - "+trackingBannerHeight+"px)":"calc(100vh - "+collapsedHeight+"px - "+trackingBannerHeight+"px)":"0px"}},{key:"computeScrollbarContainerHeight",value:function(isInMobileView,windowInnerHeight,collapsedHeight,isInDesktopResize,show){return isInMobileView?"calc("+windowInnerHeight+"px - 4.8rem - "+collapsedHeight+"px)":show?isInDesktopResize?"calc(100vh - 4.8rem - "+collapsedHeight+"px)":"calc(100vh - "+collapsedHeight+"px)":"0px"}}]),WidgetQueries}();WidgetQueries.getShowFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowFriends",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showFriends}),WidgetQueries.getShowMobileTabs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowMobileTabs",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showMobileTabs}),WidgetQueries.getBooted=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getBooted",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.booted}),WidgetQueries.getIsInMobileView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getIsInMobileView",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.isInMobileView}),WidgetQueries.getNoActiveClickOnMenu=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getNoActiveClickOnMenu",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.noActiveClickOnMenu}),WidgetQueries.getNewLastPlayGameInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getNewLastPlayGameInstallmentId",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.newLastPlayGameInstallmentId}),WidgetQueries.getShowNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowNotifications",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showNotifications}),WidgetQueries.getIsOnArabLocale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getIsOnArabLocale",function(state){return state.WidgetStore},__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasArabLanguage,function(widgetStore,hasArabLanguage){return null===widgetStore.isOnArabLocale?hasArabLanguage:widgetStore.isOnArabLocale}),WidgetQueries.isSafari=function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},WidgetQueries.getShowPlayerCardDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowPlayerCardDetails",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showPlayerCardDetails}),WidgetQueries.getShowFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowFriendsDetails",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showFriendsDetails}),WidgetQueries.getShowDetailsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowDetailsView",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showDetailsView}),WidgetQueries.getShowMobileViewOnDesktop=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowMobileViewOnDesktop",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showMobileViewOnDesktop}),WidgetQueries.getIosVersion=function(){var version=null;if(/iP(hone|od|ad)/.test(navigator.platform)){var match=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(void 0!==match&&null!==match){var paseVersion=[parseInt(match[1],10),parseInt(match[2],10),parseInt(match[3],10)];version=paseVersion[0]}}return version},WidgetQueries.getisOnIpad=function(){return/iPad/.test(navigator.platform)},WidgetQueries.getIsIsoVersionLowerThanNine=function(){return null!==WidgetQueries.getIosVersion()&&WidgetQueries.getIosVersion()<=9},WidgetQueries.getIsIos=function(){return null!==WidgetQueries.getIosVersion()},WidgetQueries.getRemCoefSize=function(){return document.querySelector("html").style&&document.querySelector("html").style.fontSize?parseFloat(document.querySelector("html").style.fontSize.replace(/[^0-9\.]+/g,"")):10},WidgetQueries.getParentUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getParentUrl",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.parentUrl}),WidgetQueries.getSsoId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getSsoId",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.ssoId}),WidgetQueries.getConnectUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getConnectUrl",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.connectUrl}),WidgetQueries.getCONNECTloginData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getCONNECTloginData",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.CONNECTloginData}),WidgetQueries.getStartedPanelFlow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getStartedPanelFlow",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.startedPanelFlow}),WidgetQueries.getShowStatsHeaderOnPlayerCardDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowStatsHeaderOnPlayerCardDetails",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showStatsHeaderOnPlayerCardDetails}),WidgetQueries.getShowStatsHeaderOnFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowStatsHeaderOnFriendsDetails",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showStatsHeaderOnFriendsDetails}),WidgetQueries.getShowNameHeaderOnFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getShowNameHeaderOnFriendsDetails",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showNameHeaderOnFriendsDetails}),WidgetQueries.getTrackingBannerHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getTrackingBannerHeight",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.trackingBannerHeight}),WidgetQueries.getCollapsedHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarWidth",WidgetQueries.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getMobileHeight,function(inMobileView,height,mobileHeight){return inMobileView&&mobileHeight?mobileHeight:height?height:50}),WidgetQueries.getWindowInnerHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getWindowInnerHeight",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.windowInnerHeight}),WidgetQueries.getThirdPartyCookiesSupport=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getThirdPartyCookiesSupport",function(state){return state.WidgetStore},function(widgetStore){return widgetStore.thirdPartyCookiesSupport}),WidgetQueries.getScrollbarContainerHeightForFriendsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarContainerHeightForFriendsView",WidgetQueries.getIsInMobileView,WidgetQueries.getWindowInnerHeight,WidgetQueries.getCollapsedHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,WidgetQueries.getShowFriends,WidgetQueries.computeScrollbarContainerHeight),WidgetQueries.getScrollbarContainerMaxHeightForFriendsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarContainerMaxHeightForFriendsView",WidgetQueries.getIsInMobileView,WidgetQueries.getScrollbarContainerHeightForFriendsView,function(isInMobileView,height){return isInMobileView?null:height}),WidgetQueries.getTopPositionForScrollbarContainer=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getTopPositionForScrollbarContainer",__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,WidgetQueries.getIsInMobileView,WidgetQueries.getCollapsedHeight,function(isInDesktopResize,isInMobileView,collapsedHeight){return isInDesktopResize||isInMobileView?"calc("+collapsedHeight+"px + 4.8rem)":collapsedHeight+"px"}),WidgetQueries.getScrollbarHeightForFriendsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarHeightForFriendsView",WidgetQueries.getIsInMobileView,WidgetQueries.getWindowInnerHeight,WidgetQueries.getCollapsedHeight,WidgetQueries.getTrackingBannerHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,WidgetQueries.getShowFriends,WidgetQueries.computeScrollbarHeight),WidgetQueries.getScrollbarContainerHeightForNotificationsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarContainerHeightForNotificationsView",WidgetQueries.getIsInMobileView,WidgetQueries.getWindowInnerHeight,WidgetQueries.getCollapsedHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,WidgetQueries.getShowNotifications,WidgetQueries.computeScrollbarContainerHeight),WidgetQueries.getScrollbarContainerMaxHeightForNotificationsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarContainerMaxHeightForNotificationsView",WidgetQueries.getIsInMobileView,WidgetQueries.getScrollbarContainerHeightForNotificationsView,function(isInMobileView,height){return isInMobileView?null:height}),WidgetQueries.getScrollbarHeightForNotificationsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("WidgetQueries.getScrollbarHeightForNotificationsView",WidgetQueries.getIsInMobileView,WidgetQueries.getWindowInnerHeight,WidgetQueries.getCollapsedHeight,WidgetQueries.getTrackingBannerHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,WidgetQueries.getShowNotifications,WidgetQueries.computeScrollbarHeight)},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedUbisoftGamesAction__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UbisoftGamesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UbisoftGamesStore=function(_ReducerStore){function UbisoftGamesStore(){_classCallCheck(this,UbisoftGamesStore);var _this=_possibleConstructorReturn(this,(UbisoftGamesStore.__proto__||Object.getPrototypeOf(UbisoftGamesStore)).call(this));return _this.bind(null,function(){return{bySpaceId:{},byPlatformApplicationId:{},platformsApplicationsIdsByParentSpaceId:{},platformsByApplicationId:{},byInstallmentSpaceId:{},bySiblingSpaceId:{},siblingsSpaceIdsByParentSpaceId:{},spaceIds:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedUbisoftGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__.a.name,_this.handlePurgeAction),_this}return _inherits(UbisoftGamesStore,_ReducerStore),_createClass(UbisoftGamesStore,[{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state)}},{key:"handlePurgeAction",value:function(state,action){return{bySpaceId:{},byPlatformApplicationId:{},platformsApplicationsIdsByParentSpaceId:{},platformsByApplicationId:{},byInstallmentSpaceId:{},bySiblingSpaceId:{},siblingsSpaceIdsByParentSpaceId:{},spaceIds:[],expiration:{}}}},{key:"handleLoadedGamesAction",value:function(state,action){var platformsApplicationsIdsByParentSpaceId={};Object.keys(action.platformsApplicationsIdsByParentSpaceId).forEach(function(spaceId){platformsApplicationsIdsByParentSpaceId[spaceId]=state.platformsApplicationsIdsByParentSpaceId[spaceId]?state.platformsApplicationsIdsByParentSpaceId[spaceId].filter(function(applicationId){return!action.platformsApplicationsIdsByParentSpaceId[spaceId].includes(applicationId)}).concat(action.platformsApplicationsIdsByParentSpaceId[spaceId]):action.platformsApplicationsIdsByParentSpaceId[spaceId]});var siblingsSpaceIdsByParentSpaceId={};return Object.keys(action.siblingsSpaceIdsByParentSpaceId).forEach(function(spaceId){siblingsSpaceIdsByParentSpaceId[spaceId]=state.siblingsSpaceIdsByParentSpaceId[spaceId]?state.siblingsSpaceIdsByParentSpaceId[spaceId].filter(function(siblingSpaceId){return!action.siblingsSpaceIdsByParentSpaceId[spaceId].includes(siblingSpaceId)}).concat(action.siblingsSpaceIdsByParentSpaceId[spaceId]):action.siblingsSpaceIdsByParentSpaceId[spaceId]}),__assign({},state,{bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),platformsByApplicationId:__assign({},state.platformsByApplicationId,action.platformsByApplicationId),byPlatformApplicationId:__assign({},state.byPlatformApplicationId,action.byPlatformApplicationId),platformsApplicationsIdsByParentSpaceId:__assign({},state.platformsApplicationsIdsByParentSpaceId,platformsApplicationsIdsByParentSpaceId),byInstallmentSpaceId:__assign({},state.byInstallmentSpaceId,action.byInstallmentSpaceId),bySiblingSpaceId:__assign({},state.bySiblingSpaceId,action.bySiblingSpaceId),siblingsSpaceIdsByParentSpaceId:__assign({},state.siblingsSpaceIdsByParentSpaceId,siblingsSpaceIdsByParentSpaceId),spaceIds:state.spaceIds.filter(function(id){return!action.spaceIds.includes(id)}).concat(action.spaceIds),expiration:__assign({},state.expiration,action.expiration)})}}]),UbisoftGamesStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);UbisoftGamesStore.getState=function(state){return state.UbisoftGamesStore},UbisoftGamesStore.getBySpaceId=function(state){return state.UbisoftGamesStore.bySpaceId},UbisoftGamesStore.getPlatformsByApplicationId=function(state){return state.UbisoftGamesStore.platformsByApplicationId},UbisoftGamesStore.getByPlatformApplicationId=function(state){return state.UbisoftGamesStore.byPlatformApplicationId},UbisoftGamesStore.getPlatformsApplicationsIdsByParentSpaceId=function(state){return state.UbisoftGamesStore.platformsApplicationsIdsByParentSpaceId},UbisoftGamesStore.getByInstallmentSpaceId=function(state){return state.UbisoftGamesStore.byInstallmentSpaceId},UbisoftGamesStore.getBySiblingSpaceId=function(state){return state.UbisoftGamesStore.bySiblingSpaceId},UbisoftGamesStore.getSiblingsSpaceIdsByParentSpaceId=function(state){return state.UbisoftGamesStore.siblingsSpaceIdsByParentSpaceId},UbisoftGamesStore.getSpaceIds=function(state){return state.UbisoftGamesStore.spaceIds},UbisoftGamesStore.getExpiration=function(state){return state.UbisoftGamesStore.expiration},UbisoftGamesStore.loaded=function(state){return state.LoadersStore.UbisoftGamesStore},UbisoftGamesStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],UbisoftGamesStore)},,,function(module,exports,__webpack_require__){"use strict";function LoaderView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("load-element-container",{"in":!props.loaded,hidden:props.loaded})},props.loaded?null:React.createElement("svg",{viewBox:"0 0 80 80",className:"css-gzkt9r"},React.createElement("circle",{fill:"none",strokeWidth:"15",strokeLinecap:"round",cx:"40",cy:"40",r:"30",className:"css-1x3cl5m"})))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=LoaderView},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_2_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__),__webpack_require__(77)),__WEBPACK_IMPORTED_MODULE_4__WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_5__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__=__webpack_require__(323),__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__=__webpack_require__(135),__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__=__webpack_require__(55);__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselQueries});var OtherGamesCarouselQueries=function OtherGamesCarouselQueries(){_classCallCheck(this,OtherGamesCarouselQueries)};OtherGamesCarouselQueries.getOtherGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getOtherGamesPlayed",__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_4__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomStoreBuyButton,function(applicationsByUserId,byPlatformApplicationId,bySpaceId,lastSessionDates,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,userId,newInstallmentId,configInstallmentId,siblingsSpaceIdsByParentSpaceId,customStoreBuyButton){var games=__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getGamesPlayed(applicationsByUserId,userId,byPlatformApplicationId,bySpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,lastSessionDates,siblingsSpaceIdsByParentSpaceId,customStoreBuyButton);if(!configInstallmentId&&!newInstallmentId)return games;if(configInstallmentId||newInstallmentId){var offset=null,foundGame=null,installmentId=newInstallmentId?newInstallmentId:configInstallmentId;games.find(function(game,index){return(game.installmentId==installmentId||game.spaceId==installmentId||__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.isInSiblingsSpaceIds(siblingsSpaceIdsByParentSpaceId,game.spaceId,installmentId))&&(offset=index,foundGame=game),game.installmentId==installmentId||game.spaceId==installmentId||__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.isInSiblingsSpaceIds(siblingsSpaceIdsByParentSpaceId,game.spaceId,installmentId)}),foundGame&&(games.splice(offset,1),games.unshift(foundGame))}return games}),OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__.a.getSelectedSpaceAppByGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,function(spaceId,id,selectedAppIdByGameId,games){return id&&selectedAppIdByGameId[id]?selectedAppIdByGameId[id].spaceId:spaceId?spaceId:games.length?games[0].spaceId:null}),OtherGamesCarouselQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId",OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,function(state,props){return props&&props.spaceId?props.spaceId:null},function(currentLastPlayedGameSpaceId,siblingsSpaceIdsByParentSpaceId,gamesBySpaceId,spaceId){var spaceIdToSearchBy=currentLastPlayedGameSpaceId;return!spaceId||currentLastPlayedGameSpaceId&&currentLastPlayedGameSpaceId==spaceId||(spaceIdToSearchBy=spaceId),spaceIdToSearchBy&&gamesBySpaceId&&gamesBySpaceId[spaceIdToSearchBy]&&gamesBySpaceId[spaceIdToSearchBy].installmentDefault?spaceIdToSearchBy:spaceIdToSearchBy&&siblingsSpaceIdsByParentSpaceId&&siblingsSpaceIdsByParentSpaceId[spaceIdToSearchBy]?siblingsSpaceIdsByParentSpaceId[spaceIdToSearchBy].find(function(siblingsSpaceId){return gamesBySpaceId[siblingsSpaceId]&&gamesBySpaceId[siblingsSpaceId].installmentDefault;
}):null}),OtherGamesCarouselQueries.getCurrentLastPlayedGameAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameAppId,__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__.a.getSelectedSpaceAppByGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,function(applicationId,id,selectedAppIdByGameId,games,applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId){var ownedAppIds=games.length?__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,games[0]):[];return id&&selectedAppIdByGameId[id]&&selectedAppIdByGameId[id].appId?selectedAppIdByGameId[id].appId:applicationId?applicationId:games.length&&ownedAppIds.length?ownedAppIds[0]:null}),OtherGamesCarouselQueries.getCurrentLastPlayedGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameId",__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,function(id,games){return id?id:games.length?games[0].id:null}),OtherGamesCarouselQueries.getCurrentGameSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameSpaceIds",OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId,OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_4__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,function(currentGameSpaceId,otherGamesPlayed,installmentId,gamesById,userId,siblingsSpaceIdsByParentSpaceId){var gameSpaceId=null;return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.find)(gamesById,function(game){var condition=game.id==installmentId||game.spaceId==installmentId||__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.isInSiblingsSpaceIds(siblingsSpaceIdsByParentSpaceId,game.spaceId,installmentId);return condition&&(gameSpaceId=game.spaceId),condition}),gameSpaceId?siblingsSpaceIdsByParentSpaceId[gameSpaceId]?siblingsSpaceIdsByParentSpaceId[gameSpaceId].concat(gameSpaceId):[gameSpaceId]:currentGameSpaceId?siblingsSpaceIdsByParentSpaceId[currentGameSpaceId]?siblingsSpaceIdsByParentSpaceId[currentGameSpaceId].concat(currentGameSpaceId):[currentGameSpaceId]:otherGamesPlayed.length?siblingsSpaceIdsByParentSpaceId[otherGamesPlayed[0].spaceId].concat(otherGamesPlayed[0].spaceId):[]}),OtherGamesCarouselQueries.getCurrentGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatforms",OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(spaceId,platformsApplicationsIdsByParentSpaceId,platformsById){return spaceId&&platformsApplicationsIdsByParentSpaceId[spaceId]?platformsApplicationsIdsByParentSpaceId[spaceId].map(function(appId){return platformsById[appId]}):[]}),OtherGamesCarouselQueries.getComputedGameByInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getComputedGameByInstallmentId",__WEBPACK_IMPORTED_MODULE_4__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId,OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_5__selectors__.d,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_5__selectors__.e,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySiblingSpaceId,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomStoreBuyButton,function(newInstallmentId,configInstallmentId,otherGames,gamesByInstallmentId,userId,gamesSorted,lastSessionDates,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,bySpaceId,siblingsSpaceIdsByParentSpaceId,bySiblingSpaceId,applicationsByUserId,customStoreBuyButton){var installmentId=newInstallmentId||configInstallmentId;if(otherGames.find(function(game){return game.installmentId==installmentId||game.spaceId==installmentId||__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.isInSiblingsSpaceIds(siblingsSpaceIdsByParentSpaceId,game.spaceId,installmentId)}))return null;var newestGame=null;if(gamesSorted.length>0){var foundGame=gamesSorted.find(function(game){return!(!game.links||!game.links.store)});foundGame||(foundGame=gamesSorted[0]);var ownedAppIds=__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,foundGame),platform=ownedAppIds.length?platformsByApplicationId[ownedAppIds[0]]:platformsByApplicationId[platformsApplicationsIdsByParentSpaceId[foundGame.spaceId][0]];newestGame={spaceId:foundGame.spaceId,gameName:foundGame.title,gameCleanUrl:foundGame.cleanUrl,id:foundGame.id,publishedAt:foundGame.publishedAt,platformCode:platform?platform.displayName:"",platformType:platform?platform.type:"",installmentId:foundGame.id,userId:userId,imageUrl:foundGame.thumbUrl,lastPlayedDate:lastSessionDates[userId]&&platform?lastSessionDates[userId][platform.applicationId]:null,isOwned:ownedAppIds.length>0,applicationId:platform?platform.applicationId:null,coverUrl:foundGame.coverUrl,shopUrl:__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getShopUrl(foundGame,customStoreBuyButton)}}if(otherGames.length<=0&&gamesSorted.length>0&&!newInstallmentId&&!configInstallmentId)return newestGame;var computedGameByInstallmentId=OtherGamesCarouselQueries.computeGameByInstallmentIdOrSpaceId(installmentId,gamesByInstallmentId,bySpaceId,bySiblingSpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,lastSessionDates,userId,applicationsByUserId,customStoreBuyButton);return computedGameByInstallmentId?computedGameByInstallmentId:otherGames.length<=0?newestGame:null}),OtherGamesCarouselQueries.getHasComputedGameByInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasComputedGameByInstallmentId",__WEBPACK_IMPORTED_MODULE_4__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId,OtherGamesCarouselQueries.getComputedGameByInstallmentId,function(installmentId,configInstallmentId,computedGameByInstallmentId){return!(!installmentId&&!configInstallmentId||!computedGameByInstallmentId)}),OtherGamesCarouselQueries.getCurrentLastPlayedGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGame",OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getComputedGameByInstallmentId,function(otherGames,gameId,hasComputedGameByInstallmentId,computedGameByInstallmentId){return otherGames.length?otherGames.find(function(game){return game.id===gameId})?otherGames.find(function(game){return game.id===gameId}):otherGames[0]:hasComputedGameByInstallmentId?computedGameByInstallmentId:null}),OtherGamesCarouselQueries.getCurrentGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameId",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.id:null}),OtherGamesCarouselQueries.getCurrentGameSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameId",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.spaceId:null}),OtherGamesCarouselQueries.getCurrentGameCleanUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameCleanUrl",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.gameCleanUrl:null}),OtherGamesCarouselQueries.getCurrentGameName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.gameName:null}),OtherGamesCarouselQueries.getCurrentCoverUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentCoverUrl",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.coverUrl:null}),OtherGamesCarouselQueries.getCurrentImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentImageUrl",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.imageUrl:null}),OtherGamesCarouselQueries.getCurrentLastPlayedDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedDate",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.lastPlayedDate:null}),OtherGamesCarouselQueries.getCurrentLastPlayedInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedInstallmentId",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.installmentId:null}),OtherGamesCarouselQueries.getCurrentGamePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatform",OtherGamesCarouselQueries.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__.a.getSelectedSpaceAppByGameId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(data,selectedAppIdByGameId,platformsByApplicationId){return data&&selectedAppIdByGameId[data.id]&&platformsByApplicationId[selectedAppIdByGameId[data.id].appId]?platformsByApplicationId[selectedAppIdByGameId[data.id].appId]:null}),OtherGamesCarouselQueries.getCurrentGamePlatformAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatformAppId",OtherGamesCarouselQueries.getCurrentGamePlatform,function(platform){return platform?platform.applicationId:null}),OtherGamesCarouselQueries.getCurrentGamePlatformType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatform",OtherGamesCarouselQueries.getCurrentGamePlatform,OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(gamePlatform,lpg){return gamePlatform?gamePlatform.type:lpg?lpg.platformType:"PC"}),OtherGamesCarouselQueries.getIsOwnedCurrentGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getIsOwnedCurrentGame",OtherGamesCarouselQueries.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,function(id,gamesById,gamesBySpaceId,platformsApplicationsIdsByParentSpaceId,userId,applicationsByUserId){return!(!gamesById[id]||!gamesBySpaceId[gamesById[id]])&&__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,gamesBySpaceId[gamesById[id]]).length>0}),OtherGamesCarouselQueries.getMyUserIdByLastPlayedGamePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyUserIdByLastPlayedGamePlatform",OtherGamesCarouselQueries.getCurrentGamePlatformType,__WEBPACK_IMPORTED_MODULE_5__selectors__.f,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,OtherGamesCarouselQueries.getCurrentGamePlatformAppId,OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__.a.getByAppId,function(platformType,myUserProfiles,userId,platformAppId,spaceId,byAppId){return OtherGamesCarouselQueries.getUserProfileIdByPlatformType(platformType,byAppId,platformAppId,spaceId,myUserProfiles,userId)}),OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms",OtherGamesCarouselQueries.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(data,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId){return data?platformsApplicationsIdsByParentSpaceId[data.spaceId].map(function(appId){return platformsByApplicationId[appId]}):[]}),OtherGamesCarouselQueries.getNotOwnedGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getNotOwnedGames",__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomStoreBuyButton,function(gamesBySpaceId,applicationsByUserId,platformsApplicationsIdsByParentSpaceId,userId,customStoreBuyButton){var notOwnedGames=[];return notOwnedGames=applicationsByUserId[userId]?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.filter)(gamesBySpaceId,function(game){return!platformsApplicationsIdsByParentSpaceId[game.spaceId].find(function(appId){return applicationsByUserId[userId].indexOf(appId)!==-1})}):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.map)(gamesBySpaceId,function(game){return game}),notOwnedGames.length?(notOwnedGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniqBy)(notOwnedGames,"id"),notOwnedGames.map(function(game){return{spaceId:game.spaceId,gameName:game.title,gameCleanUrl:game.cleanUrl,id:game.id,publishedAt:game.publishedAt,platformCode:"",platformType:"",installmentId:game.installmentId,userId:null,imageUrl:game.thumbUrl,lastPlayedDate:null,coverUrl:game.coverUrl,applicationId:"",isOwned:!1,shopUrl:__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getShopUrl(game,customStoreBuyButton)}}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.sortGames(a,b)})):[]}),OtherGamesCarouselQueries.getYouMightLikeGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getYouMightLikeGame",OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getComputedGameByInstallmentId,OtherGamesCarouselQueries.getNotOwnedGames,function(hasComputedGameByInstallmentId,computedGameByInstallmentId,notOwnedGames){return hasComputedGameByInstallmentId?computedGameByInstallmentId:notOwnedGames.length?notOwnedGames.filter(function(game){return __WEBPACK_IMPORTED_MODULE_0_moment___default()(game.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()())})[0]:null}),OtherGamesCarouselQueries.getYouMightAlsoLikeGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getYouMightAlsoLikeGames",OtherGamesCarouselQueries.getNotOwnedGames,OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getComputedGameByInstallmentId,function(notOwnedGames,hasComputedGameByInstallmentId,computedGameByInstallmentId){return notOwnedGames.length?hasComputedGameByInstallmentId?notOwnedGames.filter(function(game){return!!game&&game.id!==computedGameByInstallmentId.id}).filter(function(game){return __WEBPACK_IMPORTED_MODULE_0_moment___default()(game.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()())}).slice(0,3):notOwnedGames.filter(function(game){return __WEBPACK_IMPORTED_MODULE_0_moment___default()(game.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()())}).slice(1,4):[]}),OtherGamesCarouselQueries.getHasYouMightAlsoLikeGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasYouMightAlsoLikeGames",OtherGamesCarouselQueries.getYouMightAlsoLikeGames,function(youMightAlsoLikeGames){return 0!==youMightAlsoLikeGames.length}),OtherGamesCarouselQueries.getYouMightLikeGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getYouMightLikeGamePlatforms",OtherGamesCarouselQueries.getYouMightLikeGame,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(data,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId){return data&&platformsApplicationsIdsByParentSpaceId[data.spaceId]?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniqBy)(platformsApplicationsIdsByParentSpaceId[data.spaceId].map(function(appId){return platformsByApplicationId[appId]}),"applicationId"):[]}),OtherGamesCarouselQueries.getYouMightLikeGamePlatformsMapedNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getYouMightLikeGamePlatformsMapedNames",OtherGamesCarouselQueries.getYouMightLikeGamePlatforms,function(data){return data.map(function(platform){return"switch"!==platform.displayName.toLowerCase()?platform.displayName:"NINTENDO SWITCH"})}),OtherGamesCarouselQueries.getHasYouMightLikeGameOnlyOnePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasYouMightLikeGameOnlyOnePlatform",OtherGamesCarouselQueries.getYouMightLikeGamePlatformsMapedNames,function(data){return 1==data.length}),OtherGamesCarouselQueries.getHasOnlyOneGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOnlyOneGame",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return 1==otherGamesPlayed.length}),OtherGamesCarouselQueries.getOnlyGamePlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getOnlyGamePlayed",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return otherGamesPlayed[0]}),OtherGamesCarouselQueries.getHasNoGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasNoGamesPlayed",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return 0===otherGamesPlayed.length}),OtherGamesCarouselQueries.getHasOtherGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOtherGamesPlayed",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return otherGamesPlayed.length>0}),OtherGamesCarouselQueries.getHasYouMightLikeGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOtherGamesPlayed",OtherGamesCarouselQueries.getYouMightLikeGame,function(youMightLikeGame){return!!youMightLikeGame}),OtherGamesCarouselQueries.getGameSiblingSpaceIdByParentSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByParentSpaceId",function(state,props){return props.spaceId},OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,function(spaceId,otherGamesPlayed,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId){var foundGame=otherGamesPlayed.find(function(game){return game.spaceId==spaceId}),defaultSpaceId=platformsApplicationsIdsByParentSpaceId[spaceId]&&platformsApplicationsIdsByParentSpaceId[spaceId].length?byPlatformApplicationId[platformsApplicationsIdsByParentSpaceId[spaceId][0]].siblingSpaceId:spaceId;return foundGame&&byPlatformApplicationId[foundGame.applicationId]?byPlatformApplicationId[foundGame.applicationId].siblingSpaceId:defaultSpaceId}),OtherGamesCarouselQueries.getGameAllSpaceIdsByParentSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByParentSpaceId",function(state,props){return props.spaceId},__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySiblingSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,function(spaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId){return bySiblingSpaceId[spaceId]?siblingsSpaceIdsByParentSpaceId[bySiblingSpaceId[spaceId]]?siblingsSpaceIdsByParentSpaceId[bySiblingSpaceId[spaceId]]:[spaceId]:siblingsSpaceIdsByParentSpaceId[spaceId]?siblingsSpaceIdsByParentSpaceId[spaceId]:[spaceId]}),OtherGamesCarouselQueries.getGameSiblingSpaceIdByAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByAppId",function(state,props){return props.appId},function(state,props){return props.gameId},__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId,function(appId,gameId,byPlatformApplicationId,byInstallmentSpaceId){return byPlatformApplicationId[appId]?byPlatformApplicationId[appId].siblingSpaceId:byInstallmentSpaceId[gameId]}),OtherGamesCarouselQueries.getGameNameByGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getGameNameByGameId",function(state,props){return props.gameId},__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_UbisoftGamesStore__.a.getBySpaceId,function(gameId,byInstallmentSpaceId,bySpaceId){return byInstallmentSpaceId[gameId]&&bySpaceId[byInstallmentSpaceId[gameId]]?bySpaceId[byInstallmentSpaceId[gameId]].title:null}),OtherGamesCarouselQueries.getMyNbOfGamesOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyNbOfGamesOwned",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return otherGamesPlayed.length}),OtherGamesCarouselQueries.getMyPlayedAppIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyPlayedSpaceIds",__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,function(applicationsByUserId,userId){return applicationsByUserId[userId]?applicationsByUserId[userId]:[]}),OtherGamesCarouselQueries.getMyPlayedSpaceIdsFromGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyPlayedSpaceIdsFromGamesPlayed",__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getSpaceIdsByUserId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,function(spaceIds,userId){return spaceIds[userId]?spaceIds[userId]:[]}),OtherGamesCarouselQueries.getMyPlayedSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyPlayedSpaceIds",OtherGamesCarouselQueries.getMyPlayedAppIds,__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__.a.getByAppId,function(myPlayedAppIds,byAppId){return myPlayedAppIds.length?myPlayedAppIds.filter(function(appId){return!!byAppId[appId]}).map(function(appId){return byAppId[appId].spaceId}):[]}),OtherGamesCarouselQueries.computeGameByInstallmentIdOrSpaceId=function(spaceId,gamesByInstallmentId,gamesBySpaceId,bySiblingSpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,lastSessionDates,userId,applicationsByUserId,customStoreBuyButton){var foundGameByInstallmentId=gamesByInstallmentId[spaceId];if(foundGameByInstallmentId||(foundGameByInstallmentId=gamesBySpaceId[spaceId]),foundGameByInstallmentId||(foundGameByInstallmentId=bySiblingSpaceId[spaceId]?gamesBySpaceId[bySiblingSpaceId[spaceId]]:null),!foundGameByInstallmentId)return null;var ownedAppIds=__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,foundGameByInstallmentId),platform=ownedAppIds.length?platformsByApplicationId[ownedAppIds[0]]:platformsByApplicationId[platformsApplicationsIdsByParentSpaceId[foundGameByInstallmentId.spaceId][0]];return{spaceId:foundGameByInstallmentId.spaceId,gameName:foundGameByInstallmentId.title,gameCleanUrl:foundGameByInstallmentId.cleanUrl,id:foundGameByInstallmentId.id,publishedAt:foundGameByInstallmentId.publishedAt,platformCode:platform?platform.displayName:"",platformType:platform?platform.type:"",installmentId:foundGameByInstallmentId.installmentId,userId:userId,imageUrl:foundGameByInstallmentId.thumbUrl,lastPlayedDate:lastSessionDates[userId]&&platform?lastSessionDates[userId][platform.applicationId]:null,isOwned:ownedAppIds.length>0,applicationId:platform?platform.applicationId:null,coverUrl:foundGameByInstallmentId.coverUrl,shopUrl:__WEBPACK_IMPORTED_MODULE_10__GamesCommonQueries__.a.getShopUrl(foundGameByInstallmentId,customStoreBuyButton)}},OtherGamesCarouselQueries.getUserProfileIdByPlatformType=function(platformType,byAppId,platformApplicationId,spaceId,userProfiles,userId){if(!platformType)return userId;if(platformApplicationId&&byAppId[platformApplicationId]&&byAppId[platformApplicationId].spaceId!==spaceId)return userId;var userProfile=userProfiles.find(function(userProfile){return userProfile.platformType==OtherGamesCarouselQueries.getProfilePlatformCode(platformType,__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.UPLAY)});return userProfile?userProfile.profileId:userId},OtherGamesCarouselQueries.getProfilePlatformCode=function(platform,defaultPlatformType){var platformType=defaultPlatformType;switch(platform.toUpperCase()){case"PS5":case"PS4":case"PS3":case"ORBIS":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.PSN;break;case"XONE":case"DURANGO":case"XBOXSCARLETT":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE;break;case"PC":case"PROJECTSTREAM":case"SWITCHSTREAM":case"SWITCHSTREAMING":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.UPLAY;break;case"SWITCH":case"NX":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.SWITCH;break;case"STADIA":case"GOOGLESTREAM":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.GOOGLESTREAM;break;case"WIIU":platformType=__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_entities_UserProfile__.a.WIIU}return platformType},OtherGamesCarouselQueries.getHasNoSessionData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasNoSessionData",__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_6__stores_GamesPlayedStore__.a.getApplicationsByApplicationId,__WEBPACK_IMPORTED_MODULE_7__modules_authentication_queries_IdentityQueries__.a.getUserId,function(applications,applicationsByApplicationId,userId){return!!applications[userId]&&applications[userId].every(function(appId){return null===applicationsByApplicationId[appId].sessionsCount&&null===applicationsByApplicationId[appId].firstPlayed.createdAt&&null===applicationsByApplicationId[appId].firstPlayed.countryCode&&null===applicationsByApplicationId[appId].lastPlayed.updatedAt&&null===applicationsByApplicationId[appId].firstPlayed.countryCode})})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(202)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(200),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(110),__WEBPACK_IMPORTED_MODULE_5__actions_UpdateScreenNameAction__=__webpack_require__(294),__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3);
__webpack_require__.d(exports,"a",function(){return UserProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserProfilesStore=function(_ReducerStore){function UserProfilesStore(){_classCallCheck(this,UserProfilesStore);var _this=_possibleConstructorReturn(this,(UserProfilesStore.__proto__||Object.getPrototypeOf(UserProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedMyUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_UpdateScreenNameAction__.a.name,_this.handleUpdateScreenNameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(UserProfilesStore,_ReducerStore),_createClass(UserProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:{}}}},{key:"handleLoadedMyUserProfilesAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),byNameOnPlatform:__assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:__assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError,expiration:null!==action.expiration?__assign({},state.expiration,action.expiration):state.expiration})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),byNameOnPlatform:__assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:__assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError,expiration:null!==action.expiration?__assign({},state.expiration,action.expiration):state.expiration})}},{key:"handleUpdateScreenNameAction",value:function(state,action){var oldName=state.byId[action.userId].nameOnPlatform,byId=__assign({},state.byId[action.userId],{nameOnPlatform:action.userName}),toReturn=__assign({},state,{byId:__assign({},state.byId,_defineProperty({},action.userId,byId)),byNameOnPlatform:__assign({},state.byNameOnPlatform,_defineProperty({},action.userName,byId))});return delete toReturn.byNameOnPlatform[oldName],toReturn}}]),UserProfilesStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);UserProfilesStore.getState=function(state){return state.UserProfilesStore},UserProfilesStore.getById=function(state){return state.UserProfilesStore.byId},UserProfilesStore.getByUserId=function(state){return state.UserProfilesStore.byUserId},UserProfilesStore.getByNameOnPlatform=function(state){return state.UserProfilesStore.byNameOnPlatform},UserProfilesStore.getIds=function(state){return state.UserProfilesStore.ids},UserProfilesStore.loadedMyProfiles=function(state){return state.LoadersStore.MyUserProfiles},UserProfilesStore.loadedFriendsProfiles=function(state){return state.LoadersStore.FriendsUserProfiles},UserProfilesStore.getExpiration=function(state){return state.UserProfilesStore.expiration},UserProfilesStore.getHasError=function(state){return state.UserProfilesStore.hasError},UserProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[])],UserProfilesStore)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return CACHING_TIME});var CACHING_TIME;!function(CACHING_TIME){CACHING_TIME[CACHING_TIME.USER_AVATAR_CACHE_TIME=60]="USER_AVATAR_CACHE_TIME",CACHING_TIME[CACHING_TIME.CONNECTIONS_CACHE_TIME=120]="CONNECTIONS_CACHE_TIME",CACHING_TIME[CACHING_TIME.FRIENDS_CACHE_TIME=300]="FRIENDS_CACHE_TIME",CACHING_TIME[CACHING_TIME.DEFAULT_DATA_CACHE_TIME=900]="DEFAULT_DATA_CACHE_TIME",CACHING_TIME[CACHING_TIME.GAMES_DATA_CACHE_TIME=3600]="GAMES_DATA_CACHE_TIME"}(CACHING_TIME||(CACHING_TIME={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return FRIEND_STATE});var FRIEND_STATE;!function(FRIEND_STATE){FRIEND_STATE[FRIEND_STATE.NO_RELATIONSHIP="NoRelationship"]="NO_RELATIONSHIP",FRIEND_STATE[FRIEND_STATE.PENDING_SENT_INVITE="PendingSentInvite"]="PENDING_SENT_INVITE",FRIEND_STATE[FRIEND_STATE.PENDING_RECEIVED_INVITE="PendingReceivedInvite"]="PENDING_RECEIVED_INVITE",FRIEND_STATE[FRIEND_STATE.FRIENDS="Friends"]="FRIENDS"}(FRIEND_STATE||(FRIEND_STATE={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesPlayedAction__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return GamesPlayedStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesPlayedStore=function(_ReducerStore){function GamesPlayedStore(){_classCallCheck(this,GamesPlayedStore);var _this=_possibleConstructorReturn(this,(GamesPlayedStore.__proto__||Object.getPrototypeOf(GamesPlayedStore)).call(this));return _this.bind(null,function(){return{bySpaceId:{},applicationsByApplicationId:{},byApplicationId:{},applicationsByUserId:{},spaceIdsByUserId:{},lastSessionDates:{},applicationIds:[],spaceIds:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesPlayedAction__.a.name,_this.handleLoadedUserGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(GamesPlayedStore,_ReducerStore),_createClass(GamesPlayedStore,[{key:"handleLoggedOutAction",value:function(state,action){return{bySpaceId:{},applicationsByApplicationId:{},byApplicationId:{},applicationsByUserId:{},spaceIdsByUserId:{},lastSessionDates:{},applicationIds:[],spaceIds:[],expiration:{}}}},{key:"handleLoadedUserGamesAction",value:function(state,action){var applicationsByUserId={};Object.keys(action.applicationsByUserId).forEach(function(userId){applicationsByUserId[userId]=state.applicationsByUserId[userId]?state.applicationsByUserId[userId].filter(function(applicationId){return!action.applicationsByUserId[userId].includes(applicationId)}).concat(action.applicationsByUserId[userId]):action.applicationsByUserId[userId]});var spaceIdsByUserId={};Object.keys(action.spaceIdsByUserId).forEach(function(userId){spaceIdsByUserId[userId]=state.spaceIdsByUserId[userId]?state.spaceIdsByUserId[userId].filter(function(spaceId){return!action.spaceIdsByUserId[userId].includes(spaceId)}).concat(action.spaceIdsByUserId[userId]):action.spaceIdsByUserId[userId]});var lastSessionDates=state.lastSessionDates;return Object.keys(action.lastSessionDates).forEach(function(userId){lastSessionDates[userId]=__assign({},lastSessionDates[userId],action.lastSessionDates[userId])}),__assign({},state,{bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),applicationsByApplicationId:__assign({},state.applicationsByApplicationId,action.applicationsByApplicationId),applicationsByUserId:__assign({},state.applicationsByUserId,applicationsByUserId),spaceIdsByUserId:__assign({},state.spaceIdsByUserId,spaceIdsByUserId),lastSessionDates:__assign({},state.lastSessionDates,lastSessionDates),applicationIds:state.applicationIds.filter(function(applicationId){return!action.applicationIds.includes(applicationId)}).concat(action.applicationIds),spaceIds:state.spaceIds.filter(function(spaceId){return!action.spaceIds.includes(spaceId)}).concat(action.spaceIds),expiration:__assign({},state.expiration,action.expiration)})}}]),GamesPlayedStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);GamesPlayedStore.getState=function(state){return state.GamesPlayedStore},GamesPlayedStore.getBySpaceId=function(state){return state.GamesPlayedStore.bySpaceId},GamesPlayedStore.getApplicationsByApplicationId=function(state){return state.GamesPlayedStore.applicationsByApplicationId},GamesPlayedStore.getByApplicationId=function(state){return state.GamesPlayedStore.byApplicationId},GamesPlayedStore.getApplicationsByUserId=function(state){return state.GamesPlayedStore.applicationsByUserId},GamesPlayedStore.getSpaceIdsByUserId=function(state){return state.GamesPlayedStore.spaceIdsByUserId},GamesPlayedStore.getApplicationIds=function(state){return state.GamesPlayedStore.applicationIds},GamesPlayedStore.getSpaceIds=function(state){return state.GamesPlayedStore.spaceIds},GamesPlayedStore.getLastSessionDates=function(state){return state.GamesPlayedStore.lastSessionDates},GamesPlayedStore.getExpiration=function(state){return state.GamesPlayedStore.expiration},GamesPlayedStore.loaded=function(state){return state.LoadersStore.GamesPlayedStore},GamesPlayedStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],GamesPlayedStore)},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__di_injectable__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(3)),__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_6__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7__configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_8__queries_GamesCommonQueries__=__webpack_require__(135),__WEBPACK_IMPORTED_MODULE_9__actions_LoadingGamesAction__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_10__actions_LoadingGameStatsAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_11__actions_LoadingRewardsAction__=__webpack_require__(203),__WEBPACK_IMPORTED_MODULE_12__actions_ChangeLastPlayedGameAction__=__webpack_require__(515),__WEBPACK_IMPORTED_MODULE_13__actions_ChangeCarouselLPGAction__=__webpack_require__(258),__WEBPACK_IMPORTED_MODULE_14__actions_ChangeLPGPlatformAction__=__webpack_require__(194),__WEBPACK_IMPORTED_MODULE_15__services_GamesService__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_16__services_RewardsService__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_17__services_FriendsService__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_18__services_ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_19__services_FriendsPlayingGameService__=__webpack_require__(616),__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_21__actions_StartedPanelFlowAction__=__webpack_require__(560),__WEBPACK_IMPORTED_MODULE_22__actions_ShowDetailsViewAction__=__webpack_require__(555),__WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(204),__WEBPACK_IMPORTED_MODULE_25__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_26__WidgetService__=__webpack_require__(604),__WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowGameContentAction__=__webpack_require__(205),__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowMobileViewOnDesktopAction__=__webpack_require__(569),__WEBPACK_IMPORTED_MODULE_30__actions_ChangeUserNameAction__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_31__actions_ChangeUserNameShowRulesAction__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_32__actions_ToggleShowAvatarComponentAction__=__webpack_require__(286),__WEBPACK_IMPORTED_MODULE_33__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(293),__WEBPACK_IMPORTED_MODULE_34__actions_ChangeAvatarSelectedAction__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_35__actions_ToggleShowResizeAvatarAction__=__webpack_require__(292),__WEBPACK_IMPORTED_MODULE_36__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(287),__WEBPACK_IMPORTED_MODULE_37__actions_UploadAvatarAction__=__webpack_require__(295),__WEBPACK_IMPORTED_MODULE_38__actions_ToggleAvatarTabsAction__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_39__actions_LoadedAddFriendsStatAction__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_40__actions_LoadingAddFriendsAction__=__webpack_require__(277),__WEBPACK_IMPORTED_MODULE_41__actions_ShowNotFoundFriendAction__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_42__actions_ToggleAddFriendsTabAction__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_43__actions_FailedFriendsApiAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_44__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(288),__WEBPACK_IMPORTED_MODULE_45__actions_ChangeFriendGamesCarouselLPGAction__=__webpack_require__(260),__WEBPACK_IMPORTED_MODULE_46__actions_ChangeFriendPlatformAction__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_47__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_48__actions_LoadedFriendsUserProfilesAction__=__webpack_require__(200),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_50__actions_LoadedConnectionsAction__=__webpack_require__(196),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_52__services_ConnectionsService__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_53__services_MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__=__webpack_require__(211),__WEBPACK_IMPORTED_MODULE_55__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_56__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_57__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(207),__WEBPACK_IMPORTED_MODULE_58__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_59__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(206),__WEBPACK_IMPORTED_MODULE_60__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(291),__WEBPACK_IMPORTED_MODULE_61__utils_getCookie__=__webpack_require__(324),__WEBPACK_IMPORTED_MODULE_62__analytics_services_AnalyticsService__=__webpack_require__(19);__webpack_require__.d(exports,"a",function(){return CommonActionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},CommonActionsService=function(_AbstractActions){function CommonActionsService(gamesService,rewardsService,friendsService,profilesService,friendsPlayingGameService,connectionsService,metaProgressionProfileService,analyticsService){_classCallCheck(this,CommonActionsService);var _this=_possibleConstructorReturn(this,(CommonActionsService.__proto__||Object.getPrototypeOf(CommonActionsService)).call(this));return _this.gamesService=gamesService,_this.rewardsService=rewardsService,_this.friendsService=friendsService,_this.profilesService=profilesService,_this.friendsPlayingGameService=friendsPlayingGameService,_this.connectionsService=connectionsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.analyticsService=analyticsService,_this}return _inherits(CommonActionsService,_AbstractActions),_createClass(CommonActionsService,[{key:"changeLastPlayedGame",value:function(installmentIdOrSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var otherGames,game,offset,id,applicationId,realSpaceId,platformCode,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(otherGames=__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed(this.getState()),game=__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__.a.computeGameByInstallmentIdOrSpaceId(installmentIdOrSpaceId,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.d)(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__.a.getBySiblingSpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId(this.getState()),__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getLastSessionDates(this.getState()),__WEBPACK_IMPORTED_MODULE_6__authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_7__configuration_queries_IntegratorConfigurationQueries__.a.getCustomStoreBuyButton(this.getState())),offset=null,otherGames.find(function(otherGame,index){return offset=index,otherGame.installmentId==installmentIdOrSpaceId||otherGame.spaceId==installmentIdOrSpaceId||__WEBPACK_IMPORTED_MODULE_8__queries_GamesCommonQueries__.a.isInSiblingsSpaceIds(__WEBPACK_IMPORTED_MODULE_4__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId(_this2.getState()),otherGame.spaceId,installmentIdOrSpaceId)}),id=game?game.id:null,applicationId=game?game.applicationId:null,realSpaceId=game?__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:id,appId:applicationId}):null,platformCode=game?game.platformCode:null,this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadingGamesAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_LoadingRewardsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ChangeLastPlayedGameAction__.a(installmentIdOrSpaceId?installmentIdOrSpaceId:null)),offset){_context.next=17;break}return _context.next=15,this.gamesService.loadUbisoftGamesBySpaceIds([installmentIdOrSpaceId]);case 15:_context.next=19;break;case 17:return _context.next=19,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 19:if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ChangeCarouselLPGAction__.a(null===offset?0:offset,id,realSpaceId,applicationId,platformCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeLPGPlatformAction__.a(id,realSpaceId,applicationId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadingGamesAction__.a((!1))),!__WEBPACK_IMPORTED_MODULE_6__authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())){_context.next=25;break}return _context.next=25,Promise.all([this.loadFriendsPalyingGame(id).then(function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(realSpaceId)})["catch"](function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(realSpaceId)}),this.rewardsService.loadUserRewards(realSpaceId)]);case 25:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFriendsPalyingGame",value:function(instalmentId){var _this3=this;return this.friendsService.loadMyFriends().then(function(){return _this3.profilesService.loadMyFriendsUserProfiles().then(function(){return _this3.friendsPlayingGameService.loadFriendsPlayingGame(instalmentId?instalmentId:__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__.a.getCurrentGameId(_this3.getState()))})})}},{key:"onChangeLPGPltform",value:function(gameId,appId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var spaceId,_this4=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return spaceId=__WEBPACK_IMPORTED_MODULE_2__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:gameId,appId:appId}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeLPGPlatformAction__.a(gameId,spaceId,appId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_LoadingRewardsAction__.a),_context2.next=6,Promise.all([this.loadFriendsPalyingGame().then(function(){return _this4.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)})["catch"](function(){return _this4.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)}),this.rewardsService.loadUserRewards(spaceId)]);case 6:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"toggleOpenDetailsViewState",value:function(open,windowsWidth,windowsHeight,iframeBoundingClientRect){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var _this5=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getStartedPanelFlow(this.getState())){_context3.next=2;break}return _context3.abrupt("return");case 2:open?this.changeIframeWidthInCorelationToParentWindowWidth(windowsWidth,windowsHeight,iframeBoundingClientRect):Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_StartedPanelFlowAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_ShowDetailsViewAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowOverviewTabDetailsViewAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowFriendsTabDetailsViewAction__.a((!1))),this.hideOverviewDetailsGameContent(),this.hideOverviewDetailsUserNameContent(),this.hideOverviewDetailsAvatarContent(),this.hideFriendsDetailsAddContent(),this.hideFriendsDetailsProfileContent()]).then(function(){return _this5.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_StartedPanelFlowAction__.a((!1)))});case 3:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"changeIframeWidthInCorelationToParentWindowWidth",value:function(windowWidth,windowHeight,iframeBoundingClientRect){var _this6=this;if(null!=windowWidth&&null!=windowHeight&&null!=iframeBoundingClientRect&&!(windowWidth<=__WEBPACK_IMPORTED_MODULE_25__messages__.a.WIDGET_RESIZE_WIDTH||windowWidth<=__WEBPACK_IMPORTED_MODULE_25__messages__.a.WIDGET_MOBILE_WIDTH&&windowHeight<windowWidth&&__WEBPACK_IMPORTED_MODULE_26__WidgetService__.a.isMobileDevice())&&(__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())||__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowFriendsDetails(this.getState()))){this.getIframeWidthInCorelationToParentWindowWidth(windowWidth,iframeBoundingClientRect),this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_StartedPanelFlowAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_ShowDetailsViewAction__.a((!0)));var promise=new Promise(function(resolve){return setTimeout(function(){return resolve()},301)});promise.then(function(){_this6.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_StartedPanelFlowAction__.a((!1)))})}}},{key:"hideOverviewDetailsGameContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowGameContentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ChangeCarouselLPGAction__.a(__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameOffset(this.getState()),null,__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameSpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameAppId(this.getState()),__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGamePlatformCode(this.getState())))]);case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"hideOverviewDetailsUserNameContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_30__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_ChangeUserNameShowRulesAction__.a((!1)))]);
case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"hideOverviewDetailsAvatarContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_32__actions_ToggleShowAvatarComponentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_33__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_34__actions_ChangeAvatarSelectedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_35__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_36__actions_ToggleShowAvatarTooltipAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_33__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_37__actions_UploadAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_38__actions_ToggleAvatarTabsAction__.a((!0),(!1)))]);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"hideFriendsDetailsAddContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_39__actions_LoadedAddFriendsStatAction__.a({})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_LoadingAddFriendsAction__.a((!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_41__actions_ShowNotFoundFriendAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_42__actions_ToggleAddFriendsTabAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_43__actions_FailedFriendsApiAction__.a((!1)))]);case 2:return _context7.abrupt("return",_context7.sent);case 3:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"hideFriendsDetailsProfileContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_44__actions_ToggleShowFriendProfileContentAction__.a((!1),null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_45__actions_ChangeFriendGamesCarouselLPGAction__.a(0,null,null,null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_46__actions_ChangeFriendPlatformAction__.a(null,null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_47__actions_ToggleShowFrindProfileStatsAction__.a((!1)))]);case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"getIframeWidthInCorelationToParentWindowWidth",value:function(windowWidth,iframeBoundingClientRect){var width=954;return windowWidth>__WEBPACK_IMPORTED_MODULE_25__messages__.a.WIDGET_RESIZE_WIDTH&&__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getIsOnArabLocale(this.getState())&&iframeBoundingClientRect.right>windowWidth&&(width=334),windowWidth>__WEBPACK_IMPORTED_MODULE_25__messages__.a.WIDGET_RESIZE_WIDTH&&!__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getIsOnArabLocale(this.getState())&&iframeBoundingClientRect.left<0&&(width=334),windowWidth>954&&iframeBoundingClientRect.left===-15&&(width=954),width<954?this.dispatch(new __WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowMobileViewOnDesktopAction__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowMobileViewOnDesktopAction__.a((!1))),width}},{key:"onExpandFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var promises,_this7=this;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,this.friendsService.loadMyFriends();case 2:if(promises=[],__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.p)(this.getState())||__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.q)(this.getState())?promises.push(this.profilesService.loadMyFriendsUserProfiles().then(function(){return _this7.connectionsService.loadMyFriendsConnections()})):(promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_48__actions_LoadedFriendsUserProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getByNameOnPlatform(this.getState()),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_49__stores_UserProfilesStore__.a.getExpiration(this.getState())))),promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_50__actions_LoadedConnectionsAction__.a(__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getByProfileId(this.getState()),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getProfileIdsForCall(this.getState()),__WEBPACK_IMPORTED_MODULE_51__stores_ConnectionsStore__.a.getExpiration(this.getState()))))),!(promises.length>0)){_context9.next=7;break}return _context9.next=7,Promise.all(promises);case 7:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.q)(this.getState())){_context9.next=10;break}return _context9.next=10,this.metaProgressionProfileService.loadFriendsMetaProgressions(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.b)(this.getState()));case 10:case"end":return _context9.stop()}},_callee9,this)}))}},{key:"handleOnScrollUpdate",value:function(value,tab){switch(tab){case __WEBPACK_IMPORTED_MODULE_55__entities_OverviewTabDetails__.a.OVERVIEW_VIEW:return void(__WEBPACK_IMPORTED_MODULE_28__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&__WEBPACK_IMPORTED_MODULE_56__stores_StatsComparisonStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_57__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_57__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))));case __WEBPACK_IMPORTED_MODULE_55__entities_OverviewTabDetails__.a.FRIEND_VIEW:return __WEBPACK_IMPORTED_MODULE_58__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&__WEBPACK_IMPORTED_MODULE_58__stores_FriendProfileStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_59__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_59__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1)))),void(__WEBPACK_IMPORTED_MODULE_58__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&!__WEBPACK_IMPORTED_MODULE_58__stores_FriendProfileStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_60__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_54__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_60__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!1)))))}}},{key:"getIframeCheckThirdPartyCookiesSupport",value:function(){var iframeCheckThirdPartyCookiesSupport=!1;return this.analyticsService.setCookie("testThirdPartyCookiesSupport","true",1,"ubisoft.com"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_61__utils_getCookie__.a)("testThirdPartyCookiesSupport")&&(iframeCheckThirdPartyCookiesSupport=!0,this.analyticsService.setCookie("testThirdPartyCookiesSupport","",-1,"ubisoft.com")),iframeCheckThirdPartyCookiesSupport}}]),CommonActionsService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);CommonActionsService=__decorate([__WEBPACK_IMPORTED_MODULE_1__di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_15__services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_16__services_RewardsService__.a,__WEBPACK_IMPORTED_MODULE_17__services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_18__services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_19__services_FriendsPlayingGameService__.a,__WEBPACK_IMPORTED_MODULE_52__services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_53__services_MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_62__analytics_services_AnalyticsService__.a])],CommonActionsService)},,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ApplicationsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ApplicationsStore=function(_ReducerStore){function ApplicationsStore(){_classCallCheck(this,ApplicationsStore);var _this=_possibleConstructorReturn(this,(ApplicationsStore.__proto__||Object.getPrototypeOf(ApplicationsStore)).call(this));return _this.bind(null,function(){return{bySpaceId:{},byAppId:{},expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__.a.name,_this.handleLoadedApplicationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ApplicationsStore,_ReducerStore),_createClass(ApplicationsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{bySpaceId:{},byAppId:{},expiration:{}}}},{key:"handleLoadedApplicationsAction",value:function(state,action){return __assign({},state,{bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),byAppId:__assign({},state.byAppId,action.byAppId),expiration:__assign({},state.expiration,action.expiration)})}}]),ApplicationsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);ApplicationsStore.getState=function(state){return state.ApplicationsStore},ApplicationsStore.getBySpaceId=function(state){return state.ApplicationsStore.bySpaceId},ApplicationsStore.getByAppId=function(state){return state.ApplicationsStore.byAppId},ApplicationsStore.getExpiration=function(state){return state.ApplicationsStore.expiration},ApplicationsStore.loaded=function(state){return state.LoadersStore.ApplicationsStore},ApplicationsStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],ApplicationsStore)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(197)),__WEBPACK_IMPORTED_MODULE_3__actions_ReloadAction__=__webpack_require__(110),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__actions_FailedFriendsApiAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FriendsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsStore=function(_ReducerStore){function FriendsStore(){_classCallCheck(this,FriendsStore);var _this=_possibleConstructorReturn(this,(FriendsStore.__proto__||Object.getPrototypeOf(FriendsStore)).call(this));return _this.bind(null,function(){return{byId:{},ids:[],expiration:{},ownershipByUserId:{},hasApiError:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_FailedFriendsApiAction__.a.name,_this.handleFailedFriendsApiAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(FriendsStore,_ReducerStore),_createClass(FriendsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},ids:[],expiration:{},ownershipByUserId:{},hasApiError:!1}}},{key:"handleLoadedFriendsAction",value:function(state,action){var ownershipByUserId={};return Object.keys(action.ownershipByUserId).forEach(function(userId){ownershipByUserId[userId]=action.ownershipByUserId[userId]&&action.ownershipByUserId[userId].length?state.ownershipByUserId[userId]?[].concat(_toConsumableArray(state.ownershipByUserId[userId]),_toConsumableArray(action.ownershipByUserId[userId])):action.ownershipByUserId[userId]:state.ownershipByUserId[userId]}),__assign({},state,{byId:Object.keys(action.byId).length?__assign({},state.byId,action.byId):{},ids:action.ids.length?state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids):state.ids,ownershipByUserId:__assign({},state.ownershipByUserId,ownershipByUserId),expiration:__assign({},state.expiration,action.expiration)})}},{key:"handleFailedFriendsApiAction",value:function(state,action){return __assign({},state,{hasApiError:action.hasError})}}]),FriendsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);FriendsStore.getState=function(state){return state.FriendsStore},FriendsStore.getByIds=function(state){return state.FriendsStore.byId},FriendsStore.getIds=function(state){return state.FriendsStore.ids},FriendsStore.gethHasApiError=function(state){return state.FriendsStore.hasApiError},FriendsStore.getOwnershipByUserId=function(state){return state.FriendsStore.ownershipByUserId},FriendsStore.getExpiration=function(state){return state.FriendsStore.expiration},FriendsStore.loaded=function(state){return state.LoadersStore.Friends},FriendsStore=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[])],FriendsStore)},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return PLATFORM_TYPE}),__webpack_require__.d(exports,"b",function(){return PLATFORM_DISPALY_NAME});var PLATFORM_TYPE;!function(PLATFORM_TYPE){PLATFORM_TYPE[PLATFORM_TYPE.PSN="psn"]="PSN",PLATFORM_TYPE[PLATFORM_TYPE.FACEBOOK="fb"]="FACEBOOK",PLATFORM_TYPE[PLATFORM_TYPE.UPLAY="uplay"]="UPLAY",PLATFORM_TYPE[PLATFORM_TYPE.XBOX_LIVE="xbl"]="XBOX_LIVE",PLATFORM_TYPE[PLATFORM_TYPE.STEAM="steam"]="STEAM",PLATFORM_TYPE[PLATFORM_TYPE.CUSTOMER_SUPPORT_SALESFORCE="customersupportsalesforce"]="CUSTOMER_SUPPORT_SALESFORCE",PLATFORM_TYPE[PLATFORM_TYPE.RIGHTNOW="rightnow"]="RIGHTNOW",PLATFORM_TYPE[PLATFORM_TYPE.WIIU="wiiu"]="WIIU",PLATFORM_TYPE[PLATFORM_TYPE.UBI_MOBILE="ubimobile"]="UBI_MOBILE",PLATFORM_TYPE[PLATFORM_TYPE.OWLIENT="owlient"]="OWLIENT",PLATFORM_TYPE[PLATFORM_TYPE.GOOGLE="google"]="GOOGLE",PLATFORM_TYPE[PLATFORM_TYPE.GAME_CENTER="gamecenter"]="GAME_CENTER",PLATFORM_TYPE[PLATFORM_TYPE.OCULUS="oculus"]="OCULUS",PLATFORM_TYPE[PLATFORM_TYPE.TWITCH="twitch"]="TWITCH",PLATFORM_TYPE[PLATFORM_TYPE.NVDIA="nvdia"]="NVDIA",PLATFORM_TYPE[PLATFORM_TYPE.SWITCH="switch"]="SWITCH",PLATFORM_TYPE[PLATFORM_TYPE.GOOGLESTREAM="googlestream"]="GOOGLESTREAM"}(PLATFORM_TYPE||(PLATFORM_TYPE={}));var PLATFORM_DISPALY_NAME;!function(PLATFORM_DISPALY_NAME){PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.psn="PlayStation"]="psn",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.fb="FaceBook"]="fb",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.uplay="Uplay"]="uplay",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.xbl="Xbox"]="xbl",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.steam="Steam"]="steam",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.customersupportsalesforce="Customer Support SalesForce"]="customersupportsalesforce",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.rightnow="Right Now"]="rightnow",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.wiiu="WIIU"]="wiiu",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.ubimobile="Ubi Mobile"]="ubimobile",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.owlient="Owlient"]="owlient",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.google="Google"]="google",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.gamecenter="GameCenter"]="gamecenter",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.oculus="Oculus"]="oculus",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.twitch="Twitch"]="twitch",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.nvdia="Nvdia"]="nvdia",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME["switch"]="Switch"]="switch",PLATFORM_DISPALY_NAME[PLATFORM_DISPALY_NAME.googlestream="Google Stream"]="googlestream"}(PLATFORM_DISPALY_NAME||(PLATFORM_DISPALY_NAME={}))},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(202)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(200),__WEBPACK_IMPORTED_MODULE_5_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_api_UserProfilesApi__=__webpack_require__(896),__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_11__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return ProfilesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ProfilesService=function(_AbstractActions){function ProfilesService(userProfilesApi,authenticationStore){_classCallCheck(this,ProfilesService);var _this=_possibleConstructorReturn(this,(ProfilesService.__proto__||Object.getPrototypeOf(ProfilesService)).call(this));return _this.userProfilesApi=userProfilesApi,_this.authenticationStore=authenticationStore,_this}return _inherits(ProfilesService,_AbstractActions),_createClass(ProfilesService,[{key:"loadMyUserProfile",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,expiration,profiles;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.authenticationStore.hasIdentity()){_context.next=3;break}return this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a,!0),_context.abrupt("return",Promise.reject("no identity"));case 3:if(userId=__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),expiration=__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[userId]?__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[userId]:0,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_11__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=8;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a({},{},{},[],(!1),{})),_context.abrupt("return");case 8:return _context.prev=8,_context.next=11,this.userProfilesApi.getUserProfilesByUserIds([this.authenticationStore.getIdentity().user_id]);case 11:profiles=_context.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a,!1,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context.next=18;break;case 15:_context.prev=15,_context.t0=_context["catch"](8),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a,!0,_defineProperty({},userId,0));case 18:case"end":return _context.stop()}},_callee,this,[[8,15]])}))}},{key:"loadMyFriendsUserProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var friendsIds,expirationKey,expiration,profiles;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(friendsIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.a)(this.getState()).concat(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.b)(this.getState())),expirationKey=friendsIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[expirationKey]?__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[expirationKey]:0,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_11__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context2.next=6;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a({},{},{},[],(!1),{})),_context2.abrupt("return");case 6:return _context2.prev=6,_context2.next=9,this.userProfilesApi.getUserProfilesByUserIds(friendsIds);case 9:profiles=_context2.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!1,_defineProperty({},expirationKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context2.next=16;break;case 13:_context2.prev=13,_context2.t0=_context2["catch"](6),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!0,_defineProperty({},expirationKey,0));case 16:case"end":return _context2.stop()}},_callee2,this,[[6,13]])}))}},{key:"loadFriendUserProfiles",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){
var expiration,profiles;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(expiration=__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[pid]?__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[pid]:0,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_11__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context3.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a({},{},{},[],(!1),{})),_context3.abrupt("return");case 4:return _context3.prev=4,_context3.next=7,this.userProfilesApi.getUserProfilesByUserIds([pid]);case 7:profiles=_context3.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!1,_defineProperty({},pid,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context3.next=14;break;case 11:_context3.prev=11,_context3.t0=_context3["catch"](4),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!0,_defineProperty({},pid,0));case 14:case"end":return _context3.stop()}},_callee3,this,[[4,11]])}))}},{key:"loadMyFriendProfilesByUserNameAndPlatforms",value:function(userNames,platform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var profiles;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.userProfilesApi.getProfilesByUserNameAndPlatformTypes(userNames,platform);case 3:return profiles=_context4.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context4.abrupt("return",profiles);case 8:return _context4.prev=8,_context4.t0=_context4["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context4.abrupt("return",Promise.reject(_context4.t0));case 12:case"end":return _context4.stop()}},_callee4,this,[[0,8]])}))}},{key:"loadFriendsProfilesByIds",value:function(ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var expirationKey,expiration,profiles;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(expirationKey=ids.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[expirationKey]?__WEBPACK_IMPORTED_MODULE_7__stores_UserProfilesStore__.a.getExpiration(this.getState())[expirationKey]:0,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_11__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context5.next=5;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a({},{},{},[],(!1),{})),_context5.abrupt("return",__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.c)(this.getState(),{ids:ids}));case 5:return _context5.prev=5,_context5.next=8,this.userProfilesApi.getUserProfilesByUserIds(ids);case 8:return profiles=_context5.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!1,_defineProperty({},expirationKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context5.abrupt("return",profiles);case 13:return _context5.prev=13,_context5.t0=_context5["catch"](5),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!0,_defineProperty({},expirationKey,0)),_context5.abrupt("return",Promise.reject(_context5.t0));case 17:case"end":return _context5.stop()}},_callee5,this,[[5,13]])}))}},{key:"getProfilesByPlatformIdsAndPlatformType",value:function(userIds,platformType){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var profiles;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,this.userProfilesApi.getProfilesByPlatformIdsAndPlatformType(userIds,platformType);case 3:return profiles=_context6.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context6.abrupt("return",profiles);case 8:return _context6.prev=8,_context6.t0=_context6["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context6.abrupt("return",Promise.reject(_context6.t0));case 12:case"end":return _context6.stop()}},_callee6,this,[[0,8]])}))}},{key:"afterLoadedProfiles",value:function(profiles,className,hasError,expiration){var byId={},byUserId={},byNameOnPlatform={},ids=[];profiles.forEach(function(profile){byId[profile.profileId]=profile,byNameOnPlatform[profile.nameOnPlatform]=profile,byUserId[profile.userId]||(byUserId[profile.userId]=[]),byUserId[profile.userId].push(profile.profileId),ids.push(profile.profileId)}),expiration?this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError,expiration)):this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError))}}]),ProfilesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ProfilesService=__decorate([__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_api_UserProfilesApi__.a,__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticationStore])],ProfilesService)},function(module,exports,__webpack_require__){"use strict";function scrollToTop(detailsScrollableRef,scrollableRef,isInMobileView,showMobileViewOnDesktop){detailsScrollableRef&&detailsScrollableRef.scrollToTop(),scrollableRef&&(isInMobileView||showMobileViewOnDesktop)&&scrollableRef.scrollToTop()}exports.a=scrollToTop},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselLPGAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(258)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameContentAction__=__webpack_require__(205),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},OtherGamesCarouselStore=function(_ReducerStore){function OtherGamesCarouselStore(){_classCallCheck(this,OtherGamesCarouselStore);var _this=_possibleConstructorReturn(this,(OtherGamesCarouselStore.__proto__||Object.getPrototypeOf(OtherGamesCarouselStore)).call(this));return _this.bind(null,function(){return{currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showGameContent:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselLPGAction__.a.name,_this.handleChangeCarouselLPGAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameContentAction__.a.name,_this.handleToggleShowGameContentAction),_this}return _inherits(OtherGamesCarouselStore,_ReducerStore),_createClass(OtherGamesCarouselStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showGameContent:!1}}},{key:"handleChangeCarouselLPGAction",value:function(state,action){return __assign({},state,{currentLastPlayedGameOffset:action.currentLastPlayedGameOffset,currentLastPlayedGameId:action.currentLastPlayedGameId,currentLastPlayedGameSpaceId:action.currentLastPlayedGameSpaceId,currentLastPlayedGameAppId:action.currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode:action.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowGameContentAction",value:function(state,action){return __assign({},state,{showGameContent:action.show})}}]),OtherGamesCarouselStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);OtherGamesCarouselStore.getState=function(state){return state.OtherGamesCarouselStore},OtherGamesCarouselStore.getCurrentLastPlayedGameOffset=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameOffset},OtherGamesCarouselStore.getCurrentLastPlayedGameId=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameId},OtherGamesCarouselStore.getCurrentLastPlayedGameSpaceId=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameSpaceId},OtherGamesCarouselStore.getCurrentLastPlayedGameAppId=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameAppId},OtherGamesCarouselStore.getCurrentLastPlayedGamePlatformCode=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGamePlatformCode},OtherGamesCarouselStore.getShowGameContent=function(state){return state.OtherGamesCarouselStore.showGameContent},OtherGamesCarouselStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],OtherGamesCarouselStore)},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(535)),__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_MetaProgressionProfileApi__=__webpack_require__(886),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__actions_LoadingMetaProgressionProfileAction__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return MetaProgressionProfileService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},MetaProgressionProfileService=function(_AbstractActions){function MetaProgressionProfileService(metaProgressionProfileApi){_classCallCheck(this,MetaProgressionProfileService);var _this=_possibleConstructorReturn(this,(MetaProgressionProfileService.__proto__||Object.getPrototypeOf(MetaProgressionProfileService)).call(this));return _this.metaProgressionProfileApi=metaProgressionProfileApi,_this}return _inherits(MetaProgressionProfileService,_AbstractActions),_createClass(MetaProgressionProfileService,[{key:"loadMyMetaProgression",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var byId,hasProfileCallError,expiration,loaded,playerProfile;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState())[__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())],__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=3;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getHasProfileCallError(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getLoaded(this.getState()))),_context.abrupt("return");case 3:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_LoadingMetaProgressionProfileAction__.a(_defineProperty({},__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),!1))),byId={},hasProfileCallError={},expiration={},loaded={},_context.prev=8,_context.next=11,this.metaProgressionProfileApi.getMyMetaProgression();case 11:playerProfile=_context.sent,byId[playerProfile.profileId]=playerProfile,hasProfileCallError[playerProfile.profileId]=!1,expiration[playerProfile.profileId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix(),loaded[playerProfile.profileId]=!0,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,hasProfileCallError,expiration,loaded)),_context.next=23;break;case 19:_context.prev=19,_context.t0=_context["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,_defineProperty({},__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),!0),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),_defineProperty({},__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),!0))),console.error(_context.t0);case 23:case"end":return _context.stop()}},_callee,this,[[8,19]])}))}},{key:"loadFriendMetaProgression",value:function(profileId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var byId,hasProfileCallError,expiration,loaded,playerProfile;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState())[profileId],__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context2.next=3;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getHasProfileCallError(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getLoaded(this.getState()))),_context2.abrupt("return");case 3:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_LoadingMetaProgressionProfileAction__.a(_defineProperty({},profileId,!1))),byId={},hasProfileCallError={},expiration={},loaded={},_context2.prev=8,_context2.next=11,this.metaProgressionProfileApi.getProfileMetaProgressionByProfileId(profileId);case 11:playerProfile=_context2.sent,byId[playerProfile.profileId]=playerProfile,hasProfileCallError[playerProfile.profileId]=!1,expiration[playerProfile.profileId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix(),loaded[playerProfile.profileId]=!0,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,hasProfileCallError,expiration,loaded)),_context2.next=23;break;case 19:_context2.prev=19,_context2.t0=_context2["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,_defineProperty({},profileId,!0),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),_defineProperty({},profileId,!0))),console.error(_context2.t0);case 23:case"end":return _context2.stop()}},_callee2,this,[[8,19]])}))}},{key:"loadFriendsMetaProgressions",value:function(profileIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var userIds,byId,hasProfileCallError,expiration,loaded,playerProfiles,_this2=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(userIds=profileIds.filter(function(profileId){return __WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(_this2.getState())[profileId],__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)}),userIds.length){_context3.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getHasProfileCallError(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getLoaded(this.getState()))),_context3.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_LoadingMetaProgressionProfileAction__.a(userIds.map(function(userId){return _defineProperty({},userId,!1)}).reduce(function(previousValue,currentValue){return __assign({},previousValue,currentValue)}))),byId={},hasProfileCallError={},expiration={},loaded={},_context3.prev=9,_context3.next=12,Promise.all(userIds.map(function(profileId){return _this2.metaProgressionProfileApi.getProfileMetaProgressionByProfileId(profileId)}));case 12:playerProfiles=_context3.sent,playerProfiles.forEach(function(playerProfile){byId[playerProfile.profileId]=playerProfile,hasProfileCallError[playerProfile.profileId]=!1,expiration[playerProfile.profileId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix(),loaded[playerProfile.profileId]=!0}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,hasProfileCallError,expiration,loaded)),_context3.next=21;break;case 17:_context3.prev=17,_context3.t0=_context3["catch"](9),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedMetaProgressionProfileAction__.a(byId,{},__WEBPACK_IMPORTED_MODULE_6__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),userIds.map(function(userId){return _defineProperty({},userId,!0)}).reduce(function(previousValue,currentValue){return __assign({},previousValue,currentValue)}))),console.error(_context3.t0);case 21:case"end":return _context3.stop()}},_callee3,this,[[9,17]])}))}}]),MetaProgressionProfileService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);MetaProgressionProfileService=__decorate([__WEBPACK_IMPORTED_MODULE_1__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_MetaProgressionProfileApi__.a])],MetaProgressionProfileService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(286)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeAvatarGameAction__=__webpack_require__(509),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarSelectedAction__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__=__webpack_require__(510),__WEBPACK_IMPORTED_MODULE_6__actions_UploadImageAction__=__webpack_require__(573),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowResizeAvatarAction__=__webpack_require__(292),__WEBPACK_IMPORTED_MODULE_8__actions_UploadAvatarAction__=__webpack_require__(295),__WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(287),__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(293),__WEBPACK_IMPORTED_MODULE_11__actions_ToggleStopAvatarEventPropagationAction__=__webpack_require__(571),__WEBPACK_IMPORTED_MODULE_12__actions_ToggleShowAvatarSelectorAction__=__webpack_require__(566),__WEBPACK_IMPORTED_MODULE_13__actions_ToggleAvatarTabsAction__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarRulesAction__=__webpack_require__(565),__WEBPACK_IMPORTED_MODULE_15__actions_AvatarGalleryFailedAction__=__webpack_require__(506),__WEBPACK_IMPORTED_MODULE_16__actions_CheckIntervalAction__=__webpack_require__(523),__WEBPACK_IMPORTED_MODULE_17__actions_AvatarImageLoadingAction__=__webpack_require__(776),__WEBPACK_IMPORTED_MODULE_18__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_19__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ChangeAvatarStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ChangeAvatarStore=function(_ReducerStore){function ChangeAvatarStore(){_classCallCheck(this,ChangeAvatarStore);var _this=_possibleConstructorReturn(this,(ChangeAvatarStore.__proto__||Object.getPrototypeOf(ChangeAvatarStore)).call(this));return _this.bind(null,function(){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showResizeAvatar:!1,hasUploadError:!1,hasFileTypeError:!1,hasImageSizeError:!1,hasImageError:!1,hasServiceError:!1,file:null,uploadingAvatarToService:!1,showTooltip:!1,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!1,showChooseFromGalleryTab:!0,showUploadAnAvatarTab:!1,showRules:!1,hasGalleryServiceError:!1,avatarIntervalCheck:!1,isAvatarImageLoadin:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeAvatarGameAction__.a.name,_this.handleChangeAvatarGameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__.a.name,_this.handleChangeAvatarInputValueAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarSelectedAction__.a.name,_this.handleChangeAvatarSelectedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowResizeAvatarAction__.a.name,_this.handleToggleShowResizeAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__.a.name,_this.handleToggleShowAvatarComponentAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_UploadImageAction__.a.name,_this.handleUploadImageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_UploadAvatarAction__.a.name,_this.handleUploadAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowAvatarTooltipAction__.a.name,_this.handleToggleShowAvatarTooltipAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowSelecteAvatarOverlayAction__.a.name,_this.handleToggleShowSelecteAvatarOverlayAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11__actions_ToggleStopAvatarEventPropagationAction__.a.name,_this.handleToggleStopAvatarEventPropagationAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_ToggleShowAvatarSelectorAction__.a.name,_this.handleToggleShowAvatarSelectorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_ToggleAvatarTabsAction__.a.name,_this.handleToggleAvatarTabsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarRulesAction__.a.name,_this.handleToggleShowAvatarRulesAction),
_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_AvatarGalleryFailedAction__.a.name,_this.handleAvatarGalleryFailedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_CheckIntervalAction__.a.name,_this.handleCheckIntervalAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_AvatarImageLoadingAction__.a.name,_this.handleAvatarImageLoadingAction),_this}return _inherits(ChangeAvatarStore,_ReducerStore),_createClass(ChangeAvatarStore,[{key:"handleLoggedOutAction",value:function(state,action){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showResizeAvatar:!1,hasUploadError:!1,hasFileTypeError:!1,hasImageSizeError:!1,hasImageError:!1,hasServiceError:!1,file:null,uploadingAvatarToService:!1,showTooltip:!1,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!0,showChooseFromGalleryTab:!0,showUploadAnAvatarTab:!1,showRules:!1,hasGalleryServiceError:!1,avatarIntervalCheck:!1,isAvatarImageLoadin:!1}}},{key:"handleToggleShowAvatarComponentAction",value:function(state,action){return __assign({},state,{showAvatarComponent:action.show})}},{key:"handleChangeAvatarGameAction",value:function(state,action){return __assign({},state,{selectedGameCode:action.gameCode})}},{key:"handleChangeAvatarInputValueAction",value:function(state,action){return __assign({},state,{writtenGameName:action.input})}},{key:"handleChangeAvatarSelectedAction",value:function(state,action){return __assign({},state,{avatarId:action.avatarId})}},{key:"handleToggleShowResizeAvatarAction",value:function(state,action){return __assign({},state,{showResizeAvatar:action.toggle})}},{key:"handleUploadImageAction",value:function(state,action){return __assign({},state,{hasUploadError:action.hasUploadError,hasFileTypeError:action.hasFileTypeError,hasImageSizeError:action.hasImageSizeError,hasImageError:action.hasImageError,hasServiceError:action.hasServiceError,file:action.file})}},{key:"handleUploadAvatarAction",value:function(state,action){return __assign({},state,{uploadingAvatarToService:action.loading})}},{key:"handleToggleShowAvatarTooltipAction",value:function(state,action){return __assign({},state,{showTooltip:action.toggle})}},{key:"handleToggleShowSelecteAvatarOverlayAction",value:function(state,action){return __assign({},state,{showSelectedAvatarOverlay:action.toggle})}},{key:"handleToggleStopAvatarEventPropagationAction",value:function(state,action){return __assign({},state,{stopEventPropagation:action.toggle})}},{key:"handleToggleShowAvatarSelectorAction",value:function(state,action){return __assign({},state,{showGameSelectorTooltip:action.toggle})}},{key:"handleToggleAvatarTabsAction",value:function(state,action){return __assign({},state,{showChooseFromGalleryTab:action.showChooseFromGalleryTab,showUploadAnAvatarTab:action.showUploadAnAvatarTab})}},{key:"handleToggleShowAvatarRulesAction",value:function(state,action){return __assign({},state,{showRules:action.toggle})}},{key:"handleAvatarGalleryFailedAction",value:function(state,action){return __assign({},state,{hasGalleryServiceError:action.toggle})}},{key:"handleCheckIntervalAction",value:function(state,action){return __assign({},state,{avatarIntervalCheck:!state.avatarIntervalCheck})}},{key:"handleAvatarImageLoadingAction",value:function(state,action){return __assign({},state,{isAvatarImageLoadin:action.isAvatarImageLoadin})}}]),ChangeAvatarStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);ChangeAvatarStore.getState=function(state){return state.ChangeAvatarStore},ChangeAvatarStore.getShowAvatarComponent=function(state){return state.ChangeAvatarStore.showAvatarComponent},ChangeAvatarStore.getAvatarId=function(state){return state.ChangeAvatarStore.avatarId},ChangeAvatarStore.getShowResizeAvatar=function(state){return state.ChangeAvatarStore.showResizeAvatar},ChangeAvatarStore.getSelectedGameCode=function(state){return state.ChangeAvatarStore.selectedGameCode},ChangeAvatarStore.getWrittenGameName=function(state){return state.ChangeAvatarStore.writtenGameName},ChangeAvatarStore.getHasUploadError=function(state){return state.ChangeAvatarStore.hasUploadError},ChangeAvatarStore.getHasFileTypeError=function(state){return state.ChangeAvatarStore.hasFileTypeError},ChangeAvatarStore.getHasImageSizeError=function(state){return state.ChangeAvatarStore.hasImageSizeError},ChangeAvatarStore.getHasImageError=function(state){return state.ChangeAvatarStore.hasImageError},ChangeAvatarStore.getHasServiceError=function(state){return state.ChangeAvatarStore.hasServiceError},ChangeAvatarStore.getFile=function(state){return state.ChangeAvatarStore.file},ChangeAvatarStore.getUploadingAvatarToService=function(state){return state.ChangeAvatarStore.uploadingAvatarToService},ChangeAvatarStore.getShowTooltip=function(state){return state.ChangeAvatarStore.showTooltip},ChangeAvatarStore.getShowRules=function(state){return state.ChangeAvatarStore.showRules},ChangeAvatarStore.getShowSelectedAvatarOverlay=function(state){return state.ChangeAvatarStore.showSelectedAvatarOverlay},ChangeAvatarStore.getStopEventPropagation=function(state){return state.ChangeAvatarStore.stopEventPropagation},ChangeAvatarStore.getShowGameSelectorTooltip=function(state){return state.ChangeAvatarStore.showGameSelectorTooltip},ChangeAvatarStore.getShowChooseFromGalleryTab=function(state){return state.ChangeAvatarStore.showChooseFromGalleryTab},ChangeAvatarStore.getShowUploadAnAvatarTab=function(state){return state.ChangeAvatarStore.showUploadAnAvatarTab},ChangeAvatarStore.getHasGalleryServiceError=function(state){return state.ChangeAvatarStore.hasGalleryServiceError},ChangeAvatarStore.getAvatarIntervalCheck=function(state){return state.ChangeAvatarStore.avatarIntervalCheck},ChangeAvatarStore.getIsAvatarImageLoadin=function(state){return state.ChangeAvatarStore.isAvatarImageLoadin},ChangeAvatarStore=__decorate([__WEBPACK_IMPORTED_MODULE_19__modules_di_injectable__.a,__metadata("design:paramtypes",[])],ChangeAvatarStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFriendGamesCarouselLPGAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(260)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(288),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendPlatformAction__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendToDeleteIdAction__=__webpack_require__(514),__WEBPACK_IMPORTED_MODULE_7__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_8__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FriendProfileStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendProfileStore=function(_ReducerStore){function FriendProfileStore(){_classCallCheck(this,FriendProfileStore);var _this=_possibleConstructorReturn(this,(FriendProfileStore.__proto__||Object.getPrototypeOf(FriendProfileStore)).call(this));return _this.bind(null,function(){return{currentFriendId:null,currentFriendName:null,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceAndAppByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFriendGamesCarouselLPGAction__.a.name,_this.handleChangeFriendGamesCarouselLPGAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendProfileContentAction__.a.name,_this.handleToggleShowFriendProfileContentAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendPlatformAction__.a.name,_this.handleChangedPlatfrom),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowFrindProfileStatsAction__.a.name,_this.handleToggleShowFrindProfileStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendToDeleteIdAction__.a.name,_this.handleChangeFriendToDeleteIdAction),_this}return _inherits(FriendProfileStore,_ReducerStore),_createClass(FriendProfileStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentFriendId:null,currentFriendName:null,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceAndAppByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}}},{key:"handleChangeFriendGamesCarouselLPGAction",value:function(state,action){return __assign({},state,{currentLastPlayedGameOffset:action.currentLastPlayedGameOffset,currentLastPlayedGameId:action.currentLastPlayedGameId,currentLastPlayedGameSpaceId:action.currentLastPlayedGameSpaceId,currentLastPlayedGameAppId:action.currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode:action.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowFriendProfileContentAction",value:function(state,action){return __assign({},state,{showFriendProfileContent:action.show,currentFriendId:action.pid,currentFriendName:action.name})}},{key:"handleChangedPlatfrom",value:function(state,action){return __assign({},state,{selectedSpaceAndAppByGameId:__assign({},state.selectedSpaceAndAppByGameId,_defineProperty({},action.gameId,{spaceId:action.spaceId,appId:action.appId}))})}},{key:"handleToggleShowFrindProfileStatsAction",value:function(state,action){return __assign({},state,{isShownGameStats:action.show})}},{key:"handleChangeFriendToDeleteIdAction",value:function(state,action){return __assign({},state,{currentFriendToDeleteId:action.currentFriendId})}}]),FriendProfileStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);FriendProfileStore.getState=function(state){return state.FriendProfileStore},FriendProfileStore.getCurrentFriendId=function(state){return state.FriendProfileStore.currentFriendId},FriendProfileStore.getCurrentFriendName=function(state){return state.FriendProfileStore.currentFriendName},FriendProfileStore.getCurrentLastPlayedGameOffset=function(state){return state.FriendProfileStore.currentLastPlayedGameOffset},FriendProfileStore.getCurrentLastPlayedGameId=function(state){return state.FriendProfileStore.currentLastPlayedGameId},FriendProfileStore.getCurrentLastPlayedGameSpaceId=function(state){return state.FriendProfileStore.currentLastPlayedGameSpaceId},FriendProfileStore.getCurrentLastPlayedGameAppId=function(state){return state.FriendProfileStore.currentLastPlayedGameAppId},FriendProfileStore.getCurrentLastPlayedGamePlatformCode=function(state){return state.FriendProfileStore.currentLastPlayedGamePlatformCode},FriendProfileStore.getShowGameContent=function(state){return state.FriendProfileStore.showFriendProfileContent},FriendProfileStore.getSelectedSpaceAndAppByGameId=function(state){return state.FriendProfileStore.selectedSpaceAndAppByGameId},FriendProfileStore.getIsShownGameStats=function(state){return state.FriendProfileStore.isShownGameStats},FriendProfileStore.getCurrentFriendToDeleteId=function(state){return state.FriendProfileStore.currentFriendToDeleteId},FriendProfileStore=__decorate([__WEBPACK_IMPORTED_MODULE_8__modules_di_injectable__.a,__metadata("design:paramtypes",[])],FriendProfileStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_ChangeFriendStateAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(262)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeShowFriendRequestsAction__=__webpack_require__(518),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(517),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendDeclineStateAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_6__actions_ToggleAddFriendsTabAction__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_7__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_8__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FriendsActionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsActionsStore=function(_ReducerStore){function FriendsActionsStore(){_classCallCheck(this,FriendsActionsStore);var _this=_possibleConstructorReturn(this,(FriendsActionsStore.__proto__||Object.getPrototypeOf(FriendsActionsStore)).call(this));return _this.bind(null,function(){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1,isCanceled:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_ChangeFriendStateAction__.a.name,_this.handleChangeFriendStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeShowFriendRequestsAction__.a.name,_this.handleChangeShowFriendRequestsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendInvitationsAction__.a.name,_this.handleChangeShowFriendInvitationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendDeclineStateAction__.a.name,_this.handleChangeFriendDeclineStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ToggleAddFriendsTabAction__.a.name,_this.handleShowAddFriendsTab),_this}return _inherits(FriendsActionsStore,_ReducerStore),_createClass(FriendsActionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1,isCanceled:!1}}},{key:"handleChangeFriendStateAction",value:function(state,action){return Object.assign({},state,{currentUserId:action.userId,isStillLoading:action.isStillLoading,isRightAfterLoad:action.isRightAfterLoad,isAccepted:action.isAccepted,isDeclined:action.isDeclined,isCanceled:action.isCanceled})}},{key:"handleChangeShowFriendRequestsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendRequests:action.toggle})}},{key:"handleChangeShowFriendInvitationsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendInvitations:action.toggle})}},{key:"handleChangeFriendDeclineStateAction",value:function(state,action){return Object.assign({},state,{currentDeclineUserId:action.userId})}},{key:"handleShowAddFriendsTab",value:function(state,action){return Object.assign({},state,{showAddFriendsTab:action.showAddFriendsTab})}}]),FriendsActionsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);FriendsActionsStore.getState=function(state){return state.FriendsActionsStore},FriendsActionsStore.getCurrentUserId=function(state){return state.FriendsActionsStore.currentUserId},FriendsActionsStore.getCurrentDeclineUserId=function(state){return state.FriendsActionsStore.currentDeclineUserId},FriendsActionsStore.getIsStillLoading=function(state){return state.FriendsActionsStore.isStillLoading},FriendsActionsStore.getIsRightAfterLoad=function(state){return state.FriendsActionsStore.isRightAfterLoad},FriendsActionsStore.getIsAccepted=function(state){return state.FriendsActionsStore.isAccepted},FriendsActionsStore.getIsDeclined=function(state){return state.FriendsActionsStore.isDeclined},FriendsActionsStore.getIsCanceled=function(state){return state.FriendsActionsStore.isCanceled},FriendsActionsStore.getShowMoreFriendRequests=function(state){return state.FriendsActionsStore.showMoreFriendRequests},FriendsActionsStore.getShowMoreFriendInvitations=function(state){return state.FriendsActionsStore.showMoreFriendInvitations},FriendsActionsStore.getShowAddFriendsTab=function(state){return state.FriendsActionsStore.showAddFriendsTab},FriendsActionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_8__modules_di_injectable__.a,__metadata("design:paramtypes",[])],FriendsActionsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(198)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FriendsGamesPlayedStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsGamesPlayedStore=function(_ReducerStore){function FriendsGamesPlayedStore(){_classCallCheck(this,FriendsGamesPlayedStore);var _this=_possibleConstructorReturn(this,(FriendsGamesPlayedStore.__proto__||Object.getPrototypeOf(FriendsGamesPlayedStore)).call(this));return _this.bind(null,function(){return{friendsByInstallmentId:{},expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a.name,_this.handleLoadedFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(FriendsGamesPlayedStore,_ReducerStore),_createClass(FriendsGamesPlayedStore,[{key:"handleLoggedOutAction",value:function(state,action){return{friendsByInstallmentId:{},expiration:{}}}},{key:"handleLoadedFriendsPlayingGame",value:function(state,action){var friendsByInstallmentId=state.friendsByInstallmentId;Object.keys(action.expiration).forEach(function(installmentId){friendsByInstallmentId[installmentId]=__assign({},friendsByInstallmentId[installmentId],action.friendsByInstallmentId[installmentId])});var expiration=state.expiration;return Object.keys(action.expiration).forEach(function(installmentId){expiration[installmentId]=__assign({},expiration[installmentId],action.expiration[installmentId])}),__assign({},state,{friendsByInstallmentId:__assign({},state.friendsByInstallmentId,action.friendsByInstallmentId),expiration:__assign({},state.expiration,expiration)})}}]),FriendsGamesPlayedStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);FriendsGamesPlayedStore.getState=function(state){return state.FriendsGamesPlayedStore},FriendsGamesPlayedStore.getFriendsByInstallmentId=function(state){return state.FriendsGamesPlayedStore.friendsByInstallmentId},FriendsGamesPlayedStore.getExpiration=function(state){return state.FriendsGamesPlayedStore.expiration},FriendsGamesPlayedStore.loaded=function(state){return state.LoadersStore.FriendsPlayingGame},FriendsGamesPlayedStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],FriendsGamesPlayedStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(201)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsStatsAction__=__webpack_require__(199),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return GamesStatsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesStatsStore=function(_ReducerStore){function GamesStatsStore(){_classCallCheck(this,GamesStatsStore);var _this=_possibleConstructorReturn(this,(GamesStatsStore.__proto__||Object.getPrototypeOf(GamesStatsStore)).call(this));return _this.bind(null,function(){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[],expiration:{},friendsExpiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsStatsAction__.a.name,_this.handleLoadedFriendsStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(GamesStatsStore,_ReducerStore),_createClass(GamesStatsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[],expiration:{},friendsExpiration:{}}}},{key:"handleLoadedGameStatsAction",value:function(state,action){var byId=state.byId;Object.keys(action.stats).forEach(function(userId){var bySpaceId=state.byId[userId]?state.byId[userId]:{};Object.keys(action.stats[userId]).forEach(function(spaceId){bySpaceId[spaceId]?bySpaceId[spaceId]=__assign({},bySpaceId[spaceId],action.stats[userId][spaceId]):bySpaceId[spaceId]=__assign({},action.stats[userId][spaceId])}),byId[userId]=__assign({},byId[userId],bySpaceId)});var expiration=state.expiration;return Object.keys(action.expiration).forEach(function(profileId){expiration[profileId]=__assign({},expiration[profileId],action.expiration[profileId])}),__assign({},state,{byId:__assign({},state.byId,byId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),expiration:__assign({},state.expiration,expiration)})}},{key:"handleLoadedFriendsStatsAction",value:function(state,action){var friendsExpiration=state.friendsExpiration;return Object.keys(action.friendsExpiration).forEach(function(profileIds){
friendsExpiration[profileIds]=__assign({},friendsExpiration[profileIds],action.friendsExpiration[profileIds])}),__assign({},state,{byFriendProfileId:__assign({},state.byFriendProfileId,action.friendsStates),friendsExpiration:__assign({},state.friendsExpiration,friendsExpiration)})}}]),GamesStatsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);GamesStatsStore.getState=function(state){return state.GamesStatsStore},GamesStatsStore.getById=function(state){return state.GamesStatsStore.byId},GamesStatsStore.getByFriendProfileId=function(state){return state.GamesStatsStore.byFriendProfileId},GamesStatsStore.getIds=function(state){return state.GamesStatsStore.ids},GamesStatsStore.getBySpaceId=function(state){return state.GamesStatsStore.bySpaceId},GamesStatsStore.getExpiration=function(state){return state.GamesStatsStore.expiration},GamesStatsStore.getFriendsExpiration=function(state){return state.GamesStatsStore.friendsExpiration},GamesStatsStore.loaded=function(state){return state.LoadersStore.GamesStats},GamesStatsStore.loadedFriendsStats=function(state){return state.LoadersStore.GamesFriendsStats},GamesStatsStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],GamesStatsStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedMetaProgressionProfileAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(535)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingMetaProgressionProfileAction__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_5__actions_DeleteLoadKeyMetaProgressionProfileAction__=__webpack_require__(777),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__actions_UpdateExpirationMetaProgressionProfileAction__=__webpack_require__(572);__webpack_require__.d(exports,"a",function(){return MetaProgressionProfileStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},MetaProgressionProfileStore=function(_ReducerStore){function MetaProgressionProfileStore(){_classCallCheck(this,MetaProgressionProfileStore);var _this=_possibleConstructorReturn(this,(MetaProgressionProfileStore.__proto__||Object.getPrototypeOf(MetaProgressionProfileStore)).call(this));return _this.bind(null,function(){return{byId:null,hasProfileCallError:null,expiration:{},loaded:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedMetaProgressionProfileAction__.a.name,_this.handleLoadedPlayerProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingMetaProgressionProfileAction__.a.name,_this.handleLoadingMetaProgressionProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_DeleteLoadKeyMetaProgressionProfileAction__.a.name,_this.handleDeleteLoadKeyMetaProgressionProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_UpdateExpirationMetaProgressionProfileAction__.a.name,_this.handleUpdateExpirationMetaProgressionProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(MetaProgressionProfileStore,_ReducerStore),_createClass(MetaProgressionProfileStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:null,hasProfileCallError:null,expiration:{},loaded:{}}}},{key:"handleLoadedPlayerProfileAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),hasProfileCallError:__assign({},state.hasProfileCallError,action.hasProfileCallError),expiration:__assign({},state.expiration,action.expiration),loaded:__assign({},state.loaded,action.loaded)})}},{key:"handleLoadingMetaProgressionProfileAction",value:function(state,action){return __assign({},state,{loaded:__assign({},state.loaded,action.loaded)})}},{key:"handleDeleteLoadKeyMetaProgressionProfileAction",value:function(state,action){return delete state.loaded[action.key],state}},{key:"handleUpdateExpirationMetaProgressionProfileAction",value:function(state,action){return __assign({},state,{expiration:__assign({},state.expiration,_defineProperty({},action.oldKey,0))})}}]),MetaProgressionProfileStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);MetaProgressionProfileStore.getState=function(state){return state.MetaProgressionProfileStore},MetaProgressionProfileStore.getById=function(state){return state.MetaProgressionProfileStore.byId},MetaProgressionProfileStore.getHasProfileCallError=function(state){return state.MetaProgressionProfileStore.hasProfileCallError},MetaProgressionProfileStore.getExpiration=function(state){return state.MetaProgressionProfileStore.expiration},MetaProgressionProfileStore.getLoaded=function(state){return state.MetaProgressionProfileStore.loaded},MetaProgressionProfileStore=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[])],MetaProgressionProfileStore)},,,,,,,function(module,exports,__webpack_require__){"use strict";function GoBackView(props){return React.createElement("div",{className:"contentBlock arrowMobileBlock"},React.createElement("div",{className:"go-back-container"},React.createElement("a",{className:"link go-back-button",onClick:props.onClickGoBack.bind(null)},React.createElement("i",{className:"icon-angle-left"}),props.showGoBackText?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Back"):null,props.showChangeAvatarText?React.createElement("div",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Back")):null)))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7);exports.a=GoBackView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DebugService});var CONSOLE_LOG_TYPE,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();!function(CONSOLE_LOG_TYPE){CONSOLE_LOG_TYPE[CONSOLE_LOG_TYPE.LOG="LOG"]="LOG",CONSOLE_LOG_TYPE[CONSOLE_LOG_TYPE.INFO="INFO"]="INFO",CONSOLE_LOG_TYPE[CONSOLE_LOG_TYPE.WARN="WARN"]="WARN",CONSOLE_LOG_TYPE[CONSOLE_LOG_TYPE.ERROR="ERROR"]="ERROR"}(CONSOLE_LOG_TYPE||(CONSOLE_LOG_TYPE={}));var DebugService=function(){function DebugService(debug){_classCallCheck(this,DebugService),this.debug=!1,this.debug=!1,void 0!==debug&&null!==debug&&(this.debug=debug)}return _createClass(DebugService,[{key:"enableDebug",value:function(){this.debug=!0}},{key:"disableDebug",value:function(){this.debug=!1}},{key:"setDebug",value:function(debug){this.debug=debug}},{key:"log",value:function(messages){this.consoleCall(messages,CONSOLE_LOG_TYPE.LOG)}},{key:"info",value:function(messages){this.consoleCall(messages,CONSOLE_LOG_TYPE.INFO)}},{key:"warn",value:function(messages){this.consoleCall(messages,CONSOLE_LOG_TYPE.WARN)}},{key:"error",value:function(messages){this.consoleCall(messages,CONSOLE_LOG_TYPE.ERROR)}},{key:"consoleCall",value:function(messages,type){var _this=this;this.debug&&(messages&&Array.isArray(messages)?messages.forEach(function(message){_this.switchByType(message,type)}):this.switchByType(messages,type))}},{key:"switchByType",value:function(message,type){if(message)switch(type){case CONSOLE_LOG_TYPE.LOG:console.log(message);break;case CONSOLE_LOG_TYPE.INFO:console.info(message);break;case CONSOLE_LOG_TYPE.WARN:console.warn(message);break;case CONSOLE_LOG_TYPE.ERROR:console.error(message);break;default:console.log(message)}}}]),DebugService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(263)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameShowRulesAction__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__=__webpack_require__(520),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__=__webpack_require__(521),__WEBPACK_IMPORTED_MODULE_6__actions_LocalizedMessageAction__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_7__actions_UserNameErrorTimeLimitAction__=__webpack_require__(579),__WEBPACK_IMPORTED_MODULE_8__actions_UserNameErrorGeneralAction__=__webpack_require__(575),__WEBPACK_IMPORTED_MODULE_9__actions_ValidationCallAction__=__webpack_require__(582),__WEBPACK_IMPORTED_MODULE_10__actions_UserNameErrorAvailableAction__=__webpack_require__(574),__WEBPACK_IMPORTED_MODULE_11__actions_UserNameErrorRequiredAction__=__webpack_require__(577),__WEBPACK_IMPORTED_MODULE_12__actions_UserNameErrorRestrictedAction__=__webpack_require__(578),__WEBPACK_IMPORTED_MODULE_13__actions_UserNameErrorLocalizedAction__=__webpack_require__(576),__WEBPACK_IMPORTED_MODULE_14__actions_StartErrorAction__=__webpack_require__(559),__WEBPACK_IMPORTED_MODULE_15__actions_UserNameLengthErrorAction__=__webpack_require__(580),__WEBPACK_IMPORTED_MODULE_16__actions_CharacterErrorAction__=__webpack_require__(522),__WEBPACK_IMPORTED_MODULE_17__actions_CompanyErrorAction__=__webpack_require__(524),__WEBPACK_IMPORTED_MODULE_18__actions_ValidationErrorCodeAction__=__webpack_require__(583),__WEBPACK_IMPORTED_MODULE_19__actions_LoadedTwoFactorAuthStatusAction__=__webpack_require__(538),__WEBPACK_IMPORTED_MODULE_20__actions_UserNameUbisoftErrorAction__=__webpack_require__(581),__WEBPACK_IMPORTED_MODULE_21__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_22__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UserNameStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserNameStore=function(_ReducerStore){function UserNameStore(){_classCallCheck(this,UserNameStore);var _this=_possibleConstructorReturn(this,(UserNameStore.__proto__||Object.getPrototypeOf(UserNameStore)).call(this));return _this.bind(null,function(){return{hasError:!1,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_ValidationErrorCodeAction__.a.name,_this.handleValidationErrorCodeAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_CompanyErrorAction__.a.name,_this.handleCompanyErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_CharacterErrorAction__.a.name,_this.handleCharacterErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_UserNameLengthErrorAction__.a.name,_this.handleUserNameLengthErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_StartErrorAction__.a.name,_this.handleStartErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_UserNameErrorLocalizedAction__.a.name,_this.handleUserNameErrorLocalizedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_UserNameErrorRestrictedAction__.a.name,_this.handleUserNameErrorRestrictedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11__actions_UserNameErrorRequiredAction__.a.name,_this.handleUserNameErrorRequiredAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10__actions_UserNameErrorAvailableAction__.a.name,_this.handleUserNameErrorAvailableAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_UserNameUbisoftErrorAction__.a.name,_this.handleUserNameUbisoftErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_ValidationCallAction__.a.name,_this.handleValidationCallAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_UserNameErrorGeneralAction__.a.name,_this.handleUserNameErrorGeneralAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_UserNameErrorTimeLimitAction__.a.name,_this.handleUserNameErrorTimeLimitAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_LocalizedMessageAction__.a.name,_this.handleLocalizedMessageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a.name,_this.handleChangeUserNameErrorType),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a.name,_this.handleChangeUserNameError),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__.a.name,_this.handleChangeUserNameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameShowRulesAction__.a.name,_this.handleChangeUserNameShowRules),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_LoadedTwoFactorAuthStatusAction__.a.name,_this.handleLoadedTwoFactorAuthStatusAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(UserNameStore,_ReducerStore),_createClass(UserNameStore,[{key:"handleLoggedOutAction",value:function(state,action){return{hasError:!1,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}}},{key:"handleChangeUserNameAction",value:function(state,action){return __assign({},state,{showChangeUserName:action.showChangeUserName,userName:action.userName,isValidating:action.isValidating})}},{key:"handleChangeUserNameShowRules",value:function(state,action){return __assign({},state,{showRules:action.showRules})}},{key:"handleChangeUserNameError",value:function(state,action){return __assign({},state,{hasError:action.hasError})}},{key:"handleChangeUserNameErrorType",value:function(state,action){return __assign({},state,{errorType:action.errorType})}},{key:"handleLocalizedMessageAction",value:function(state,action){return __assign({},state,{validationErrorLocalizedMessage:action.error})}},{key:"handleUserNameErrorTimeLimitAction",value:function(state,action){return __assign({},state,{hasUserNameErrorTimeLimit:action.hasError})}},{key:"handleUserNameErrorGeneralAction",value:function(state,action){return __assign({},state,{hasUserNameErrorGeneral:action.hasError})}},{key:"handleValidationCallAction",value:function(state,action){return __assign({},state,{isCallingValidation:action.start})}},{key:"handleUserNameErrorAvailableAction",value:function(state,action){return __assign({},state,{hasUserNameErrorAvailable:action.hasError})}},{key:"handleUserNameErrorRequiredAction",value:function(state,action){return __assign({},state,{hasUserNameErrorRequired:action.hasError})}},{key:"handleUserNameErrorRestrictedAction",value:function(state,action){return __assign({},state,{hasUserNameErrorRestricted:action.hasError})}},{key:"handleUserNameErrorLocalizedAction",value:function(state,action){return __assign({},state,{hasUserNameErrorLocalized:action.hasError})}},{key:"handleStartErrorAction",value:function(state,action){return __assign({},state,{hasStartError:action.start})}},{key:"handleUserNameLengthErrorAction",value:function(state,action){return __assign({},state,{hasUserNameLengthError:action.hasError})}},{key:"handleCharacterErrorAction",value:function(state,action){return __assign({},state,{hasCharacterError:action.start})}},{key:"handleCompanyErrorAction",value:function(state,action){return __assign({},state,{hasCompanyError:action.start})}},{key:"handleValidationErrorCodeAction",value:function(state,action){return __assign({},state,{validationErrorCode:action.error,hasValidationErrors:action.hasError})}},{key:"handleLoadedTwoFactorAuthStatusAction",value:function(state,action){return __assign({},state,{twoFactorAuthStatus:action.optin})}},{key:"handleUserNameUbisoftErrorAction",value:function(state,action){return __assign({},state,{hasUserNameUbisoftError:action.hasError})}}]),UserNameStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);UserNameStore.getState=function(state){return state.UserNameStore},UserNameStore.getHasError=function(state){return state.UserNameStore.hasError},UserNameStore.getHasValidationErrors=function(state){return state.UserNameStore.hasValidationErrors},UserNameStore.getValidationErrorCode=function(state){return state.UserNameStore.validationErrorCode},UserNameStore.getValidationErrorLocalizedMessage=function(state){return state.UserNameStore.validationErrorLocalizedMessage},UserNameStore.getShowChangeUserName=function(state){return state.UserNameStore.showChangeUserName},UserNameStore.getIsCallingValidation=function(state){return state.UserNameStore.isCallingValidation},UserNameStore.getShowRules=function(state){return state.UserNameStore.showRules},UserNameStore.getErrorType=function(state){return state.UserNameStore.errorType},UserNameStore.getHasUserNameErrorTimeLimit=function(state){return state.UserNameStore.hasUserNameErrorTimeLimit},UserNameStore.getHasUserNameErrorGeneral=function(state){return state.UserNameStore.hasUserNameErrorGeneral},UserNameStore.getHasUserNameErrorAvailable=function(state){return state.UserNameStore.hasUserNameErrorAvailable},UserNameStore.getHasUserNameErrorRequired=function(state){return state.UserNameStore.hasUserNameErrorRequired},UserNameStore.getHasUserNameErrorRestricted=function(state){return state.UserNameStore.hasUserNameErrorRestricted},UserNameStore.getHasUserNameErrorLocalized=function(state){return state.UserNameStore.hasUserNameErrorLocalized},UserNameStore.getHasStartError=function(state){return state.UserNameStore.hasStartError},UserNameStore.getHasUserNameLengthError=function(state){return state.UserNameStore.hasUserNameLengthError},UserNameStore.getHasCharacterError=function(state){return state.UserNameStore.hasCharacterError},UserNameStore.getHasCompanyError=function(state){return state.UserNameStore.hasCompanyError},UserNameStore.getHasUserNameUbisoftError=function(state){return state.UserNameStore.hasUserNameUbisoftError},UserNameStore.getIsValidating=function(state){return state.UserNameStore.isValidating},UserNameStore.getTwoFactorAuthStatus=function(state){return state.UserNameStore.twoFactorAuthStatus},UserNameStore.getUserName=function(state){return state.UserNameStore.userName},UserNameStore=__decorate([__WEBPACK_IMPORTED_MODULE_22__modules_di_injectable__.a,__metadata("design:paramtypes",[])],UserNameStore)},,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"b",function(){return OperationStatus}),__webpack_require__.d(exports,"c",function(){return RefreshStatus}),__webpack_require__.d(exports,"d",function(){return GeneralStatus}),__webpack_require__.d(exports,"a",function(){return EXTERANL_LOGIN_TYPE});var OperationStatus;!function(OperationStatus){OperationStatus[OperationStatus.READY="ready"]="READY",OperationStatus[OperationStatus.ERROR="error"]="ERROR",OperationStatus[OperationStatus.OK="ok"]="OK",OperationStatus[OperationStatus.INVALID_DOMAIN="invalidDomain"]="INVALID_DOMAIN",OperationStatus[OperationStatus.AGE_GATE_FAILED="agaGateFailed"]="AGE_GATE_FAILED",OperationStatus[OperationStatus.TWO_FA_FAILED="2faFailed"]="TWO_FA_FAILED",OperationStatus[OperationStatus.INVALID_CONFIG="invalidConfig"]="INVALID_CONFIG",OperationStatus[OperationStatus.MISSING_TICKET="missingTicket"]="MISSING_TICKET",OperationStatus[OperationStatus.MISSING_SESSION_ID="missingSessionId"]="MISSING_SESSION_ID",OperationStatus[OperationStatus.MISSING_USER_ID="missingUserId"]="MISSING_USER_ID",OperationStatus[OperationStatus.THIRD_PARTY_COOKIES_DISABLED="thirdPartyCookiesDisabled"]="THIRD_PARTY_COOKIES_DISABLED",OperationStatus[OperationStatus.SSO_RETRIEVE_ERROR="ssoRetrieveError"]="SSO_RETRIEVE_ERROR",OperationStatus[OperationStatus.NO_LOGIN_DATA="noLoginData"]="NO_LOGIN_DATA"}(OperationStatus||(OperationStatus={}));var RefreshStatus;!function(RefreshStatus){RefreshStatus[RefreshStatus.OK="ok"]="OK",RefreshStatus[RefreshStatus.NO_LOGIN_DATA="noLoginData"]="NO_LOGIN_DATA",RefreshStatus[RefreshStatus.SSO_ERROR="ssoError"]="SSO_ERROR",RefreshStatus[RefreshStatus.AGE_GATE="ageGate"]="AGE_GATE",RefreshStatus[RefreshStatus.USER_ERROR="userError"]="USER_ERROR",RefreshStatus[RefreshStatus.INVALID_CONFIG="invalidConfig"]="INVALID_CONFIG",RefreshStatus[RefreshStatus.INVALID_TWO_FA_STATUS="invalidTwoFaStatus"]="INVALID_TWO_FA_STATUS"}(RefreshStatus||(RefreshStatus={}));var GeneralStatus;!function(GeneralStatus){GeneralStatus[GeneralStatus.ACTIVATED="activated"]="ACTIVATED",GeneralStatus[GeneralStatus.PENDING_ACTIVATION="pendingActivation"]="PENDING_ACTIVATION"}(GeneralStatus||(GeneralStatus={}));var EXTERANL_LOGIN_TYPE;!function(EXTERANL_LOGIN_TYPE){EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_NONE="none"]="LOGIN_NONE",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_PSN="psn"]="LOGIN_PSN",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_XBOX="xbox"]="LOGIN_XBOX",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_TWITCH="twitch"]="LOGIN_TWITCH"}(EXTERANL_LOGIN_TYPE||(EXTERANL_LOGIN_TYPE={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ReloadAction});var ReloadAction=function ReloadAction(){_classCallCheck(this,ReloadAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__modules_eventListener_Channel__=__webpack_require__(304);__webpack_require__.d(exports,"a",function(){return WidgetChannelService});var WidgetChannelService=function(_Channel){function WidgetChannelService(origin,target,debug){return _classCallCheck(this,WidgetChannelService),_possibleConstructorReturn(this,(WidgetChannelService.__proto__||Object.getPrototypeOf(WidgetChannelService)).call(this,origin,target,debug))}return _inherits(WidgetChannelService,_Channel),WidgetChannelService}(__WEBPACK_IMPORTED_MODULE_0__modules_eventListener_Channel__.a)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(196)),__WEBPACK_IMPORTED_MODULE_3__actions_ReloadAction__=__webpack_require__(110),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ConnectionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConnectionsStore=function(_ReducerStore){function ConnectionsStore(){_classCallCheck(this,ConnectionsStore);var _this=_possibleConstructorReturn(this,(ConnectionsStore.__proto__||Object.getPrototypeOf(ConnectionsStore)).call(this));return _this.bind(null,function(){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ConnectionsStore,_ReducerStore),_createClass(ConnectionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}}},{key:"handleLoadedConnectionsAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),byProfileId:__assign({},state.byProfileId,action.byProfileId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),profileIdsForCall:state.profileIdsForCall.filter(function(id){return!action.profileIdsForCall.includes(id)}).concat(action.profileIdsForCall),expiration:__assign({},state.expiration,action.expiration)})}}]),ConnectionsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);ConnectionsStore.getState=function(state){return state.ConnectionsStore},ConnectionsStore.getByProfileId=function(state){return state.ConnectionsStore.byProfileId},ConnectionsStore.getById=function(state){return state.ConnectionsStore.byId},ConnectionsStore.getIds=function(state){return state.ConnectionsStore.ids},ConnectionsStore.getProfileIdsForCall=function(state){return state.ConnectionsStore.profileIdsForCall},ConnectionsStore.getBySpaceId=function(state){return state.ConnectionsStore.bySpaceId},ConnectionsStore.getExpiration=function(state){return state.ConnectionsStore.expiration},ConnectionsStore.loaded=function(state){return state.LoadersStore.Connections},ConnectionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],ConnectionsStore)},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__webpack_require__(7)),__WEBPACK_IMPORTED_MODULE_3__Tooltip_views_TooltipView__=__webpack_require__(303);__webpack_require__.d(exports,"a",function(){return AvatarView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defaultAvatarUrl=__webpack_require__(935),AvatarView=function(_PureComponent){function AvatarView(){_classCallCheck(this,AvatarView);var _this=_possibleConstructorReturn(this,(AvatarView.__proto__||Object.getPrototypeOf(AvatarView)).apply(this,arguments));return _this.state={isLoadedImage:!1,isLoadedSuccessfully:!1},_this.mountedComponent=!1,_this}return _inherits(AvatarView,_PureComponent),_createClass(AvatarView,[{key:"render",value:function(){return this.props.onClick&&this.props.editAvatar?React.createElement(__WEBPACK_IMPORTED_MODULE_3__Tooltip_views_TooltipView__.a,{className:"avatar-maintenance-tooltip",showTooltip:!1,locale:this.props.locale,hasTrigger:this.props.avatarMaintenance,content:React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Avatars are currently down for technical maintenance"),changeTooltipState:this.props.changeTooltipState},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()(this.props.className||"avatar",{"edit-avatar":this.props.editAvatar&&!this.props.avatarMaintenance,active:this.props.isActive}),onClick:this.props.onClick.bind(null)},React.createElement("div",null,!this.state.isLoadedImage||this.state.isLoadedSuccessfully?React.createElement("img",{src:this.props.avatarUrl}):null,this.state.isLoadedImage&&!this.state.isLoadedSuccessfully?React.createElement("img",{src:defaultAvatarUrl}):null),React.createElement("div",{className:"icon-container"},React.createElement("i",{className:"icon-camera"})))):React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()(this.props.className||"avatar")},!this.state.isLoadedImage||this.state.isLoadedSuccessfully?React.createElement("img",{src:this.props.avatarUrl}):null,this.state.isLoadedImage&&!this.state.isLoadedSuccessfully?React.createElement("img",{src:defaultAvatarUrl}):null)}},{key:"componentDidMount",value:function(){var _this2=this;this.mountedComponent=!0;var image=new Image;image.onload=function(){_this2.mountedComponent&&_this2.setState({isLoadedImage:!0,isLoadedSuccessfully:!0})},image.onerror=function(){_this2.mountedComponent&&_this2.setState({isLoadedImage:!0,isLoadedSuccessfully:!1})},image.src=this.props.avatarUrl}},{key:"componentWillUnmount",value:function(){this.mountedComponent=!1}}]),AvatarView}(__WEBPACK_IMPORTED_MODULE_1_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return TAB_DETAILS}),__webpack_require__.d(exports,"b",function(){return FRIENDS_TAB_PANEL});var TAB_DETAILS;!function(TAB_DETAILS){TAB_DETAILS[TAB_DETAILS.OVERVIEW_VIEW="OVERVIEW_VIEW"]="OVERVIEW_VIEW",TAB_DETAILS[TAB_DETAILS.FRIEND_VIEW="FRIEND_VIEW"]="FRIEND_VIEW"}(TAB_DETAILS||(TAB_DETAILS={}));var OVERVIEW_TAB_DETAILS;!function(OVERVIEW_TAB_DETAILS){OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.GAME_VIEW="GAME_VIEW"]="GAME_VIEW",OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.AVATAR_VIEW="AVATAR_VIEW"]="AVATAR_VIEW",OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.NAME_VIEW="NAME_VIEW"]="NAME_VIEW"}(OVERVIEW_TAB_DETAILS||(OVERVIEW_TAB_DETAILS={}));var FRIENDS_TAB_DETAILS;!function(FRIENDS_TAB_DETAILS){FRIENDS_TAB_DETAILS[FRIENDS_TAB_DETAILS.ADD_FRIEND_VIEW="ADD_FRIEND_VIEW"]="ADD_FRIEND_VIEW",FRIENDS_TAB_DETAILS[FRIENDS_TAB_DETAILS.FRIEND_PROFILE_VIEW="FRIEND_PROFILE_VIEW"]="FRIEND_PROFILE_VIEW"}(FRIENDS_TAB_DETAILS||(FRIENDS_TAB_DETAILS={}));var FRIENDS_TAB_PANEL;!function(FRIENDS_TAB_PANEL){FRIENDS_TAB_PANEL[FRIENDS_TAB_PANEL.MAIN_VIEW="MAIN_VIEW"]="MAIN_VIEW",FRIENDS_TAB_PANEL[FRIENDS_TAB_PANEL.STATS_VIEW="STATS_VIEW"]="STATS_VIEW"}(FRIENDS_TAB_PANEL||(FRIENDS_TAB_PANEL={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(26)),__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_8__queries_UserQueries__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_9__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10__locale_queries_LocaleQueries__=__webpack_require__(22);__webpack_require__.d(exports,"a",function(){return AvatarsQueries});var AvatarsQueries=function(_AuthenticationQuerie){function AvatarsQueries(){return _classCallCheck(this,AvatarsQueries),_possibleConstructorReturn(this,(AvatarsQueries.__proto__||Object.getPrototypeOf(AvatarsQueries)).apply(this,arguments))}return _inherits(AvatarsQueries,_AuthenticationQuerie),AvatarsQueries}(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationQueries);AvatarsQueries.getMyDefaultAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyDefaultAvatar",__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_5_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(state,props){return!(!props||null===props.noAppId||void 0===props.noAppId)&&props.noAppId},function(userId,appId,avatarUrl,noAppId){return noAppId?avatarUrl+"/"+userId+"/default_[size].png":avatarUrl+"/"+userId+"/default_[size].png?appId="+appId}),AvatarsQueries.getMyAvatarSmall=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarSmall",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","146_146")}),AvatarsQueries.getMyAvatarLarge=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarLarge",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","256_256")}),AvatarsQueries.getMyAvatarTall=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarTall",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","tall")}),AvatarsQueries.getMyAvatarData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarData",__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(avatarData,userId){return avatarData&&avatarData[userId]?avatarData[userId]:null}),AvatarsQueries.getMyAvatarDataDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarData",__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getDetailsById,__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(avatarData,userId){return avatarData?avatarData[userId]:null}),AvatarsQueries.getMyAvatarDataImages=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarData",__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getImagesById,__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(avatarData,userId){return avatarData?avatarData[userId]:null}),AvatarsQueries.getIsMyAvatarBaned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getIsMyAvatarBaned",AvatarsQueries.getMyAvatarData,function(avatarData){return!!avatarData&&avatarData.isAvatarBanned}),AvatarsQueries.getIsPlayerBanned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getIsPlayerBanned",AvatarsQueries.getMyAvatarData,function(avatarData){return!!avatarData&&avatarData.isProfileBanned}),AvatarsQueries.getMyAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatar",AvatarsQueries.getMyAvatarDataImages,AvatarsQueries.getMyAvatarSmall,__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,AvatarsQueries.getMyAvatarData,function(avatarImages,myAvatar,appId){return avatarImages?avatarImages[146].indexOf("?")!==-1?avatarImages[146]+"&appId="+appId:avatarImages[146]+"?appId="+appId+"&tm="+(new Date).getTime():myAvatar+"&tm="+(new Date).getTime()}),AvatarsQueries.getCountryCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getCountryCode",__WEBPACK_IMPORTED_MODULE_8__queries_UserQueries__.a.getMyCountryCode,__WEBPACK_IMPORTED_MODULE_9__selectors__.k,__WEBPACK_IMPORTED_MODULE_10__locale_queries_LocaleQueries__.a.getCurrentLocale,function(countryCode,ipCountryCode,currentLocale){return countryCode?countryCode:ipCountryCode?ipCountryCode:currentLocale.split("-")[1]}),AvatarsQueries.getAvatarsFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getAvatarsFromGallery",__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getByInstallmentSpaceId,__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getConfigsByCountryCode,AvatarsQueries.getCountryCode,function(avatarData,configs,countryCode){return configs&&configs[countryCode]?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(avatarData,function(avatars,installmentSpaceId){var found=configs[countryCode].spaces.find(function(space){return space.spaceId===installmentSpaceId}),value=found?found.displayName:null;return{key:installmentSpaceId,value:value}}):[]}),AvatarsQueries.getFirstAvatarFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getFirstAvatarFromGallery",AvatarsQueries.getAvatarsFromGallery,function(avatarData){return avatarData.length>0?avatarData[0]:null}),AvatarsQueries.getDefaultInstallmentSpaceIdFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getFirstAvatarsFromGallery",AvatarsQueries.getFirstAvatarFromGallery,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getSelectedGameCode,function(avatarData,selectedGameCode){return selectedGameCode?selectedGameCode:avatarData?avatarData.key:null}),AvatarsQueries.getDefaultGameNameFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getDefaultGameNameFromGallery",AvatarsQueries.getDefaultInstallmentSpaceIdFromGallery,AvatarsQueries.getAvatarsFromGallery,function(selectedInstallmentSpaceId,avatarData){return selectedInstallmentSpaceId&&avatarData.find(function(avatar){return avatar.key==selectedInstallmentSpaceId})?avatarData.find(function(avatar){return avatar.key==selectedInstallmentSpaceId}).value:null}),AvatarsQueries.getFilteredAvatarsFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getFilteredAvatarsFromGallery",AvatarsQueries.getAvatarsFromGallery,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getWrittenGameName,function(avatars,gameName){return gameName?avatars.filter(function(avatar){return avatar.value&&avatar.value.toLowerCase().indexOf(gameName.toLowerCase())!==-1}):avatars}),AvatarsQueries.getAvatarsFromGalleryByInstallmentSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getAvatarsFromGalleryByInstallmentSpaceId",__WEBPACK_IMPORTED_MODULE_6__stores_AvatarStore__.a.getByInstallmentSpaceId,AvatarsQueries.getDefaultInstallmentSpaceIdFromGallery,function(avatars,installmentSpaceId){return installmentSpaceId?avatars[installmentSpaceId]:[]}),AvatarsQueries.getAvatarImagePreview=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getAvatarImagePreview",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.preview:null}),AvatarsQueries.getFileName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getFileName",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.name:null}),AvatarsQueries.getFileType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("AvatarsQueries.getFileType",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.type:null})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_4__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=__webpack_require__(44);__webpack_require__.d(exports,"a",function(){return FriendsOwnedGamesQueries});var FriendsOwnedGamesQueries=function FriendsOwnedGamesQueries(){_classCallCheck(this,FriendsOwnedGamesQueries)};FriendsOwnedGamesQueries.getFriendsGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsGamesPlayed",__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__.a.getCurrentLastPlayedInstallmentId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendsGamesPlayedStore__.a.getFriendsByInstallmentId,__WEBPACK_IMPORTED_MODULE_1__selectors__.g,function(installmentId,friendsByInstallmentId,friendsUserProfilesIdsString){return friendsByInstallmentId[installmentId]&&friendsByInstallmentId[installmentId][friendsUserProfilesIdsString]?friendsByInstallmentId[installmentId][friendsUserProfilesIdsString]:[]}),FriendsOwnedGamesQueries.getFriendsGamesPlayedProfileIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsGamesPlayedProfileIds",FriendsOwnedGamesQueries.getFriendsGamesPlayed,function(gamesPlayed){return gamesPlayed.map(function(game){return game.profileId})}),FriendsOwnedGamesQueries.getFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGame",__WEBPACK_IMPORTED_MODULE_1__selectors__.h,FriendsOwnedGamesQueries.getFriendsGamesPlayedProfileIds,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,function(friends,friendsProfilIds,profilesByIds){return friends.filter(function(friend){return!!friendsProfilIds.find(function(profilId){return friend.pid==profilesByIds[profilId].userId})})}),FriendsOwnedGamesQueries.getFriendsPlayingGameNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGameNames",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.nameOnPlatform})}),FriendsOwnedGamesQueries.getNbOfFriendsPlaying=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getNbOfFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.length}),FriendsOwnedGamesQueries.getHasFriendsPlaying=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getHasFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.length>0}),FriendsOwnedGamesQueries.getFriendsPlayingIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getHasFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.pid})}),FriendsOwnedGamesQueries.getFriendsPlayingGameForSelect=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGameForSelect",FriendsOwnedGamesQueries.getFriendsPlayingGame,__WEBPACK_IMPORTED_MODULE_4__stores_StatsComparisonStore__.a.getWrittenFriendName,function(friends,friendName){return friendName?friends.map(function(friend){return{key:friend.pid,value:friend.nameOnPlatform}}).filter(function(friend){return friend.value.toLowerCase().indexOf(friendName.toLowerCase())!==-1}):friends.map(function(friend){return{key:friend.pid,value:friend.nameOnPlatform}})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);__webpack_require__.d(exports,"a",function(){return GamesCommonQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GamesCommonQueries=function(){function GamesCommonQueries(){_classCallCheck(this,GamesCommonQueries)}return _createClass(GamesCommonQueries,null,[{key:"isValidDate",value:function(date){return!!date&&(__WEBPACK_IMPORTED_MODULE_0_moment___default()(date).isValid()&&1!==__WEBPACK_IMPORTED_MODULE_0_moment___default()(date).year())}},{key:"isInSiblingsSpaceIds",value:function(siblingsSpaceIdsByParentSpaceId,gameSpaceId,installmentId){return!!siblingsSpaceIdsByParentSpaceId[gameSpaceId]&&!!siblingsSpaceIdsByParentSpaceId[gameSpaceId].find(function(spaceId){return spaceId==installmentId})}},{key:"getGamesPlayed",value:function(applicationsByUserId,userId,byPlatformApplicationId,bySpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,lastSessionDates,siblingsSpaceIdsByParentSpaceId,customStoreBuyButton){if(!applicationsByUserId||!applicationsByUserId[userId]||applicationsByUserId[userId]&&!Object.keys(applicationsByUserId[userId]).length)return[];var aggregateGames=applicationsByUserId[userId].filter(function(appId){return!!byPlatformApplicationId[appId]}).map(function(appId){return byPlatformApplicationId[appId]}).map(function(applicationToSpace){return bySpaceId[applicationToSpace.parentSpaceId]});if(aggregateGames.length<=0)return[];var gamesById={};return aggregateGames.forEach(function(game){var ownedAppIds=GamesCommonQueries.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,game),platforms=ownedAppIds.length?ownedAppIds.map(function(appId){return platformsByApplicationId[appId]}).sort(function(a,b){return GamesCommonQueries.sortPlatforms(lastSessionDates,userId,a,b)}):platformsApplicationsIdsByParentSpaceId[game.spaceId]?platformsApplicationsIdsByParentSpaceId[game.spaceId].map(function(appId){return platformsByApplicationId[appId]}).sort(function(a,b){return GamesCommonQueries.sortPlatforms(lastSessionDates,userId,a,b)}):[],foundSpaceId=siblingsSpaceIdsByParentSpaceId[game.spaceId]?siblingsSpaceIdsByParentSpaceId[game.spaceId].find(function(spaceId){return!!bySpaceId[spaceId]&&!!bySpaceId[spaceId].publishedAt}):null;gamesById[game.id]={spaceId:game.spaceId,gameName:game.title,gameCleanUrl:game.cleanUrl,id:game.id,publishedAt:game.publishedAt?game.publishedAt:foundSpaceId?bySpaceId[foundSpaceId].publishedAt:null,platformCode:platforms.length?platforms[0].displayName:"",platformType:platforms.length?platforms[0].type:"",installmentId:game.id,userId:userId,imageUrl:game.thumbUrl,lastPlayedDate:lastSessionDates[userId]&&platforms.length?lastSessionDates[userId][platforms[0].applicationId]:null,isOwned:ownedAppIds.length>0,applicationId:platforms.length?platforms[0].applicationId:null,coverUrl:game.coverUrl,shopUrl:GamesCommonQueries.getShopUrl(game,customStoreBuyButton)}}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.map)(gamesById,function(game){return game}).sort(function(a,b){return GamesCommonQueries.sortGames(a,b)})}}]),GamesCommonQueries}();GamesCommonQueries.sortPlatforms=function(lastSessionDates,userId,a,b){return lastSessionDates&&lastSessionDates[userId]?!GamesCommonQueries.isValidDate(lastSessionDates[userId][a.applicationId])&&GamesCommonQueries.isValidDate(lastSessionDates[userId][b.applicationId])?1:GamesCommonQueries.isValidDate(lastSessionDates[userId][a.applicationId])&&!GamesCommonQueries.isValidDate(lastSessionDates[userId][b.applicationId])?-1:GamesCommonQueries.isValidDate(lastSessionDates[userId][a.applicationId])||GamesCommonQueries.isValidDate(lastSessionDates[userId][b.applicationId])?__WEBPACK_IMPORTED_MODULE_0_moment___default()(lastSessionDates[userId][a.applicationId]).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(lastSessionDates[userId][b.applicationId]))?1:-1:0:0},GamesCommonQueries.sortGames=function(a,b){return!GamesCommonQueries.isValidDate(a.lastPlayedDate)&&GamesCommonQueries.isValidDate(b.lastPlayedDate)?1:GamesCommonQueries.isValidDate(a.lastPlayedDate)&&!GamesCommonQueries.isValidDate(b.lastPlayedDate)?-1:GamesCommonQueries.isValidDate(a.lastPlayedDate)||GamesCommonQueries.isValidDate(b.lastPlayedDate)?__WEBPACK_IMPORTED_MODULE_0_moment___default()(a.lastPlayedDate).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(b.lastPlayedDate))?1:-1:!GamesCommonQueries.isValidDate(a.publishedAt)&&GamesCommonQueries.isValidDate(b.publishedAt)?1:GamesCommonQueries.isValidDate(a.publishedAt)&&!GamesCommonQueries.isValidDate(b.publishedAt)?-1:GamesCommonQueries.isValidDate(a.publishedAt)||GamesCommonQueries.isValidDate(b.publishedAt)?__WEBPACK_IMPORTED_MODULE_0_moment___default()(a.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(b.publishedAt))?1:-1:a.gameName>b.gameName?1:-1},GamesCommonQueries.getOwnedAppIds=function(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,game){return applicationsByUserId[userId]?applicationsByUserId[userId].filter(function(appId){return platformsApplicationsIdsByParentSpaceId[game.spaceId].indexOf(appId)!==-1}):[]},GamesCommonQueries.getShopUrl=function(game,customStoreBuyButton){return game.links&&game.links.store?game.links.store:"string"==typeof customStoreBuyButton&&"true"!==customStoreBuyButton&&"false"!==customStoreBuyButton?customStoreBuyButton+"?q="+encodeURIComponent(game.cleanUrl.replace(/-/g," ")):"//store.ubi.com/search?q="+encodeURIComponent(game.cleanUrl.replace(/-/g," "))}},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_app_services_FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(169)),__WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_5_app_stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_7_app_services_ConnectionsService__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_9__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_11__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_12__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_13__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23);__webpack_require__.d(exports,"a",function(){return FriendsActionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),
Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsActionsService=function(_AbstractActions){function FriendsActionsService(friendsService,profilesService,connectionsService,metaProgressionProfileService,communicationService){_classCallCheck(this,FriendsActionsService);var _this=_possibleConstructorReturn(this,(FriendsActionsService.__proto__||Object.getPrototypeOf(FriendsActionsService)).call(this));return _this.friendsService=friendsService,_this.profilesService=profilesService,_this.connectionsService=connectionsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.communicationService=communicationService,_this}return _inherits(FriendsActionsService,_AbstractActions),_createClass(FriendsActionsService,[{key:"handleDeclineRequest",value:function(pid,friendState){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var isDeclined,isCanceled;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return isDeclined=!friendState||friendState!==__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE,isCanceled=friendState&&friendState===__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE,this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!1),isDeclined,isCanceled)),_context.prev=4,_context.next=7,this.friendsService.declineFriend(pid);case 7:_context.next=13;break;case 9:return _context.prev=9,_context.t0=_context["catch"](4),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1))),_context.abrupt("return");case 13:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(pid,(!1),(!0),(!1),isDeclined,isCanceled)),_context.next=16,this.map(pid,__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP);case 16:this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1)));case 17:case"end":return _context.stop()}},_callee,this,[[4,9]])}))}},{key:"handleAcceptRequest",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!0),(!1),(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__.a(null)),_context2.prev=2,_context2.next=5,this.friendsService.acceptFriend(pid);case 5:_context2.next=11;break;case 7:return _context2.prev=7,_context2.t0=_context2["catch"](2),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1))),_context2.abrupt("return");case 11:return _context2.next=13,Promise.all([this.metaProgressionProfileService.loadFriendMetaProgression(pid),this.profilesService.loadFriendUserProfiles(pid)]);case 13:return _context2.next=15,this.connectionsService.loadFriendConnections(pid);case 15:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(pid,(!1),(!0),(!0),(!1),(!1))),_context2.next=18,this.map(pid,__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__.a.FRIENDS);case 18:this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1)));case 19:case"end":return _context2.stop()}},_callee2,this,[[2,7]])}))}},{key:"map",value:function(pid,state){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var promise,friends,userId;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,new Promise(function(resolve){return setTimeout(function(){return resolve()},3e3)});case 2:return promise=_context3.sent,friends=__assign({},__WEBPACK_IMPORTED_MODULE_5_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]=__assign({},friends[pid],{state:state,lastModified:__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),stillInRequests:!1}),userId=__WEBPACK_IMPORTED_MODULE_9__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.friendsService.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.map)(friends,function(friend){return friend}),userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context3.abrupt("return",promise);case 8:case"end":return _context3.stop()}},_callee3,this)}))}}]),FriendsActionsService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);FriendsActionsService=__decorate([__WEBPACK_IMPORTED_MODULE_12__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_7_app_services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_11__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_13__modules_integrator_communication_services_CommunicationService__.a])],FriendsActionsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedAvatarAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(159)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGalleryAvatarsAction__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return AvatarStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AvatarStore=function(_ReducerStore){function AvatarStore(){_classCallCheck(this,AvatarStore);var _this=_possibleConstructorReturn(this,(AvatarStore.__proto__||Object.getPrototypeOf(AvatarStore)).call(this));return _this.bind(null,function(){return{byId:null,detailsById:null,imagesById:null,byInstallmentSpaceId:null,configsByCountryCode:null,expirations:{avatar:null,galleries:null}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedAvatarAction__.a.name,_this.handleLoadedAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGalleryAvatarsAction__.a.name,_this.handleLoadedGalleryAvatarsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(AvatarStore,_ReducerStore),_createClass(AvatarStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:null,detailsById:null,imagesById:null,byInstallmentSpaceId:null,configsByCountryCode:null,expirations:{avatar:null,galleries:null}}}},{key:"handleLoadedAvatarAction",value:function(state,action){return action.detailsById||action.imagesById?action.detailsById&&!action.imagesById?__assign({},state,{byId:__assign({},state.byId,action.byId)},{detailsById:__assign({},state.detailsById,action.detailsById)}):!action.detailsById&&action.imagesById?__assign({},state,{byId:__assign({},state.byId,action.byId)},{imagesById:__assign({},state.imagesById,action.imagesById)}):__assign({},state,{byId:__assign({},state.byId,action.byId)},{detailsById:__assign({},state.detailsById,action.detailsById)},{imagesById:__assign({},state.imagesById,action.imagesById)},{expirations:__assign({},state.expirations,{avatar:action.expiration})}):__assign({},state,{byId:__assign({},state.byId,action.byId)})}},{key:"handleLoadedGalleryAvatarsAction",value:function(state,action){return __assign({},state,__assign({byInstallmentSpaceId:__assign({},state.byInstallmentSpaceId,action.byInstallmentSpaceId),configsByCountryCode:__assign({},state.configsByCountryCode,action.configsByCountryCode)},{expirations:__assign({},state.expirations,{galleries:action.expirations.galleries})}))}}]),AvatarStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);AvatarStore.getState=function(state){return state.AvatarStore},AvatarStore.getById=function(state){return state.AvatarStore.byId},AvatarStore.getDetailsById=function(state){return state.AvatarStore.detailsById},AvatarStore.getImagesById=function(state){return state.AvatarStore.imagesById},AvatarStore.getByInstallmentSpaceId=function(state){return state.AvatarStore.byInstallmentSpaceId},AvatarStore.getConfigsByCountryCode=function(state){return state.AvatarStore.configsByCountryCode},AvatarStore.getExpirations=function(state){return state.AvatarStore.expirations},AvatarStore.getLoaded=function(state){return state.LoadersStore.Avatars},AvatarStore.getLoadedGalleryAvatars=function(state){return state.LoadersStore.GalleryAvatars},AvatarStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],AvatarStore)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(269)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return NewsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},NewsStore=function(_ReducerStore){function NewsStore(){_classCallCheck(this,NewsStore);var _this=_possibleConstructorReturn(this,(NewsStore.__proto__||Object.getPrototypeOf(NewsStore)).call(this));return _this.bind(null,function(){return{news:[],byId:{},bySpaceId:{},expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__.a.name,_this.handleLoadedGamesNewsAction),_this}return _inherits(NewsStore,_ReducerStore),_createClass(NewsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{news:[],byId:{},bySpaceId:{},expiration:{}}}},{key:"handleLoadedGamesNewsAction",value:function(state,action){return __assign({},state,{news:[].concat(_toConsumableArray(state.news),_toConsumableArray(action.news)),byId:__assign({},state.byId,action.byId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),expiration:__assign({},state.expiration,action.expiration)})}}]),NewsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);NewsStore.getState=function(state){return state.NewsStore},NewsStore.getById=function(state){return state.NewsStore.byId},NewsStore.getBySpaceId=function(state){return state.NewsStore.bySpaceId},NewsStore.getExpiration=function(state){return state.NewsStore.expiration},NewsStore.loaded=function(state){return state.LoadersStore.News},NewsStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],NewsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(271)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return PopulationsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PopulationsStore=function(_ReducerStore){function PopulationsStore(){_classCallCheck(this,PopulationsStore);var _this=_possibleConstructorReturn(this,(PopulationsStore.__proto__||Object.getPrototypeOf(PopulationsStore)).call(this));return _this.bind(null,function(){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__.a.name,_this.handleLoadedPopulationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(PopulationsStore,_ReducerStore),_createClass(PopulationsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}}},{key:"handleLoadedPopulationsAction",value:function(state,action){return __assign({},state,{populations:state.populations.concat(action.populations),byUniqueName:__assign({},state.byUniqueName,action.byUniqueName),byType:__assign({},state.byType,action.byType),byBetaName:__assign({},state.byBetaName,action.byBetaName),byPhaseName:__assign({},state.byPhaseName,action.byPhaseName),byPlatformCode:__assign({},state.byPlatformCode,action.byPlatformCode),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),expiration:null!==action.expiration?action.expiration:state.expiration})}}]),PopulationsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);PopulationsStore.getState=function(state){return state.PopulationsStore},PopulationsStore.getPopulations=function(state){return state.PopulationsStore.populations},PopulationsStore.getByUniqueName=function(state){return state.PopulationsStore.byUniqueName},PopulationsStore.getByType=function(state){return state.PopulationsStore.byType},PopulationsStore.getByBetaName=function(state){return state.PopulationsStore.byBetaName},PopulationsStore.getByPhaseName=function(state){return state.PopulationsStore.byPhaseName},PopulationsStore.getByPlatformCode=function(state){return state.PopulationsStore.byPlatformCode},PopulationsStore.getBySpaceId=function(state){return state.PopulationsStore.bySpaceId},PopulationsStore.getExpiration=function(state){return state.PopulationsStore.expiration},PopulationsStore.loaded=function(state){return state.LoadersStore.Populations},PopulationsStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],PopulationsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_ChangeFriendStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(512)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__=__webpack_require__(568),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(289),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsInputValueAction__=__webpack_require__(513),__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return StatsComparisonStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},StatsComparisonStore=function(_ReducerStore){function StatsComparisonStore(){_classCallCheck(this,StatsComparisonStore);var _this=_possibleConstructorReturn(this,(StatsComparisonStore.__proto__||Object.getPrototypeOf(StatsComparisonStore)).call(this));return _this.bind(null,function(){return{selectedFriendId:null,selectedFriendName:null,isShownGameStats:!1,showFriendSelectorTooltip:!1,writtenFriendName:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__actions_ChangeFriendStatsAction__.a.name,_this.handleChangeFriendStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__.a.name,_this.handleToggleShowGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a.name,_this.handleToggleShowFriendsSelectorTooltipWarningAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsInputValueAction__.a.name,_this.handleChangeFriendStatsInputValueAction),_this}return _inherits(StatsComparisonStore,_ReducerStore),_createClass(StatsComparisonStore,[{key:"handleLoggedOutAction",value:function(state,action){return{selectedFriendId:null,selectedFriendName:null,isShownGameStats:!1,showFriendSelectorTooltip:!0,writtenFriendName:null}}},{key:"handleChangeFriendStatsAction",value:function(state,action){return __assign({},state,{selectedFriendId:action.selectedFriendId,selectedFriendName:action.selectedFriendName})}},{key:"handleToggleShowGameStatsAction",value:function(state,action){return __assign({},state,{isShownGameStats:action.show})}},{key:"handleToggleShowFriendsSelectorTooltipWarningAction",value:function(state,action){return __assign({},state,{showFriendSelectorTooltip:action.toggle})}},{key:"handleChangeFriendStatsInputValueAction",value:function(state,action){return __assign({},state,{writtenFriendName:action.input})}}]),StatsComparisonStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);StatsComparisonStore.getState=function(state){return state.StatsComparisonStore},StatsComparisonStore.getSelectedFriendId=function(state){return state.StatsComparisonStore.selectedFriendId},StatsComparisonStore.getSelectedFriendName=function(state){return state.StatsComparisonStore.selectedFriendName},StatsComparisonStore.getIsShownGameStats=function(state){return state.StatsComparisonStore.isShownGameStats},StatsComparisonStore.getShowFriendSelectorTooltip=function(state){return state.StatsComparisonStore.showFriendSelectorTooltip},StatsComparisonStore.getWrittenFriendName=function(state){return state.StatsComparisonStore.writtenFriendName},StatsComparisonStore=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[])],StatsComparisonStore)},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return FailedFriendsApiAction});var FailedFriendsApiAction=function FailedFriendsApiAction(hasError){_classCallCheck(this,FailedFriendsApiAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAvatarAction});var LoadedAvatarAction=function LoadedAvatarAction(byId,detailsById,imagesById,expiration){_classCallCheck(this,LoadedAvatarAction),this.byId=byId,this.detailsById=detailsById,this.imagesById=imagesById,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGameStatsAction});var LoadingGameStatsAction=function LoadingGameStatsAction(){_classCallCheck(this,LoadingGameStatsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowOverviewTabDetailsViewAction});var ToggleShowOverviewTabDetailsViewAction=function ToggleShowOverviewTabDetailsViewAction(show){
_classCallCheck(this,ToggleShowOverviewTabDetailsViewAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(164)),__WEBPACK_IMPORTED_MODULE_2__stejar_utils__=__webpack_require__(114),__WEBPACK_IMPORTED_MODULE_3_app_modules_analytics_services_AnalyticsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__),__webpack_require__(19)),__WEBPACK_IMPORTED_MODULE_4_app_services_FriendsService__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFilterFriendsByNameAction__=__webpack_require__(511),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeShowFriendRequestsAction__=__webpack_require__(518),__WEBPACK_IMPORTED_MODULE_7__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(517),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_9__actions_ToggleAddFriendsTabAction__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_10__CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_11__services_RecentlyMetService__=__webpack_require__(618),__WEBPACK_IMPORTED_MODULE_12__services_SocialNetworkService__=__webpack_require__(319),__WEBPACK_IMPORTED_MODULE_13__stores_SocialNetworkStore__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_14__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(204),__WEBPACK_IMPORTED_MODULE_16_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_17__queries_RecentlyMetQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_lodash__),__webpack_require__(218)),__WEBPACK_IMPORTED_MODULE_18__actions_FailedFriendsApiAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_19__services_MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_20__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_21__CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return FriendsCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsCommunicationService=function(_AbstractActions){function FriendsCommunicationService(analyticsService,friendsService,communicationService,recentlyMetService,socialNetworkService,metaProgressionProfileService,commonActionsService){_classCallCheck(this,FriendsCommunicationService);var _this=_possibleConstructorReturn(this,(FriendsCommunicationService.__proto__||Object.getPrototypeOf(FriendsCommunicationService)).call(this));return _this.analyticsService=analyticsService,_this.friendsService=friendsService,_this.communicationService=communicationService,_this.recentlyMetService=recentlyMetService,_this.socialNetworkService=socialNetworkService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.commonActionsService=commonActionsService,_this.debounceNameFilterCallback=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_lodash__.debounce)(function(name){name&&name.length>=1&&_this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeFilterFriendsByNameAction__.a(name)),name||_this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeFilterFriendsByNameAction__.a(""))},500),_this.debounceTrackingCallback=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_lodash__.debounce)(function(name){name&&name.length>=1&&_this.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","search for friend")},1500),_this}return _inherits(FriendsCommunicationService,_AbstractActions),_createClass(FriendsCommunicationService,[{key:"onRedirectToFriend",value:function(clickFriendsProfileType,userName,clubUrl,locale){clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_SELF&&(window.parent.location.href=clubUrl+"/"+locale+"/profile/"+userName),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_BLANK&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(clubUrl+"/"+locale+"/profile/"+userName),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.TYPE_POST_MESSAGE&&(window.parent&&window.parent.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"),window.parent||window.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"))}},{key:"onChangeNameToFilterBy",value:function(name){this.debounceNameFilterCallback(name),this.debounceTrackingCallback(name)}},{key:"onToggleShowMoreFriendRequests",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeShowFriendRequestsAction__.a(toggle))}},{key:"onToggleShowMoreFriendsInvitations",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ChangeShowFriendInvitationsAction__.a(toggle))}},{key:"onCancelDeclineRequest",value:function(userId,state){this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__.a(null))}},{key:"onConfirmDeclineRequest",value:function(userId,state){this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendDeclineStateAction__.a(userId))}},{key:"showAddFriendsTab",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","add friends"),this.analyticsService.trackPage("friends tab","add friends panel"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ToggleAddFriendsTabAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowFriendsTabDetailsViewAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_FailedFriendsApiAction__.a((!1)))],__WEBPACK_IMPORTED_MODULE_14__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&promises.push(this.commonActionsService.hideFriendsDetailsProfileContent()),_context.next=6,Promise.all(promises);case 6:return _context.next=8,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 8:return _context.next=10,this.loadData();case 10:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadData",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Promise.all([this.recentlyMetService.loadRecentlyMet(),this.socialNetworkService.loadFriends(__WEBPACK_IMPORTED_MODULE_13__stores_SocialNetworkStore__.a.getSelectedTab(this.getState()))]);case 2:if(!__WEBPACK_IMPORTED_MODULE_17__queries_RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()).length){_context2.next=5;break}return _context2.next=5,this.metaProgressionProfileService.loadFriendsMetaProgressions(__WEBPACK_IMPORTED_MODULE_17__queries_RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()));case 5:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"hideAddFriendsTab",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.commonActionsService.hideFriendsDetailsAddContent();case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}))}}]),FriendsCommunicationService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);FriendsCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_20__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_app_modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_4_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_10__CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_11__services_RecentlyMetService__.a,__WEBPACK_IMPORTED_MODULE_12__services_SocialNetworkService__.a,__WEBPACK_IMPORTED_MODULE_19__services_MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_21__CommonActionsService__.a])],FriendsCommunicationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(263)),__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__=__webpack_require__(915),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__=__webpack_require__(520),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__=__webpack_require__(521),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__=__webpack_require__(559),__WEBPACK_IMPORTED_MODULE_7__actions_UserNameLengthErrorAction__=__webpack_require__(580),__WEBPACK_IMPORTED_MODULE_8__actions_CharacterErrorAction__=__webpack_require__(522),__WEBPACK_IMPORTED_MODULE_9__actions_CompanyErrorAction__=__webpack_require__(524),__WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__=__webpack_require__(582),__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_12__actions_LocalizedMessageAction__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_13__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorTimeLimitAction__=__webpack_require__(579),__WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__=__webpack_require__(575),__WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__=__webpack_require__(574),__WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorRequiredAction__=__webpack_require__(577),__WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorRestrictedAction__=__webpack_require__(578),__WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorLocalizedAction__=__webpack_require__(576),__WEBPACK_IMPORTED_MODULE_20__queries_UserNameQueries__=__webpack_require__(613),__WEBPACK_IMPORTED_MODULE_21__actions_UpdateScreenNameAction__=__webpack_require__(294),__WEBPACK_IMPORTED_MODULE_22__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_23__CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_24__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_25__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_27__analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_28__actions_UserNameUbisoftErrorAction__=__webpack_require__(581),__WEBPACK_IMPORTED_MODULE_29__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_30__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_31__CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return NameChangeService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NameChangeService=function(_AbstractActions){function NameChangeService(userNameService,communicationService,analyticsService,commonActionsService){_classCallCheck(this,NameChangeService);var _this=_possibleConstructorReturn(this,(NameChangeService.__proto__||Object.getPrototypeOf(NameChangeService)).call(this));return _this.userNameService=userNameService,_this.communicationService=communicationService,_this.analyticsService=analyticsService,_this.commonActionsService=commonActionsService,_this}return _inherits(NameChangeService,_AbstractActions),_createClass(NameChangeService,[{key:"handleClickChangeUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getTwoFactorAuthStatus(this.getState())){_context.next=2;break}return _context.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getShowChangeUserName(this.getState())){_context.next=7;break}return this.goBackToValidateState(),_context.next=6,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 6:return _context.abrupt("return");case 7:return this.analyticsService.trackEvent("user tab","player card","global nav","interaction","edit your username"),this.analyticsService.trackPage("user tab","player card : username"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0)))],__WEBPACK_IMPORTED_MODULE_24__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&promises.push(this.commonActionsService.hideOverviewDetailsGameContent()),__WEBPACK_IMPORTED_MODULE_25__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&promises.push(this.commonActionsService.hideOverviewDetailsAvatarContent()),promises.length&&Promise.all(promises),_context.next=15,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 15:this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__.a((!0),userName,(!1)));case 17:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleCloseUserName",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return __WEBPACK_IMPORTED_MODULE_29__queries_WidgetQueries__.a.getIsInMobileView(this.getState())||__WEBPACK_IMPORTED_MODULE_29__queries_WidgetQueries__.a.getShowMobileViewOnDesktop(this.getState())?this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","close edit username popup"):this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","edit username popup : cancel"),this.analyticsService.trackPage("user tab","player card"),this.resetServiceErrors(),_context2.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 5:this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!1)));case 7:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"handleToggleShowRules",value:function(showRules){this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!showRules)))}},{key:"saveUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","edit username popup : save"),_context3.next=3,this.callValidation(userName);case 3:if(!__WEBPACK_IMPORTED_MODULE_20__queries_UserNameQueries__.a.getHasAnyError(this.getState())&&!__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getHasValidationErrors(this.getState())){_context3.next=5;break}return _context3.abrupt("return");case 5:return this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_LocalizedMessageAction__.a(null)),_context3.prev=10,_context3.next=13,this.userNameService.updateScreenName(userName);case 13:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_UpdateScreenNameAction__.a(userName,__WEBPACK_IMPORTED_MODULE_22__authentication_queries_IdentityQueries__.a.getUserId(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!1))),_context3.next=18,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 18:_context3.next=33;break;case 20:_context3.prev=20,_context3.t0=_context3["catch"](10),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),_context3.t1=_context3.t0.data.errorCode.toString(),_context3.next=_context3.t1===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.a?26:_context3.t1===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.b?26:29;break;case 26:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorTimeLimitAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!1))),_context3.abrupt("break",32);case 29:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),_context3.abrupt("break",32);case 32:this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!1)));case 33:case"end":return _context3.stop()}},_callee3,this,[[10,20]])}))}},{key:"callValidation",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var hasError;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(this.resetServiceErrors(),hasError=this.validateUserName(userName),!hasError){_context4.next=4;break}return _context4.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!0))),_context4.next=7,this.userNameService.validateUserName(userName);case 7:if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!1))),!__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getHasValidationErrors(this.getState())){_context4.next=32;break}this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),_context4.t0=__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getValidationErrorCode(this.getState()).toString(),_context4.next=_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.c?13:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.d?15:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.e?17:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.f?19:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.g?21:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.a?23:_context4.t0===__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.b?23:25;break;case 13:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a((!0))),_context4.abrupt("break",27);case 15:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorRequiredAction__.a((!0))),_context4.abrupt("break",27);case 17:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorRestrictedAction__.a((!0))),_context4.abrupt("break",27);case 19:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorLocalizedAction__.a((!0))),_context4.abrupt("break",27);case 21:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__.a((!0))),_context4.abrupt("break",27);case 23:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorTimeLimitAction__.a((!0))),_context4.abrupt("break",27);case 25:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__.a((!0))),_context4.abrupt("break",27);case 27:this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getValidationErrorCode(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_LocalizedMessageAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getValidationErrorLocalizedMessage(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),_context4.next=33;break;case 32:this.noServiceErrors();case 33:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"checkIfUserNameIsValid",value:function(userName){this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!1))),this.validateUserName(userName),__WEBPACK_IMPORTED_MODULE_20__queries_UserNameQueries__.a.getHasAnyError(this.getState())||(this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(null)))}},{key:"validateUserName",value:function(userName,onClickChangeName){var hasError=!1;return this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__.a((!0),userName,(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!1))),userName!==__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__selectors__.i)(this.getState())||onClickChangeName?this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a(null)):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.c)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),""==userName||null==userName?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.h)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__.a((!1))),userName.length<3||userName.length>15?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_UserNameLengthErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.i)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_UserNameLengthErrorAction__.a((!1))),/^[a-zA-Z]+$/.test(userName.substring(0,1))?this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__.a((!1))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.h)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),/^[a-zA-Z0-9_.\-]*$/.test(userName)?this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_CharacterErrorAction__.a((!1))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_CharacterErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.j)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),hasError}},{key:"resetServiceErrors",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorRequiredAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorRestrictedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorLocalizedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorTimeLimitAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__.a(null))}},{key:"noServiceErrors",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorRequiredAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorRestrictedAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorLocalizedAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorTimeLimitAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorGeneralAction__.a((!1)))}},{key:"resetErrors",
value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorAvailableAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_StartErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_UserNameLengthErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_CharacterErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_CompanyErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_UserNameUbisoftErrorAction__.a(null))}},{key:"goBackToValidateState",value:function(){this.resetErrors(),this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ValidationCallAction__.a((!1)))}},{key:"handleChangeUserName",value:function(userName){this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ChangeUserNameAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getShowChangeUserName(this.getState()),userName,__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getIsValidating(this.getState())))}}]),NameChangeService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);NameChangeService=__decorate([__WEBPACK_IMPORTED_MODULE_30__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__services_UserNameService__.k,__WEBPACK_IMPORTED_MODULE_23__CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_27__analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_31__CommonActionsService__.a])],NameChangeService)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"b",function(){return LOGIN_TYPE}),__webpack_require__.d(exports,"e",function(){return EXTERANL_LOGIN_TYPE}),__webpack_require__.d(exports,"c",function(){return CUSTOM_LINKS_ACTIONS}),__webpack_require__.d(exports,"d",function(){return CLICK_FRIENDS_PROFILE_TYPE}),__webpack_require__.d(exports,"a",function(){return OVERWRITTEN_LINKS_TYPE});var LOGIN_TYPE;!function(LOGIN_TYPE){LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_MODAL="modal"]="LOGIN_TYPE_MODAL",LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_POPUP="popup"]="LOGIN_TYPE_POPUP"}(LOGIN_TYPE||(LOGIN_TYPE={}));var EXTERANL_LOGIN_TYPE;!function(EXTERANL_LOGIN_TYPE){EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_NONE="none"]="LOGIN_NONE",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_PSN="psn"]="LOGIN_PSN",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_XBOX="xbox"]="LOGIN_XBOX",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_TWITCH="twitch"]="LOGIN_TWITCH"}(EXTERANL_LOGIN_TYPE||(EXTERANL_LOGIN_TYPE={}));var CUSTOM_LINKS_ACTIONS;!function(CUSTOM_LINKS_ACTIONS){CUSTOM_LINKS_ACTIONS[CUSTOM_LINKS_ACTIONS.REDIRECT="REDIRECT"]="REDIRECT",CUSTOM_LINKS_ACTIONS[CUSTOM_LINKS_ACTIONS.OPEN_NEW_TAB="OPEN_NEW_TAB"]="OPEN_NEW_TAB",CUSTOM_LINKS_ACTIONS[CUSTOM_LINKS_ACTIONS.OPEN_POPUP="OPEN_POPUP"]="OPEN_POPUP"}(CUSTOM_LINKS_ACTIONS||(CUSTOM_LINKS_ACTIONS={}));var CLICK_FRIENDS_PROFILE_TYPE;!function(CLICK_FRIENDS_PROFILE_TYPE){CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_SELF="Self"]="TYPE_SELF",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_BLANK="Blank"]="TYPE_BLANK",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_POST_MESSAGE="PostMessage"]="TYPE_POST_MESSAGE"}(CLICK_FRIENDS_PROFILE_TYPE||(CLICK_FRIENDS_PROFILE_TYPE={}));var OVERWRITTEN_LINKS_TYPE;!function(OVERWRITTEN_LINKS_TYPE){OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.ACCOUNT="account"]="ACCOUNT",OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.SUPPORT="support"]="SUPPORT",OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.STORE="store"]="STORE"}(OVERWRITTEN_LINKS_TYPE||(OVERWRITTEN_LINKS_TYPE={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"b",function(){return LOCALE_STRINGS_ARRAY}),__webpack_require__.d(exports,"a",function(){return LOCALE_STRINGS_OBJ});var LOCALE_STRINGS_ARRAY=["ar-AE","zh-CN","zh-TW","zh-HK","cs-CZ","da-DK","nl-NL","en-GB","en-CA","en-US","fi-FI","fr-FR","fr-CA","de-DE","hu-HU","it-IT","ja-JP","ko-KR","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","th-TH","tr-TR","uk-UA"],LOCALE_STRINGS_OBJ={"ar-AE":"ar-AE","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-TW","cs-CZ":"cs-CZ","da-DK":"da-DK","nl-NL":"nl-NL","en-GB":"en-GB","en-CA":"en-CA","en-US":"en-US","fi-FI":"fi-FI","fr-FR":"fr-FR","fr-CA":"fr-CA","de-DE":"de-DE","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","pl-PL":"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR","ru-RU":"ru-RU","es-ES":"es-ES","es-MX":"es-MX","sv-SE":"sv-SE","th-TH":"th-TH","tr-TR":"tr-TR","uk-UA":"uk-UA"}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_di_injectable__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(3)),__WEBPACK_IMPORTED_MODULE_2__actions_PageLoaderAction__=__webpack_require__(549),__WEBPACK_IMPORTED_MODULE_3__stores_PageLoaderStore__=__webpack_require__(171);__webpack_require__.d(exports,"a",function(){return PageLoaderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PageLoaderService=function(_AbstractActions){function PageLoaderService(){return _classCallCheck(this,PageLoaderService),_possibleConstructorReturn(this,(PageLoaderService.__proto__||Object.getPrototypeOf(PageLoaderService)).call(this))}return _inherits(PageLoaderService,_AbstractActions),_createClass(PageLoaderService,[{key:"showPageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_PageLoaderAction__.a(__WEBPACK_IMPORTED_MODULE_3__stores_PageLoaderStore__.a.getShowPageLoader(this.getState()),(!0))),_context.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},1)});case 3:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_PageLoaderAction__.a((!0),__WEBPACK_IMPORTED_MODULE_3__stores_PageLoaderStore__.a.getDisplayPageLoader(this.getState()))),_context.abrupt("return",new Promise(function(resolve){return setTimeout(function(){return resolve()},200)}));case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"hidePageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_PageLoaderAction__.a((!1),__WEBPACK_IMPORTED_MODULE_3__stores_PageLoaderStore__.a.getDisplayPageLoader(this.getState()))),_context2.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},200)});case 3:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_PageLoaderAction__.a(__WEBPACK_IMPORTED_MODULE_3__stores_PageLoaderStore__.a.getShowPageLoader(this.getState()),(!1))),_context2.abrupt("return",Promise.resolve());case 5:case"end":return _context2.stop()}},_callee2,this)}))}}]),PageLoaderService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);PageLoaderService=__decorate([__WEBPACK_IMPORTED_MODULE_1__modules_di_injectable__.a,__metadata("design:paramtypes",[])],PageLoaderService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return Swiper});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Swiper=function(){function Swiper(element,onSwipeStart,onSwipeEnd){_classCallCheck(this,Swiper),this.touchSurface=element,this.swipeStartCallback=onSwipeStart,this.swipeEndCallback=onSwipeEnd,this.addEvents()}return _createClass(Swiper,[{key:"addEvents",value:function(){this.touchSurface&&(this.touchSurface.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.addEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.addEventListener("touchend",this.onTouchEnd.bind(this),!1))}},{key:"onTouchStart",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"onTouchMove",value:function(e){if(this.xDown&&this.yDown){this.xUp=e.touches[0].clientX,this.yUp=e.touches[0].clientY;var xDiff=this.xDown-this.xUp,yDiff=this.yDown-this.yUp,swipeRightBol=!1,swipeLeftBol=!1;Math.abs(xDiff)>Math.abs(yDiff)&&(swipeLeftBol=xDiff>0,swipeRightBol=xDiff<=0),this.swipeStartCallback({swipeRight:swipeRightBol,swipeLeft:swipeLeftBol}),this.xDown=null,this.yDown=null,this.xUp=null,this.yUp=null}}},{key:"onTouchEnd",value:function(e){this.xDown&&this.yDown||this.swipeEndCallback&&this.swipeEndCallback()}},{key:"removeEvents",value:function(){this.touchSurface&&(this.touchSurface.removeEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.removeEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.removeEventListener("touchend",this.onTouchEnd.bind(this),!1))}}]),Swiper}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_2__stores_UserStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(175)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=__webpack_require__(6);__webpack_require__.d(exports,"a",function(){return UserQueries});var UserQueries=function UserQueries(){_classCallCheck(this,UserQueries)};UserQueries.getMyUserDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_2__stores_UserStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,hasIdentity,userId){return hasIdentity?byId[userId]:null}),UserQueries.getMyStatus=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(UserQueries.getMyUserDetails,function(user){return user?user.status:null}),UserQueries.getMyMinorStatus=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(UserQueries.getMyStatus,function(userStatus){return!!userStatus&&userStatus.minor}),UserQueries.getMyAccountCreationDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(UserQueries.getMyUserDetails,function(user){return user?user.dateCreated:null}),UserQueries.getMyNbOfYearsWithUbi=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(UserQueries.getMyAccountCreationDate,function(dateCreated){return dateCreated?__WEBPACK_IMPORTED_MODULE_0_moment___default()().diff(dateCreated,"years",!1):0}),UserQueries.getMyCountryCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)(UserQueries.getMyUserDetails,function(user){return user?user.country:null})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(197)),__WEBPACK_IMPORTED_MODULE_3_app_stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_api_FriendsApi__=__webpack_require__(883),__WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_10__actions_LoadingMetaProgressionProfileAction__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_11__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_12__modules_configuration_entities_CachingTime__=__webpack_require__(45),__WEBPACK_IMPORTED_MODULE_13__actions_UpdateExpirationMetaProgressionProfileAction__=__webpack_require__(572);__webpack_require__.d(exports,"a",function(){return FriendsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsService=function(_AbstractActions){function FriendsService(friendsApi){_classCallCheck(this,FriendsService);var _this=_possibleConstructorReturn(this,(FriendsService.__proto__||Object.getPrototypeOf(FriendsService)).call(this));return _this.friendsApi=friendsApi,_this}return _inherits(FriendsService,_AbstractActions),_createClass(FriendsService,[{key:"loadMyFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,friends;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userId=__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_3_app_stores_FriendsStore__.a.getExpiration(this.getState())[userId],__WEBPACK_IMPORTED_MODULE_12__modules_configuration_entities_CachingTime__.a.FRIENDS_CACHE_TIME)){_context.next=4;break}return this.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__selectors__.o)(this.getState()),userId,__WEBPACK_IMPORTED_MODULE_3_app_stores_FriendsStore__.a.getExpiration(this.getState())),_context.abrupt("return",Promise.resolve());case 4:return _context.prev=4,_context.next=7,this.friendsApi.getMyFriends(__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 7:return friends=_context.sent,this.afterLoadedFriends(friends,userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context.abrupt("return",friends);case 12:return _context.prev=12,_context.t0=_context["catch"](4),this.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__selectors__.o)(this.getState()),userId,_defineProperty({},userId,0)),_context.abrupt("return",Promise.resolve());case 16:case"end":return _context.stop()}},_callee,this,[[4,12]])}))}},{key:"sendFriendInvite",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var call;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!1))),_context2.prev=1,_context2.next=4,this.friendsApi.sendInviteFriend(__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),pid);case 4:return call=_context2.sent,_context2.abrupt("return",call);case 8:_context2.prev=8,_context2.t0=_context2["catch"](1),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!0)));case 11:return _context2.abrupt("return",Promise.reject({}));case 12:case"end":return _context2.stop()}},_callee2,this,[[1,8]])}))}},{key:"acceptFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var call;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!1))),_context3.prev=1,_context3.next=4,this.friendsApi.acceptFriend(__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),pid);case 4:return call=_context3.sent,_context3.abrupt("return",call);case 8:_context3.prev=8,_context3.t0=_context3["catch"](1),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!0)));case 11:return _context3.abrupt("return",Promise.reject({}));case 12:case"end":return _context3.stop()}},_callee3,this,[[1,8]])}))}},{key:"declineFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var call;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!1))),_context4.prev=1,_context4.next=4,this.friendsApi.deleteFriend(__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),pid);case 4:return call=_context4.sent,this.resetMetProgressionProfileLoaded(__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__.a.getLoaded(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState()),pid),_context4.abrupt("return",call);case 9:_context4.prev=9,_context4.t0=_context4["catch"](1),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_FailedFriendsApiAction__.a((!0)));case 12:return _context4.abrupt("return",Promise.resolve({}));case 13:case"end":return _context4.stop()}},_callee4,this,[[1,9]])}))}},{key:"afterLoadedFriends",value:function(friends,userId,expiration){var byId={},ids=[];friends.forEach(function(friend){return(byId[friend.pid]=friend)&&ids.push(friend.pid)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedFriendsAction__.a(byId,ids,_defineProperty({},userId,ids),expiration))}},{key:"resetMetProgressionProfileLoaded",value:function(metaProgressionProfileLoaded,metaProgressionProfileExpiration,pid){metaProgressionProfileLoaded[pid]&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadingMetaProgressionProfileAction__.a(_defineProperty({},pid,!0))),metaProgressionProfileExpiration[pid]&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_UpdateExpirationMetaProgressionProfileAction__.a(pid))}}]),FriendsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsService=__decorate([__WEBPACK_IMPORTED_MODULE_11__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_api_FriendsApi__.a])],FriendsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__),__webpack_require__(201)),__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_5__queries_FriendsOwnedGamesQueries__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_6__ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__=__webpack_require__(199),__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_9__queries_GameStatsQueries__=__webpack_require__(217),__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_api_StatsApi__=__webpack_require__(892),__WEBPACK_IMPORTED_MODULE_12__modules_serviceApis_api_GamesApi__=__webpack_require__(609),__WEBPACK_IMPORTED_MODULE_13__modules_serviceApis_entities_WebCenterImage__=__webpack_require__(898),__WEBPACK_IMPORTED_MODULE_14__actions_LoadedUbisoftGamesAction__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_15__actions_LoadedGamesPlayedAction__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_17__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_19__actions_LoadingUbisoftGamesAction__=__webpack_require__(545),__WEBPACK_IMPORTED_MODULE_20__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_21__ApplicationsService__=__webpack_require__(908),__WEBPACK_IMPORTED_MODULE_22__queries_FriendProfileQueries__=__webpack_require__(216),__WEBPACK_IMPORTED_MODULE_23__AllSettledService__=__webpack_require__(907),__WEBPACK_IMPORTED_MODULE_24__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return GamesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})};__webpack_require__(1307);var GamesService=function(_AbstractActions){function GamesService(statsApi,profilesService,gamesApi,applicationsService,allSettledService){_classCallCheck(this,GamesService);var _this=_possibleConstructorReturn(this,(GamesService.__proto__||Object.getPrototypeOf(GamesService)).call(this));return _this.statsApi=statsApi,_this.profilesService=profilesService,_this.gamesApi=gamesApi,_this.applicationsService=applicationsService,_this.allSettledService=allSettledService,_this}return _inherits(GamesService,_AbstractActions),_createClass(GamesService,[{key:"loadUbisoftGamesBySpaceIds",value:function(spaceIdsToLoad){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var games,bySpaceId,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,byInstallmentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,spaceIds,expirationBySpaceIds,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_LoadingUbisoftGamesAction__.a((!0))),spaceIdsToLoad=[].concat(_toConsumableArray(spaceIdsToLoad.filter(function(spaceId){return __WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getExpiration(_this2.getState())[spaceId],__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME);
}))),spaceIdsToLoad.length){_context.next=5;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_LoadingUbisoftGamesAction__.a((!1))),_context.abrupt("return");case 5:return games=[],bySpaceId={},platformsByApplicationId={},byPlatformApplicationId={},platformsApplicationsIdsByParentSpaceId={},byInstallmentSpaceId={},bySiblingSpaceId={},siblingsSpaceIdsByParentSpaceId={},spaceIds=[],expirationBySpaceIds=this.mapExpirationBySpaceIds(spaceIdsToLoad,0),_context.prev=15,_context.next=18,this.gamesApi.getUbisoftGamesListBySpaceId(spaceIdsToLoad);case 18:return games=_context.sent,this.mapGames(games,bySpaceId,spaceIds,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,byInstallmentSpaceId,expirationBySpaceIds),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadedUbisoftGamesAction__.a(bySpaceId,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,byInstallmentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,spaceIds,this.mapExpirationBySpaceIds(spaceIdsToLoad,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context.abrupt("return",Promise.resolve([]));case 24:return _context.prev=24,_context.t0=_context["catch"](15),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadedUbisoftGamesAction__.a({},{},{},{},{},{},{},[],expirationBySpaceIds)),_context.abrupt("return",Promise.reject(_context.t0));case 28:case"end":return _context.stop()}},_callee,this,[[15,24]])}))}},{key:"loadUbisoftGamesCatalog",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var expiration,games,bySpaceId,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,byInstallmentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,spaceIds,expirationBySpaceIds;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(expiration=__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getExpiration(this.getState()).all?__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getExpiration(this.getState()).all:0,__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.GAMES_DATA_CACHE_TIME)){_context2.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_LoadingUbisoftGamesAction__.a((!1))),_context2.abrupt("return");case 4:return games=[],bySpaceId={},platformsByApplicationId={},byPlatformApplicationId={},platformsApplicationsIdsByParentSpaceId={},byInstallmentSpaceId={},bySiblingSpaceId={},siblingsSpaceIdsByParentSpaceId={},spaceIds=[],expirationBySpaceIds={},_context2.prev=14,_context2.next=17,this.gamesApi.getUbisoftGamesList();case 17:return games=_context2.sent,this.mapGames(games,bySpaceId,spaceIds,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,byInstallmentSpaceId,expirationBySpaceIds),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadedUbisoftGamesAction__.a(bySpaceId,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,byInstallmentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,spaceIds,__assign({all:__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()},expirationBySpaceIds))),_context2.abrupt("return",Promise.resolve([]));case 23:return _context2.prev=23,_context2.t0=_context2["catch"](14),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadedUbisoftGamesAction__.a({},{},{},{},{},{},{},[],{all:0})),_context2.abrupt("return",Promise.reject(_context2.t0));case 27:case"end":return _context2.stop()}},_callee2,this,[[14,23]])}))}},{key:"mapExpirationBySpaceIds",value:function(spaceIdsToLoad,expiration){return spaceIdsToLoad.map(function(spaceId){return _defineProperty({},spaceId,expiration)}).reduce(function(previousValue,currentValue){return __assign({},previousValue,currentValue)})}},{key:"mapGamePlatforms",value:function(siblingGame,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,game){siblingGame.platforms.forEach(function(platform){platformsByApplicationId[platform.applicationId]=platform,byPlatformApplicationId[platform.applicationId]={parentSpaceId:game.spaceId,siblingSpaceId:siblingGame.spaceId},platformsApplicationsIdsByParentSpaceId[game.spaceId]?platformsApplicationsIdsByParentSpaceId[game.spaceId].push(platform.applicationId):platformsApplicationsIdsByParentSpaceId[game.spaceId]=[platform.applicationId]})}},{key:"mapGames",value:function(games,bySpaceId,spaceIds,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,byInstallmentSpaceId,expirationBySpaceIds){var _this3=this;games.forEach(function(game){bySpaceId[game.spaceId]={id:game.installmentSpaceId,title:game.displayName,installmentId:game.installmentSpaceId,cleanUrl:game.displayName,thumbUrl:game.imageUrls[__WEBPACK_IMPORTED_MODULE_13__modules_serviceApis_entities_WebCenterImage__.a.IMAGE_LOW_BOX_ART],publishedAt:game.releaseAt,coverUrl:game.imageUrls[__WEBPACK_IMPORTED_MODULE_13__modules_serviceApis_entities_WebCenterImage__.a.IMAGE_BACKGROUND],spaceId:game.spaceId,links:game.linkUrls,installmentDefault:game.installmentDefault},spaceIds.push(game.spaceId),expirationBySpaceIds[game.spaceId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix(),_this3.mapGamePlatforms(game,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,game),game.siblingGames.forEach(function(siblingGame){bySiblingSpaceId[siblingGame.spaceId]=game.spaceId,siblingsSpaceIdsByParentSpaceId[game.spaceId]?siblingsSpaceIdsByParentSpaceId[game.spaceId].push(siblingGame.spaceId):siblingsSpaceIdsByParentSpaceId[game.spaceId]=[siblingGame.spaceId],_this3.mapGamePlatforms(siblingGame,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,game)}),byInstallmentSpaceId[game.installmentSpaceId]=game.spaceId})}},{key:"loadMyGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.loadGamesPlayed(__WEBPACK_IMPORTED_MODULE_17__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),!0);case 2:return _context3.next=4,this.applicationsService.loadApplicationsByAppIds(__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getMyPlayedAppIds(this.getState()));case 4:return _context3.next=6,this.loadUbisoftGamesCatalog();case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"loadGamesByUserId",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var spaceIds;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.loadGamesPlayed(userId,!1);case 2:return _context4.next=4,this.applicationsService.loadApplicationsByAppIds(__WEBPACK_IMPORTED_MODULE_22__queries_FriendProfileQueries__.a.getFriendPlayedAppIds(this.getState()));case 4:return spaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniq)(__WEBPACK_IMPORTED_MODULE_22__queries_FriendProfileQueries__.a.getFriendPlayedSpaceIds(this.getState()).concat(__WEBPACK_IMPORTED_MODULE_22__queries_FriendProfileQueries__.a.getFriendPlayedSpaceIdsFromGamesPlayed(this.getState()))),_context4.next=7,this.loadUbisoftGamesBySpaceIds(spaceIds);case 7:return _context4.abrupt("return",_context4.sent);case 8:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"loadGamesPlayed",value:function(userId,myGames){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var expiration,gamesPlayed,bySpaceId,applicationsByApplicationId,byApplicationId,applicationsByUserId,spaceIdsByUserId,spaceIds,applicationIds,lastSessionDates;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(expiration=__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesPlayedStore__.a.getExpiration(this.getState())[userId]?__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesPlayedStore__.a.getExpiration(this.getState())[userId]:0,__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context5.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadedGamesPlayedAction__.a({},{},{},{},{},[],[],{},{})),_context5.abrupt("return");case 4:if(gamesPlayed=[],bySpaceId={},applicationsByApplicationId={},byApplicationId={},applicationsByUserId=_defineProperty({},userId,[]),spaceIdsByUserId=_defineProperty({},userId,[]),spaceIds=[],applicationIds=[],lastSessionDates=_defineProperty({},userId,{}),_context5.prev=13,!myGames){_context5.next=20;break}return _context5.next=17,this.gamesApi.getMyGamesPlayed();case 17:gamesPlayed=_context5.sent,_context5.next=23;break;case 20:return _context5.next=22,this.gamesApi.getGamesPlayedByProfilesIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20__selectors__.j)(this.getState(),{friendId:userId}));case 22:gamesPlayed=_context5.sent;case 23:return gamesPlayed.forEach(function(game){bySpaceId[game.spaceId]=game,spaceIds.push(game.spaceId),spaceIdsByUserId[userId]?spaceIdsByUserId[userId].push(game.spaceId):spaceIdsByUserId[userId]=[game.spaceId],game.applications.forEach(function(application){applicationsByApplicationId[application.applicationId]=application,byApplicationId[application.applicationId]=game.spaceId,applicationIds.push(application.applicationId),lastSessionDates[userId][application.applicationId]=application.lastPlayed.updatedAt,applicationsByUserId[userId]?applicationsByUserId[userId].indexOf(application.applicationId)===-1&&applicationsByUserId[userId].push(application.applicationId):applicationsByUserId[userId]=[application.applicationId]})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadedGamesPlayedAction__.a(bySpaceId,applicationsByApplicationId,byApplicationId,applicationsByUserId,spaceIdsByUserId,spaceIds,applicationIds,lastSessionDates,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context5.abrupt("return",Promise.resolve([]));case 28:return _context5.prev=28,_context5.t0=_context5["catch"](13),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadedGamesPlayedAction__.a({},{},{},{},{},[],[],{},_defineProperty({},userId,0))),_context5.abrupt("return",Promise.reject(_context5.t0));case 32:case"end":return _context5.stop()}},_callee5,this,[[13,28]])}))}},{key:"loadMyLastPlayedGameStatsWithFriends",value:function(gameSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var userId,ubisoftUserId;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return userId=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getMyUserIdByLastPlayedGamePlatform(this.getState()),ubisoftUserId=__WEBPACK_IMPORTED_MODULE_17__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),_context6.next=4,this.loadLastPlayedGameStatsCard(gameSpaceId,userId,ubisoftUserId);case 4:return _context6.next=6,this.loadFriendsPlayedGameStats();case 6:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"loadMyLastPlayedGameStatsCard",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var userId,spaceId,ubisoftUserId;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return userId=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getMyUserIdByLastPlayedGamePlatform(this.getState()),spaceId=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()),ubisoftUserId=__WEBPACK_IMPORTED_MODULE_17__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),_context7.next=5,this.loadLastPlayedGameStatsCard(spaceId,userId,ubisoftUserId);case 5:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"loadFriendLastPlayedGameStatsCard",value:function(spaceId,friendIdCorrelatedWithPlatform,friendUbisoftId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.loadLastPlayedGameStatsCard(spaceId,friendIdCorrelatedWithPlatform,friendUbisoftId);case 2:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"loadLastPlayedGameStatsCard",value:function(gameSpaceId,profileId,ubisoftUserId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var userId,spaceId,installmentDefaultSpaceId,userStatsAll,statsById,bySpaceId,ids,newExpiration,promises,expiration,_expiration;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(userId=profileId?profileId:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getMyUserIdByLastPlayedGamePlatform(this.getState()),spaceId=gameSpaceId?gameSpaceId:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()),installmentDefaultSpaceId=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState(),{spaceId:spaceId}),userStatsAll=[],statsById={},bySpaceId={},ids=[],__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getBySpaceId(this.getState())[spaceId]||__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getBySiblingSpaceId(this.getState())[spaceId]){_context9.next=11;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a({},{},[],{})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__.a({},{})),_context9.abrupt("return");case 11:if(newExpiration={},_context9.prev=12,promises=[],expiration=__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[userId]&&__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[userId][spaceId]?__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[userId][spaceId]:0,__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)&&(promises.push(this.statsApi.getStatsCard(spaceId,userId)),newExpiration[userId]?newExpiration[userId][spaceId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix():newExpiration[userId]=_defineProperty({},spaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),installmentDefaultSpaceId&&installmentDefaultSpaceId!=spaceId&&(_expiration=__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[ubisoftUserId]&&__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[ubisoftUserId][installmentDefaultSpaceId]?__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getExpiration(this.getState())[ubisoftUserId][installmentDefaultSpaceId]:0,__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(_expiration,__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)&&(promises.push(this.statsApi.getStatsCard(installmentDefaultSpaceId,ubisoftUserId)),newExpiration[ubisoftUserId]?newExpiration[ubisoftUserId][installmentDefaultSpaceId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix():newExpiration[ubisoftUserId]=_defineProperty({},installmentDefaultSpaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),!promises.length){_context9.next=21;break}return _context9.next=20,this.allSettledService.allSettled(promises);case 20:userStatsAll=_context9.sent;case 21:_context9.next=27;break;case 23:return _context9.prev=23,_context9.t0=_context9["catch"](12),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a(statsById,bySpaceId,ids,newExpiration)),_context9.abrupt("return");case 27:userStatsAll.forEach(function(userStats){userStats.forEach(function(userStat){ids.push(userStat.statName),bySpaceId[userStat.spaceId]?bySpaceId[userStat.spaceId].push(userStat.statName):bySpaceId[userStat.spaceId]=[userStat.statName];var formattedValue=__WEBPACK_IMPORTED_MODULE_9__queries_GameStatsQueries__.a.computeGameStatsValue(userStat.value,userStat.format,userStat.unit,userStat.statName);statsById[userStat.userId]||(statsById[userStat.userId]=_defineProperty({},userStat.spaceId,{})),statsById[userStat.userId][userStat.spaceId]||(statsById[userStat.userId]=__assign({},statsById[userStat.userId],_defineProperty({},userStat.spaceId,{}))),statsById[userStat.userId][userStat.spaceId]=__assign({},statsById[userStat.userId][userStat.spaceId],_defineProperty({},userStat.statName,{id:userStat.statName,formattedValue:formattedValue,iconUrl:null,name:userStat.displayName,ordinal:userStat.ordinal,profileId:userStat.userId,spaceId:userStat.spaceId,value:userStat.value,format:userStat.format,unit:userStat.unit,statName:userStat.statName,semantic:userStat.semantic}))})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a(statsById,bySpaceId,ids,newExpiration));case 29:case"end":return _context9.stop()}},_callee9,this,[[12,23]])}))}},{key:"loadFriendsPlayedGameStats",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var isOwned,friendsPlayingGameIds,platforms,installmentDefaultSpaceId;return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return isOwned=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getIsOwnedCurrentGame(this.getState()),friendsPlayingGameIds=__WEBPACK_IMPORTED_MODULE_5__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingIds(this.getState()),platforms=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getMyLastPlayedGamePlatforms(this.getState()),installmentDefaultSpaceId=__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState()),_context10.next=6,this.loadFriendGameStatsCommon(isOwned,friendsPlayingGameIds,platforms,installmentDefaultSpaceId);case 6:case"end":return _context10.stop()}},_callee10,this)}))}},{key:"loadFriendGameStatsCommon",value:function(isOwned,friendsPlayingGameIds,platforms,installmentDefaultSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee11(){var statsById,profiles,profilesFiltered,profilesGroupedBy,spaceIdToProfileIds,requests,newExpiration,promises,_this4=this;return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(statsById={},profiles=[],isOwned&&!(friendsPlayingGameIds.length<=0)){_context11.next=5;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__.a(statsById,{})),_context11.abrupt("return");case 5:return _context11.prev=5,_context11.next=8,this.profilesService.loadFriendsProfilesByIds(friendsPlayingGameIds);case 8:profiles=_context11.sent,_context11.next=15;break;case 11:return _context11.prev=11,_context11.t0=_context11["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__.a(statsById,{})),_context11.abrupt("return");case 15:if(profilesFiltered=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.filter)(profiles,function(profile){return friendsPlayingGameIds.find(function(pid){return pid==profile.userId})}),profilesGroupedBy=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.mapValues)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.groupBy)(profilesFiltered,"platformType"),function(value){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.mapValues)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.mapKeys)(value,function(objectValue){return objectValue.profileId}),function(newValue){return newValue.userId})}),spaceIdToProfileIds={},platforms.forEach(function(platform){var ids=[],profilesGroupedByCurrentPlatformType=profilesGroupedBy[__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getProfilePlatformCode(platform.type,__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_UserProfile__.a.UPLAY)];if(profilesGroupedByCurrentPlatformType&&(ids=Object.keys(profilesGroupedByCurrentPlatformType),ids.length<friendsPlayingGameIds.length)){var notFoundIDs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.filter)(profilesGroupedBy[__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_UserProfile__.a.UPLAY],function(value){return!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.find)(profilesGroupedByCurrentPlatformType,function(userId){return userId==value})});notFoundIDs.length&&(ids=ids.concat(notFoundIDs))}ids.length>0&&(spaceIdToProfileIds[__WEBPACK_IMPORTED_MODULE_16__stores_UbisoftGamesStore__.a.getByPlatformApplicationId(_this4.getState())[platform.applicationId].siblingSpaceId]=ids)}),installmentDefaultSpaceId&&(spaceIdToProfileIds[installmentDefaultSpaceId]=friendsPlayingGameIds),requests=[],newExpiration={},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__.forEach)(spaceIdToProfileIds,function(profileIds,spaceId){var expirationKey=profileIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getFriendsExpiration(_this4.getState())[expirationKey]&&__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getFriendsExpiration(_this4.getState())[expirationKey][spaceId]?__WEBPACK_IMPORTED_MODULE_25__stores_GameStatsStore__.a.getFriendsExpiration(_this4.getState())[expirationKey][spaceId]:0;__WEBPACK_IMPORTED_MODULE_18__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_26__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)&&(requests.push(_this4.statsApi.getStatsByProfileIds(spaceId,profileIds)),newExpiration[expirationKey]?newExpiration[expirationKey][spaceId]=__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix():newExpiration[expirationKey]=_defineProperty({},spaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))}),!(requests.length>0)){_context11.next=36;break}return promises=[],_context11.prev=25,_context11.next=28,this.allSettledService.allSettled(requests);case 28:promises=_context11.sent,_context11.next=35;break;case 31:return _context11.prev=31,_context11.t1=_context11["catch"](25),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__.a(statsById,{})),_context11.abrupt("return");case 35:promises.forEach(function(promise){promise.forEach(function(profile){statsById[profile.profileId+"_"+profile.spaceId]=profile})});case 36:this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsStatsAction__.a(statsById,newExpiration));case 37:case"end":return _context11.stop()}},_callee11,this,[[5,11],[25,31]])}))}}]),GamesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);GamesService=__decorate([__WEBPACK_IMPORTED_MODULE_24__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_11__modules_serviceApis_api_StatsApi__.a,__WEBPACK_IMPORTED_MODULE_6__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_12__modules_serviceApis_api_GamesApi__.a,__WEBPACK_IMPORTED_MODULE_21__ApplicationsService__.a,__WEBPACK_IMPORTED_MODULE_23__AllSettledService__.a])],GamesService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__actions_PageLoaderAction__=__webpack_require__(549);__webpack_require__.d(exports,"a",function(){return PageLoaderStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PageLoaderStore=function(_ReducerStore){function PageLoaderStore(){_classCallCheck(this,PageLoaderStore);var _this=_possibleConstructorReturn(this,(PageLoaderStore.__proto__||Object.getPrototypeOf(PageLoaderStore)).call(this));return _this.bind(null,function(){return{show:!0,display:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PageLoaderAction__.a.name,_this.handlePageLoaderAction),_this}return _inherits(PageLoaderStore,_ReducerStore),_createClass(PageLoaderStore,[{key:"handleLoggedOutAction",value:function(state,action){return{show:!0,display:!0}}},{key:"handlePageLoaderAction",value:function(state,action){return __assign({},state,{show:action.show,display:action.display})}}]),PageLoaderStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);PageLoaderStore.getState=function(state){return state.PageLoaderStore},PageLoaderStore.getShowPageLoader=function(state){return state.PageLoaderStore.show},PageLoaderStore.getDisplayPageLoader=function(state){return state.PageLoaderStore.display},PageLoaderStore=__decorate([__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__.a,__metadata("design:paramtypes",[])],PageLoaderStore)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedProfileEntitiesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(272)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ProfileEntitiesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ProfileEntitiesStore=function(_ReducerStore){function ProfileEntitiesStore(){_classCallCheck(this,ProfileEntitiesStore);var _this=_possibleConstructorReturn(this,(ProfileEntitiesStore.__proto__||Object.getPrototypeOf(ProfileEntitiesStore)).call(this));return _this.bind(null,function(){
return{entities:[],byEntityId:{},bySpaceId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedProfileEntitiesAction__.a.name,_this.handleLoadedProfileEntitiesAction),_this}return _inherits(ProfileEntitiesStore,_ReducerStore),_createClass(ProfileEntitiesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{entities:[],byEntityId:{},bySpaceId:{}}}},{key:"handleLoadedProfileEntitiesAction",value:function(state,action){return __assign({},state,{entities:[].concat(_toConsumableArray(state.entities),_toConsumableArray(action.entities)),byEntityId:__assign({},state.byEntityId,action.byEntityId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId)})}}]),ProfileEntitiesStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);ProfileEntitiesStore.getState=function(state){return state.ProfileEntitiesStore},ProfileEntitiesStore.getByEntityId=function(state){return state.ProfileEntitiesStore.byEntityId},ProfileEntitiesStore.getBySpaceId=function(state){return state.ProfileEntitiesStore.bySpaceId},ProfileEntitiesStore.loaded=function(state){return state.LoadersStore.ProfileEntities},ProfileEntitiesStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],ProfileEntitiesStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(274)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedFriendsRewardsAction__=__webpack_require__(533),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RewardsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RewardsStore=function(_ReducerStore){function RewardsStore(){_classCallCheck(this,RewardsStore);var _this=_possibleConstructorReturn(this,(RewardsStore.__proto__||Object.getPrototypeOf(RewardsStore)).call(this));return _this.bind(null,function(){return{rewards:[],byId:{},bySpaceId:{},ids:[],byUserId:{},profileIdsByRewardId:{},profilesRewardsById:{},unitsByProfileId:{},expiration:{},loadedFriendsRewards:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadedFriendsRewardsAction__.a.name,_this.handleLoadedFriendsRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(RewardsStore,_ReducerStore),_createClass(RewardsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{rewards:[],byId:{},bySpaceId:{},ids:[],byUserId:{},profileIdsByRewardId:{},profilesRewardsById:{},unitsByProfileId:{},expiration:{},loadedFriendsRewards:!1}}},{key:"handleLoadedRewardsAction",value:function(state,action){var bySpaceId={};Object.keys(action.bySpaceId).forEach(function(spaceId){bySpaceId[spaceId]=state.bySpaceId[spaceId]?state.bySpaceId[spaceId].filter(function(rewardId){return!action.bySpaceId[spaceId].includes(rewardId)}).concat(action.bySpaceId[spaceId]):action.bySpaceId[spaceId]});var expiration=state.expiration;return Object.keys(action.expiration).forEach(function(profileId){expiration[profileId]=__assign({},expiration[profileId],action.expiration[profileId])}),__assign({},state,{rewards:action.rewards,byId:__assign({},state.byId,action.byId),bySpaceId:__assign({},state.bySpaceId,bySpaceId),ids:state.ids.filter(function(id){return!action.rewardsIds.includes(id)}).concat(action.rewardsIds),unitsByProfileId:__assign({},state.unitsByProfileId,action.units),expiration:__assign({},state.expiration,expiration)})}},{key:"handleLoadedFriendsRewardsAction",value:function(state,action){var byUserId={};Object.keys(action.byProfileId).forEach(function(userId){byUserId[userId]=state.byUserId[userId]?state.byUserId[userId].filter(function(rewardId){return!action.byProfileId[userId].includes(rewardId)}).concat(action.byProfileId[userId]):action.byProfileId[userId]});var profileIdsByRewardId={};Object.keys(action.profileIdsByRewardId).forEach(function(rewardId){profileIdsByRewardId[rewardId]=state.profileIdsByRewardId[rewardId]?state.profileIdsByRewardId[rewardId].filter(function(userId){return!action.profileIdsByRewardId[rewardId].includes(userId)}).concat(action.profileIdsByRewardId[rewardId]):action.profileIdsByRewardId[rewardId]});var expiration=state.expiration;return Object.keys(action.expiration).forEach(function(profileId){expiration[profileId]=__assign({},expiration[profileId],action.expiration[profileId])}),__assign({},state,{profilesRewardsById:__assign({},state.profilesRewardsById,action.profilesRewardsById),byUserId:__assign({},state.byUserId,byUserId),profileIdsByRewardId:__assign({},state.profileIdsByRewardId,profileIdsByRewardId),loadedFriendsRewards:action.loadedFriendsRewards,expiration:__assign({},state.expiration,expiration)})}}]),RewardsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);RewardsStore.getState=function(state){return state.RewardsStore},RewardsStore.getRewards=function(state){return state.RewardsStore.rewards},RewardsStore.getById=function(state){return state.RewardsStore.byId},RewardsStore.getBySpaceId=function(state){return state.RewardsStore.bySpaceId},RewardsStore.getUnitsByProfileId=function(state){return state.RewardsStore.unitsByProfileId},RewardsStore.getIds=function(state){return state.RewardsStore.ids},RewardsStore.getProfilesRewardsbyId=function(state){return state.RewardsStore.profilesRewardsById},RewardsStore.getProfileIdsByRewardId=function(state){return state.RewardsStore.profileIdsByRewardId},RewardsStore.getByUserId=function(state){return state.RewardsStore.byUserId},RewardsStore.getExpiration=function(state){return state.RewardsStore.expiration},RewardsStore.loaded=function(state){return state.LoadersStore.Rewards},RewardsStore.getLoadedFriendsRewards=function(state){return state.RewardsStore.loadedFriendsRewards},RewardsStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],RewardsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(519)),__WEBPACK_IMPORTED_MODULE_3__actions_ErrorLoadingPsnAction__=__webpack_require__(526),__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingXboxAction__=__webpack_require__(527),__WEBPACK_IMPORTED_MODULE_5__actions_IsReloadFailedXboxAction__=__webpack_require__(779),__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedPsnAction__=__webpack_require__(778),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(562),__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(563),__WEBPACK_IMPORTED_MODULE_9__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return SocialNetworkStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SocialNetworkStore=function(_ReducerStore){function SocialNetworkStore(){_classCallCheck(this,SocialNetworkStore);var _this=_possibleConstructorReturn(this,(SocialNetworkStore.__proto__||Object.getPrototypeOf(SocialNetworkStore)).call(this));return _this.bind(null,function(){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__.a.name,_this.handleChangeSocialNetworkTabAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ErrorLoadingPsnAction__.a.name,_this.handleErrorLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingXboxAction__.a.name,_this.handleErrorLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_IsReloadFailedXboxAction__.a.name,_this.handleIsReloadFailedXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedPsnAction__.a.name,_this.handleIsReloadFailedPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ToggleMoreFriendsOnPsnAction__.a.name,_this.handleToggleMoreFriendsOnPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnXboxAction__.a.name,_this.handleToggleMoreFriendsOnXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(SocialNetworkStore,_ReducerStore),_createClass(SocialNetworkStore,[{key:"handleLoggedOutAction",value:function(state,action){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}}},{key:"handleChangeSocialNetworkTabAction",value:function(state,action){return Object.assign({},state,{selectedTab:action.tab})}},{key:"handleErrorLoadingPsnAction",value:function(state,action){return Object.assign({},state,{errorLoadingPsn:action.error})}},{key:"handleErrorLoadingXboxAction",value:function(state,action){return Object.assign({},state,{errorLoadingXbox:action.error})}},{key:"handleIsReloadFailedPsnAction",value:function(state,action){return Object.assign({},state,{isReloadFailedPsn:action.error})}},{key:"handleIsReloadFailedXboxAction",value:function(state,action){return Object.assign({},state,{isReloadFailedXbox:action.error})}},{key:"handleToggleMoreFriendsOnPsnAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnPsn:action.toggle})}},{key:"handleToggleMoreFriendsOnXboxAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnXbox:action.toggle})}}]),SocialNetworkStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);SocialNetworkStore.getState=function(state){return state.SocialNetworkStore},SocialNetworkStore.getSelectedTab=function(state){return state.SocialNetworkStore.selectedTab},SocialNetworkStore.getErrorLoadingPsn=function(state){return state.SocialNetworkStore.errorLoadingPsn},SocialNetworkStore.getErrorLoadingXbox=function(state){return state.SocialNetworkStore.errorLoadingXbox},SocialNetworkStore.getIsReloadFailedPsn=function(state){return state.SocialNetworkStore.isReloadFailedPsn},SocialNetworkStore.getIsReloadFailedXbox=function(state){return state.SocialNetworkStore.isReloadFailedXbox},SocialNetworkStore.getShowMoreFriendsOnPsn=function(state){return state.SocialNetworkStore.showMoreFriendsOnPsn},SocialNetworkStore.getShowMoreFriendsOnXbox=function(state){return state.SocialNetworkStore.showMoreFriendsOnXbox},SocialNetworkStore=__decorate([__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__.a,__metadata("design:paramtypes",[])],SocialNetworkStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ReloadAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(110)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedUserAction__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_5__actions_UpdateScreenNameAction__=__webpack_require__(294);__webpack_require__.d(exports,"a",function(){return UserStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserStore=function(_ReducerStore){function UserStore(){_classCallCheck(this,UserStore);var _this=_possibleConstructorReturn(this,(UserStore.__proto__||Object.getPrototypeOf(UserStore)).call(this));return _this.bind(null,function(){return{byId:{},expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedUserAction__.a.name,_this.handleLoadedUserAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_UpdateScreenNameAction__.a.name,_this.handleUpdateScreenNameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(UserStore,_ReducerStore),_createClass(UserStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},expiration:{}}}},{key:"handleLoadedUserAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),expiration:__assign({},state.expiration,action.expiration)})}},{key:"handleUpdateScreenNameAction",value:function(state,action){var byId=__assign({},state.byId[action.userId],{nameOnPlatform:action.userName});return __assign({},state,{byId:__assign({},state.byId,_defineProperty({},action.userId,byId))})}}]),UserStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);UserStore.getState=function(state){return state.UserStore},UserStore.getById=function(state){return state.UserStore.byId},UserStore.getExpiration=function(state){return state.UserStore.expiration},UserStore.loadedUser=function(state){return state.LoadersStore.UserStore},UserStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],UserStore)},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function getQueryParameters(str){var params=str?str:window.self.location.search?window.self.location.search:window.location.href.split("?").length>1?"?"+window.location.href.split("?")[1]:"",paramsObj=params.replace(/(^\?)/,"").split("&").map(function(n){n=n.split("=");var obj={};return n[0]&&(obj[decodeURIComponent(n[0])]=decodeURIComponent(n[1])),obj}).reduce(function(previousValue,currentValue){return previousValue?__assign({},previousValue,currentValue):currentValue});return paramsObj}exports.a=getQueryParameters;var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t}},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./cert2.json":644,"./dev-prod.json":645,"./dev.json":646,"./env.json":226,"./local-cert2.json":647,"./local-prod.json":648,"./prod.json":649,"./uat-prod.json":650,"./uat.json":651};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=193},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeLPGPlatformAction});var ChangeLPGPlatformAction=function ChangeLPGPlatformAction(gameId,spaceId,appId){_classCallCheck(this,ChangeLPGPlatformAction),this.gameId=gameId,this.spaceId=spaceId,this.appId=appId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeleteCONNECTloginDataAction});var DeleteCONNECTloginDataAction=function DeleteCONNECTloginDataAction(){_classCallCheck(this,DeleteCONNECTloginDataAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedConnectionsAction});var LoadedConnectionsAction=function LoadedConnectionsAction(byId,byProfileId,bySpaceId,ids,profileIdsForCall,expiration){_classCallCheck(this,LoadedConnectionsAction),this.byId=byId,this.byProfileId=byProfileId,this.bySpaceId=bySpaceId,this.ids=ids,this.profileIdsForCall=profileIdsForCall,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsAction});var LoadedFriendsAction=function LoadedFriendsAction(byId,ids,ownershipByUserId,expiration){_classCallCheck(this,LoadedFriendsAction),this.byId=byId,this.ids=ids,this.ownershipByUserId=ownershipByUserId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsPlayingGame});var LoadedFriendsPlayingGame=function LoadedFriendsPlayingGame(friendsByInstallmentId,expiration){_classCallCheck(this,LoadedFriendsPlayingGame),this.friendsByInstallmentId=friendsByInstallmentId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsStatsAction});var LoadedFriendsStatsAction=function LoadedFriendsStatsAction(friendsStates,friendsExpiration){_classCallCheck(this,LoadedFriendsStatsAction),this.friendsStates=friendsStates,this.friendsExpiration=friendsExpiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsUserProfilesAction});var LoadedFriendsUserProfilesAction=function LoadedFriendsUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError,expiration){_classCallCheck(this,LoadedFriendsUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGameStatsAction});var LoadedGameStatsAction=function LoadedGameStatsAction(stats,bySpaceId,ids,expiration){_classCallCheck(this,LoadedGameStatsAction),this.stats=stats,this.bySpaceId=bySpaceId,this.ids=ids,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMyUserProfilesAction});var LoadedMyUserProfilesAction=function LoadedMyUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError,expiration){_classCallCheck(this,LoadedMyUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingRewardsAction});var LoadingRewardsAction=function LoadingRewardsAction(){_classCallCheck(this,LoadingRewardsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendsTabDetailsViewAction});var ToggleShowFriendsTabDetailsViewAction=function ToggleShowFriendsTabDetailsViewAction(show){_classCallCheck(this,ToggleShowFriendsTabDetailsViewAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowGameContentAction});var ToggleShowGameContentAction=function ToggleShowGameContentAction(show){_classCallCheck(this,ToggleShowGameContentAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowStatsHeaderOnFriendsDetails});var ToggleShowStatsHeaderOnFriendsDetails=function ToggleShowStatsHeaderOnFriendsDetails(toggle){_classCallCheck(this,ToggleShowStatsHeaderOnFriendsDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowStatsHeaderOnPlayerCardDetails});var ToggleShowStatsHeaderOnPlayerCardDetails=function ToggleShowStatsHeaderOnPlayerCardDetails(toggle){_classCallCheck(this,ToggleShowStatsHeaderOnPlayerCardDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function ScrollbarsView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__CustomScrollbar_controllers_CustomScrollbarController__.a,{style:{height:props.scrollbarHeight},scrollbarWidth:props.scrollbarWidth,autoHide:props.autoHide,autoHideTimeout:props.autoHideTimeout,autoHideDuration:props.autoHideDuration,hideTracksWhenNotNeeded:props.hideTracksWhenNotNeeded,ref:props.scrollableRef,universal:!0,scrollbarNegativeMargin:props.scrollbarNegativeMargin,onUpdate:props.handleOnScrollUpdate?props.handleOnScrollUpdate:function(){},renderTrackHorizontal:function(_a){var obj=__rest(_a,[]);return React.createElement("div",_extends({style:__assign({},obj.style,{opacity:0})},obj.props))},renderTrackVertical:function(_a){var obj=__rest(_a,[]);return React.createElement("div",_extends({className:"custom-scroll-box-vertical-track",style:obj.style},obj.props))},renderThumbVertical:function(_a){var obj=__rest(_a,[]);return React.createElement("div",_extends({className:"custom-scroll-box-vertical-thumb",style:obj.style},obj.props))},renderView:function(_a){var obj=__rest(_a,[]);return React.createElement("div",_extends({className:"custom-scroll-box",style:__assign({},obj.style,{marginRight:0!==obj.style.marginRight?obj.style.marginRight:props.scrollbarNegativeMargin?-props.scrollbarNegativeMargin:0,marginBottom:0!==obj.style.marginBottom?obj.style.marginRight:props.scrollbarNegativeMargin?-props.scrollbarNegativeMargin:0})},obj.props))},renderThumbHorizontal:__WEBPACK_IMPORTED_MODULE_1__CustomScrollbar_views_RenderThumbHorizontalDefault__.a,tagName:"div",thumbMinSize:30,autoHeight:!1,autoHeightMin:0,autoHeightMax:200},props.children)}var __WEBPACK_IMPORTED_MODULE_0__CustomScrollbar_controllers_CustomScrollbarController__=__webpack_require__(790),__WEBPACK_IMPORTED_MODULE_1__CustomScrollbar_views_RenderThumbHorizontalDefault__=__webpack_require__(796);exports.a=ScrollbarsView;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);
}return t},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]]);return t}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__=__webpack_require__(24);__webpack_require__.d(exports,"a",function(){return PlatformsSelectorView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PlatformsSelectorView=function(_PureComponent){function PlatformsSelectorView(){_classCallCheck(this,PlatformsSelectorView);var _this=_possibleConstructorReturn(this,(PlatformsSelectorView.__proto__||Object.getPrototypeOf(PlatformsSelectorView)).apply(this,arguments));return _this.dropdownMenuRef=null,_this.platformBtnRef=null,_this.state={isOpenedDropdown:!1,dropdownMenuWidth:0},_this}return _inherits(PlatformsSelectorView,_PureComponent),_createClass(PlatformsSelectorView,[{key:"setDropdownMenuRef",value:function(view){this.dropdownMenuRef=view}},{key:"setPlatformBtnRef",value:function(view){this.platformBtnRef=view}},{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("platform-selected-container",{"only-one-platform":this.props.hasOnlyOnePlatform})},this.props.hasOnlyOnePlatform?React.createElement("span",{className:"platform-only-one"},this.props.selectedPlatformCode):null,this.props.hasOnlyOnePlatform?null:React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("platform-selector in-back load-element",{"in":!this.props.loadedLastPlayedGame,hidden:this.props.loadedLastPlayedGame&&!this.props.hasLastPlayedGame||!this.props.hasOwnedPlatforms,"is-opened":this.state.isOpenedDropdown}),style:{width:this.state.dropdownMenuWidth?this.state.dropdownMenuWidth+"px":"100%"}},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:this.props.loadedLastPlayedGame}),React.createElement("div",{className:"platform-selected-btn",onClick:this.onClickDropDown.bind(this),ref:this.setPlatformBtnRef.bind(this)},React.createElement("div",{className:"platform-selected-txt"},this.props.selectedPlatformCode),React.createElement("i",{className:"icon-angle-down"})),this.props.platformsForSelect?React.createElement("div",{className:"select-component-view",ref:this.setDropdownMenuRef.bind(this)},React.createElement("div",{className:"select-component-value",key:this.props.selectedPlatformCode,style:{visibility:"hidden",opacity:0,height:"0px",paddingTop:"0px",paddingBottom:"0px",border:"none"}},this.props.selectedPlatformCode),this.props.platformsForSelect.map(function(option){return React.createElement("div",{className:"select-component-value",key:option.key,onClick:_this2.onChangePlatform.bind(_this2,_this2.props.lastPlayedGameId,option.key)},option.value)})):null))}},{key:"componentDidMount",value:function(){this.calculateElementLength()}},{key:"componentDidUpdate",value:function(prevProps){this.calculateElementLength()}},{key:"onClickDropDown",value:function(event){event.preventDefault(),this.setState({isOpenedDropdown:!this.state.isOpenedDropdown})}},{key:"onChangePlatform",value:function(id,platform){this.setState({isOpenedDropdown:!1}),this.props.onChangePlatform(id,platform)}},{key:"calculateElementLength",value:function(){this.props.platformsForSelect.length>0&&this.dropdownMenuRef&&this.setState({dropdownMenuWidth:this.dropdownMenuRef.offsetWidth})}}]),PlatformsSelectorView}(__WEBPACK_IMPORTED_MODULE_3_react__.PureComponent);PlatformsSelectorView=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getShowMobileViewOnDesktop})}),__metadata("design:paramtypes",[])],PlatformsSelectorView)},function(module,exports,__webpack_require__){"use strict";function InfoDropdownView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("infos",{"hide-info":!props.showDropdown,"warning-info":!props.warningTypeDropdown,rejected:props.rejectedTypeDropdown,banned:props.bannedTypeDropdown,"arrow-icon-info":!props.arrowIconTypeDropdown,"no-drop-down":props.noDropDown})},props.warningTypeDropdown?null:React.createElement("img",{className:"warning-icon",src:warningIcon,alt:"warning",title:"warning"}),props.rejectedTypeDropdown?React.createElement("img",{className:"warning-icon",src:warningIcon,alt:"warning",title:"warning"}):null,React.createElement("div",{className:"info-rules-visible"},props.dropdownText?[props.onClickToggleShowDropdown?React.createElement("span",{className:"title link-hide-rules",onClick:props.onClickToggleShowDropdown.bind(null,props.showDropdown),key:"0"},React.createElement("span",null,props.dropdownText),React.createElement("i",{className:"icon-less"})):null,props.onClickToggleShowDropdown?null:React.createElement("span",{className:"title",key:"1"},props.dropdownText)]:null,React.createElement("ul",{className:"info-rules-rule"},props.children)),props.dropdownText?React.createElement("div",{className:"info-rules-hidden"},props.onClickToggleShowDropdown?React.createElement("span",{className:"title link-show-rules",onClick:props.onClickToggleShowDropdown.bind(null,props.showDropdown)},React.createElement("span",null,props.dropdownText),React.createElement("i",{className:"icon-add"})):null,props.onClickToggleShowDropdown?null:React.createElement("span",{className:"title link-show-rules"},props.dropdownText)):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=InfoDropdownView;var warningIcon=__webpack_require__(939)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return SCROLL_TOP});var SCROLL_TOP=11},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__services_AnalyticsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(19));__webpack_require__.d(exports,"a",function(){return TrackClick});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},TrackClick=function(_PureComponent){function TrackClick(){return _classCallCheck(this,TrackClick),_possibleConstructorReturn(this,(TrackClick.__proto__||Object.getPrototypeOf(TrackClick)).apply(this,arguments))}return _inherits(TrackClick,_PureComponent),_createClass(TrackClick,[{key:"render",value:function(){var _this2=this,props=Object.assign({},this.props,{onMouseDown:function(e){0!==e.button&&1!==e.button||(_this2.props.analyticsService.trackEvent(_this2.props.aaSiteSubSection,_this2.props.aaPageName,_this2.props.aaLocation,_this2.props.aaCategory,_this2.props.aaAction),_this2.props.onClick&&_this2.props.onClick(e))}});delete props.element,delete props.aaPageName,delete props.aaSiteSubSection,delete props.aaLocation,delete props.aaAction,delete props.aaCategory,delete props.analyticsService,delete props.value;var element=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)(this.props.element||"div",props,this.props.children);return element}}]),TrackClick}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);TrackClick=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({analyticsService:__WEBPACK_IMPORTED_MODULE_3__services_AnalyticsService__.a}),__metadata("design:paramtypes",[])],TrackClick)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(296)),__WEBPACK_IMPORTED_MODULE_2_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_5__services_WidgetChannelService__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return EmailVerificationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EmailVerificationService=function(_AbstractActions){function EmailVerificationService(channel){_classCallCheck(this,EmailVerificationService);var _this=_possibleConstructorReturn(this,(EmailVerificationService.__proto__||Object.getPrototypeOf(EmailVerificationService)).call(this));return _this.channel=channel,_this}return _inherits(EmailVerificationService,_AbstractActions),_createClass(EmailVerificationService,[{key:"onTriggerEmailActivation",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_4__messages__.a.INTEGRATOR_TRIGGER_EMAIL_VERIFICATION,{ticket:__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).sessionId,userId:__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).user_id})}},{key:"callback",value:function(userData){var _this2=this;this.dispatch(new __WEBPACK_IMPORTED_MODULE_1_app_actions_UserEmailVerificationAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_app_selectors__.l)(this.state),(!0))),new Promise(function(resolve){return setTimeout(function(){return resolve()},3500)}).then(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_1_app_actions_UserEmailVerificationAction__.a((!1),(!1)))})}},{key:"afterTriggeredEmailVerification",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_1_app_actions_UserEmailVerificationAction__.a((!1),(!0)))}}]),EmailVerificationService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);EmailVerificationService=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_5__services_WidgetChannelService__.a])],EmailVerificationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(22));__webpack_require__.d(exports,"a",function(){return CustomTranslateQueries});var CustomTranslateQueries=function CustomTranslateQueries(){_classCallCheck(this,CustomTranslateQueries)};CustomTranslateQueries.getAddFriendTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Enter full player name",locale:__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__.a.getCurrentLocale(state)})},CustomTranslateQueries.getFilterTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Filter",locale:__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__.a.getCurrentLocale(state)})},CustomTranslateQueries.getFriendsSelectorTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Compare with",locale:__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__.a.getCurrentLocale(state)})},CustomTranslateQueries.getTranslatedText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__.a.getLocaleCatalog,function(state,props){return props.valueToTranslate},function(catalog,valueToTranslate){var translatedValue=null;try{translatedValue=catalog[valueToTranslate]||valueToTranslate}catch(error){translatedValue=valueToTranslate,console.error("[LOCALE MISSING] "+translatedValue)}return catalog&&Object.keys(catalog).forEach(function(name){translatedValue=translatedValue.replace("%("+name+")",catalog[name])}),translatedValue}),CustomTranslateQueries.getIsLocaleXpTranslationTooLong=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_1__LocaleQueries__.a.getCurrentLocale,function(locale){return["de-DE","es-ES","fr-FR","fr-CA","hu-HU","it-IT","pl-PL","uk-UA"].indexOf(locale)!==-1})},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return MAX_NUMBER_OF_RECURSIVE_REQUESTS});var MAX_NUMBER_OF_RECURSIVE_REQUESTS=5},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(87)),__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_4__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_6__WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_9__stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_10__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__=__webpack_require__(217),__WEBPACK_IMPORTED_MODULE_13__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_14__GamesCommonQueries__=__webpack_require__(135),__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_16__OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_17__stores_ApplicationsStore__=__webpack_require__(55);__webpack_require__.d(exports,"a",function(){return FriendProfileQueries});var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},FriendProfileQueries=function FriendProfileQueries(){_classCallCheck(this,FriendProfileQueries)};FriendProfileQueries.getFriendDefaultAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendDefaultAvatar",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(userId,appId,avatarUrl){return avatarUrl+"/"+userId+"/default_[size].png?appId="+appId}),FriendProfileQueries.getFriendLargeAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendLargeAvatar",FriendProfileQueries.getFriendDefaultAvatar,function(avatar){return avatar.replace("[size]","256_256")}),FriendProfileQueries.getFriendSmallAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendSmallAvatar",FriendProfileQueries.getFriendDefaultAvatar,function(avatar){return avatar.replace("[size]","146_146")}),FriendProfileQueries.getCurrentFriendProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendProfileIds",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,function(currentFriendId,byUserId,byId){return currentFriendId&&byUserId[currentFriendId]?byUserId[currentFriendId].map(function(userId){return byId[userId]}):[]}),FriendProfileQueries.getCurrentFriendProfilesIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendProfilesIds",FriendProfileQueries.getCurrentFriendProfiles,function(profiles){return profiles.map(function(profile){return profile.profileId})}),FriendProfileQueries.getFriendGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendGamesPlayed",__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomStoreBuyButton,function(applicationsByUserId,byPlatformApplicationId,bySpaceId,lastSessionDates,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,userId,siblingsSpaceIdsByParentSpaceId,customStoreBuyButton){return __WEBPACK_IMPORTED_MODULE_14__GamesCommonQueries__.a.getGamesPlayed(applicationsByUserId,userId,byPlatformApplicationId,bySpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,lastSessionDates,siblingsSpaceIdsByParentSpaceId,customStoreBuyButton)}),FriendProfileQueries.getHasGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasGamesPlayed",FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId,function(otherGamesPlayed,userId,gamesbyUserId){return!(!gamesbyUserId[userId]||!gamesbyUserId[userId].length)&&otherGamesPlayed.length>0}),FriendProfileQueries.getFriendCurrenGamePlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayed",FriendProfileQueries.getHasGamesPlayed,FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,function(hasGamesPlayed,games,gameId){return hasGamesPlayed?games.find(function(game){return game.id===gameId}):null}),FriendProfileQueries.getFriendCurrenGamePlayedGameDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameDate",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.lastPlayedDate:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameTitle=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameTitle",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.gameName:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.id:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.imageUrl:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameCoverUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.coverUrl:null}),FriendProfileQueries.getFriendCurrenGamePlayedSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedSpaceId",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,function(id,spaceId,selectedAppIdByGameId){return selectedAppIdByGameId[id]&&selectedAppIdByGameId[id].spaceId?selectedAppIdByGameId[id].spaceId:spaceId}),FriendProfileQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId",FriendProfileQueries.getFriendCurrenGamePlayedSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getBySpaceId,function(currentLastPlayedGameSpaceId,siblingsSpaceIdsByParentSpaceId,gamesBySpaceId){return currentLastPlayedGameSpaceId&&gamesBySpaceId&&gamesBySpaceId[currentLastPlayedGameSpaceId]&&gamesBySpaceId[currentLastPlayedGameSpaceId].installmentDefault?currentLastPlayedGameSpaceId:currentLastPlayedGameSpaceId&&siblingsSpaceIdsByParentSpaceId&&siblingsSpaceIdsByParentSpaceId[currentLastPlayedGameSpaceId]?siblingsSpaceIdsByParentSpaceId[currentLastPlayedGameSpaceId].find(function(siblingsSpaceId){return gamesBySpaceId[siblingsSpaceId]&&gamesBySpaceId[siblingsSpaceId].installmentDefault}):null}),FriendProfileQueries.getFriendCurrenGamePlayedAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedAppId",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameAppId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,function(id,appId,selectedAppIdByGameId){return selectedAppIdByGameId[id].appId?selectedAppIdByGameId[id].appId:appId}),FriendProfileQueries.getSelectedPlatformCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getSelectedPlatformCode",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(selectedAppIdByGameId,gameId,platformsByApplicationId){return Object.keys(selectedAppIdByGameId).length&&gameId&&selectedAppIdByGameId[gameId]&&platformsByApplicationId[selectedAppIdByGameId[gameId].appId]?"switch"!==platformsByApplicationId[selectedAppIdByGameId[gameId].appId].displayName.toLowerCase()?platformsByApplicationId[selectedAppIdByGameId[gameId].appId].displayName:"NINTENDO SWITCH":null}),FriendProfileQueries.getSelectedPlatformType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getSelectedPlatformType",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(selectedAppIdByGameId,gameId,platformsByApplicationId){
return Object.keys(selectedAppIdByGameId).length&&gameId&&selectedAppIdByGameId[gameId]&&platformsByApplicationId[selectedAppIdByGameId[gameId].appId]?platformsByApplicationId[selectedAppIdByGameId[gameId].appId].type:null}),FriendProfileQueries.getSelectedPlatformAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getSelectedPlatformType",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(selectedAppIdByGameId,gameId,platformsByApplicationId){return Object.keys(selectedAppIdByGameId).length&&gameId&&selectedAppIdByGameId[gameId]&&platformsByApplicationId[selectedAppIdByGameId[gameId].appId]?platformsByApplicationId[selectedAppIdByGameId[gameId].appId].applicationId:null}),FriendProfileQueries.getCurrentGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentGamePlatforms",FriendProfileQueries.getFriendCurrenGamePlayedSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(spaceId,platformsApplicationsIdsByParentSpaceId,platformsById){return spaceId&&platformsApplicationsIdsByParentSpaceId[spaceId]?platformsApplicationsIdsByParentSpaceId[spaceId].map(function(appId){return platformsById[appId]}):[]}),FriendProfileQueries.getLastPlayedGameOwnedPlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getMyLastPlayedGameOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getBySiblingSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,function(gameSpaceId,applicationsByUserId,bySpaceId,bySiblingSpaceId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId,currentFriendId){if(!gameSpaceId)return[];if(!applicationsByUserId[currentFriendId])return[];if(gameSpaceId=bySpaceId[gameSpaceId]?bySpaceId[gameSpaceId].spaceId:bySiblingSpaceId[gameSpaceId]?bySiblingSpaceId[gameSpaceId]:gameSpaceId,!platformsApplicationsIdsByParentSpaceId[gameSpaceId])return[];var ownedAppIds=applicationsByUserId[currentFriendId].filter(function(appId){return platformsApplicationsIdsByParentSpaceId[gameSpaceId].indexOf(appId)!==-1});return ownedAppIds.map(function(ownedAppId){return{key:ownedAppId,value:"switch"!==platformsByApplicationId[ownedAppId].displayName.toLowerCase()?platformsByApplicationId[ownedAppId].displayName:"NINTENDO SWITCH"}})}),FriendProfileQueries.getLastPlayedGameFilteredOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getSelectedSpaceAndAppByGameId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,FriendProfileQueries.getLastPlayedGameOwnedPlatforms,function(platforms,gameId,platformsOwned){return platforms[gameId]?platformsOwned.filter(function(platform){return platform.key!==platforms[gameId].appId}):[]}),FriendProfileQueries.getCurrentGameSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentGameSpaceIds",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameSpaceId,FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,function(currentGameSpaceId,otherGamesPlayed,siblingsSpaceIdsByParentSpaceId){return currentGameSpaceId?siblingsSpaceIdsByParentSpaceId[currentGameSpaceId]?siblingsSpaceIdsByParentSpaceId[currentGameSpaceId].concat(currentGameSpaceId):[currentGameSpaceId]:otherGamesPlayed.length?siblingsSpaceIdsByParentSpaceId[otherGamesPlayed[0].spaceId]?siblingsSpaceIdsByParentSpaceId[otherGamesPlayed[0].spaceId].concat(otherGamesPlayed[0].spaceId):[otherGamesPlayed[0].spaceId]:[]}),FriendProfileQueries.getCurrentFriendConnections=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsOnline",FriendProfileQueries.getCurrentFriendProfilesIds,__WEBPACK_IMPORTED_MODULE_9__stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getBySpaceId,FriendProfileQueries.getCurrentGameSpaceIds,function(currentFriendProfilesIds,connectionsById,platformsById,spaceIds){var connectionsIdsWithUser=Object.keys(connectionsById).filter(function(id){return currentFriendProfilesIds.includes(connectionsById[id].profileId)}),withAGame=connectionsIdsWithUser.filter(function(id){return connectionsById[id].spaceIds.find(function(spaceId){return spaceIds.includes(spaceId)})}),withoutAGame=connectionsIdsWithUser.filter(function(id){return!spaceIds.includes(connectionsById[id].spaceIds[0])}).filter(function(id){return!withAGame.map(function(i){return connectionsById[i].profileId}).includes(connectionsById[id].profileId)});return{isOnline:withoutAGame.length>0||withAGame.length>0,isCurrentlyPlayingAGame:withAGame.length>0}}),FriendProfileQueries.getCurrentFriendIsOnline=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsOnline",FriendProfileQueries.getCurrentFriendConnections,function(withConnections){return withConnections.isOnline}),FriendProfileQueries.getCurrentFriendIsCurrentlyPlayingAGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsCurrentlyPlayingAGame",FriendProfileQueries.getCurrentFriendConnections,function(WithConnections){return WithConnections.isCurrentlyPlayingAGame}),FriendProfileQueries.getHasOnlyOnePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasMyLastPlayedGameOnlyOnePlatform",FriendProfileQueries.getLastPlayedGameOwnedPlatforms,function(platforms){return 1==platforms.length}),FriendProfileQueries.getHasOwnedPlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasMyLastPlayedGameOwnedPlatform",FriendProfileQueries.getLastPlayedGameOwnedPlatforms,function(platforms){return platforms.length>0}),FriendProfileQueries.getFriendsGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsGamesPlayed",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_10__stores_FriendsGamesPlayedStore__.a.getFriendsByInstallmentId,__WEBPACK_IMPORTED_MODULE_4__selectors__.g,function(installmentId,friendsByInstallmentId,friendsUserProfilesIdsString){return friendsByInstallmentId[installmentId]&&friendsByInstallmentId[installmentId][friendsUserProfilesIdsString]?friendsByInstallmentId[installmentId][friendsUserProfilesIdsString]:[]}),FriendProfileQueries.getFriendsGamesPlayedProfileIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsGamesPlayedProfileIds",FriendProfileQueries.getFriendsGamesPlayed,function(gamesPlayed){return gamesPlayed.map(function(game){return game.profileId})}),FriendProfileQueries.getFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGame",__WEBPACK_IMPORTED_MODULE_4__selectors__.h,FriendProfileQueries.getFriendsGamesPlayedProfileIds,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,function(friends,friendsProfilIds,profilesByIds){return friends.filter(function(friend){return!!friendsProfilIds.find(function(profilId){return friend.pid==profilesByIds[profilId].userId})})}),FriendProfileQueries.getFriendsPlayingGameIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGame",FriendProfileQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.pid})}),FriendProfileQueries.getUsersPlayingFriendGameIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getUsersPlayingFriendGameIds",FriendProfileQueries.getFriendsPlayingGameIds,function(state,props){return props.friendId},function(friends,currentFriendId){return friends.filter(function(id){return id!==currentFriendId})}),FriendProfileQueries.getFriendsPlayingGameNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGameNames",FriendProfileQueries.getFriendsPlayingGame,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendName,function(friends,name){return friends.map(function(friend){return friend.nameOnPlatform}).filter(function(friend){return friend!==name})}),FriendProfileQueries.getNbOfFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGameNames",FriendProfileQueries.getFriendsPlayingGame,function(friends){return friends.length}),FriendProfileQueries.getFriendUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("friendUserProfilesByFriendId$",__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})}),FriendProfileQueries.hasLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.hasLastPlayedGameStats",FriendProfileQueries.getCurrentGameSpaceIds,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getBySpaceId,function(spaceIds,bySpaceId){return!!spaceIds.find(function(spaceId){return!!bySpaceId[spaceId]&&bySpaceId[spaceId].length>0})}),FriendProfileQueries.getGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameStats",FriendProfileQueries.getFriendCurrenGamePlayedSpaceId,FriendProfileQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId,FriendProfileQueries.getSelectedPlatformType,FriendProfileQueries.getFriendUserProfiles,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_17__stores_ApplicationsStore__.a.getByAppId,FriendProfileQueries.getSelectedPlatformAppId,function(spaceId,installmentDefaultSpaceId,platformType,userProfiles,friendId,bySpaceId,byId,byAppId,platformAppId){var userId=__WEBPACK_IMPORTED_MODULE_16__OtherGamesCarouselQueries__.a.getUserProfileIdByPlatformType(platformType,byAppId,platformAppId,spaceId,userProfiles,friendId),spaceIdStats=__WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.getGameStatsMap(bySpaceId,spaceId,byId,userId);return spaceIdStats.length?spaceIdStats:__WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.getGameStatsMap(bySpaceId,installmentDefaultSpaceId,byId,userId)}),FriendProfileQueries.getLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getLastPlayedGameStats",FriendProfileQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_6__WidgetQueries__.a.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_6__WidgetQueries__.a.getShowMobileViewOnDesktop,function(stats,isInMobileView,showMobileViewOnDesktop){return stats.slice(0,isInMobileView||showMobileViewOnDesktop?3:4)}),FriendProfileQueries.getFrindsStatsByPlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFrindsStatsByPlatform",__WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.getAllProfileIds,FriendProfileQueries.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,function(allProfileIds,platforms,friendsStats,byPlatformApplicationId,userProfilesById){return __WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.computeFrindsStatsByPlatform(allProfileIds,platforms,friendsStats,byPlatformApplicationId,userProfilesById)}),FriendProfileQueries.getLastPlayedGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getLastPlayedGameStatsWithRank",FriendProfileQueries.getLastPlayedGameStats,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendName,FriendProfileQueries.getFrindsStatsByPlatform,function(stats,friendsStats,friendUserame,frindsStatsByPlatform){return __WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.computeGameStatsWithRank(stats,friendsStats,friendUserame,frindsStatsByPlatform)}),FriendProfileQueries.getGameStatsToCompareWithAFriend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameStatsWithRank",FriendProfileQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_11__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getByUserId,FriendProfileQueries.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_13__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,friendId,byPlatformApplicationId){return __WEBPACK_IMPORTED_MODULE_12__GameStatsQueries__.a.computeGameStatsToCompareWithAFriend(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms.map(function(platform){return byPlatformApplicationId[platform.applicationId].siblingSpaceId}),friendId).map(function(stat){return __assign({},stat,{friendFormattedValue:stat.formattedValue,formattedValue:stat.friendFormattedValue,friendValue:stat.value,value:stat.friendValue})})}),FriendProfileQueries.getLoadedFriendGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameStatsWithRank",__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.loaded,function(loaded){return loaded}),FriendProfileQueries.getHasOnlyOneGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasOnlyOneGame",FriendProfileQueries.getFriendGamesPlayed,function(otherGamesPlayed){return 1==otherGamesPlayed.length}),FriendProfileQueries.getOnlyGamePlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getOnlyGamePlayed",FriendProfileQueries.getFriendGamesPlayed,function(otherGamesPlayed){return otherGamesPlayed[0]}),FriendProfileQueries.getFriendPlayedAppIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendPlayedAppIds",__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,function(applicationsByUserId,userId){return applicationsByUserId[userId]?applicationsByUserId[userId]:[]}),FriendProfileQueries.getFriendPlayedSpaceIdsFromGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getMyPlayedSpaceIdsFromGamesPlayed",__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getSpaceIdsByUserId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,function(spaceIds,userId){return spaceIds[userId]?spaceIds[userId]:[]}),FriendProfileQueries.getFriendPlayedSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendPlayedSpaceIds",FriendProfileQueries.getFriendPlayedAppIds,__WEBPACK_IMPORTED_MODULE_17__stores_ApplicationsStore__.a.getByAppId,function(friendPlayedAppIds,byAppId){return friendPlayedAppIds.length?friendPlayedAppIds.filter(function(appId){return!!byAppId[appId]}).map(function(appId){return byAppId[appId].spaceId}):[]}),FriendProfileQueries.getPlatformTypeByPlatformCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getPlatformTypeByPlatformCode",__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(stat,props){return props.platformCode},function(platformsByApplicationId,platformCode){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(platformsByApplicationId,function(gamePlatform){return gamePlatform.displayName==platformCode})?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(platformsByApplicationId,function(gamePlatform){return gamePlatform.displayName==platformCode}).type:"PC"}),FriendProfileQueries.getGameNameByGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameNameByGameId",function(state,props){return props.gameId},__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId,__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getBySpaceId,function(gameId,byInstallmentSpaceId,bySpaceId){return byInstallmentSpaceId[gameId]&&bySpaceId[byInstallmentSpaceId[gameId]]?bySpaceId[byInstallmentSpaceId[gameId]].title:null}),FriendProfileQueries.getPlatformNameByAppId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getPlatformNameByAppId",function(state,props){return props.appId},__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(appId,platformsByApplicationId){return platformsByApplicationId?platformsByApplicationId[appId].displayName:null}),FriendProfileQueries.getHasNoSessionData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasNoSessionData",__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_5__stores_GamesPlayedStore__.a.getApplicationsByApplicationId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendProfileStore__.a.getCurrentFriendId,function(applications,applicationsByApplicationId,userId){return!applications[userId]&&applications[userId].every(function(appId){return null===applicationsByApplicationId[appId].sessionsCount&&null===applicationsByApplicationId[appId].firstPlayed.createdAt&&null===applicationsByApplicationId[appId].firstPlayed.countryCode&&null===applicationsByApplicationId[appId].lastPlayed.updatedAt&&null===applicationsByApplicationId[appId].firstPlayed.countryCode})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(90)),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_5_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_7__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__=__webpack_require__(307),__WEBPACK_IMPORTED_MODULE_9__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_10__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_11__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5);__webpack_require__.d(exports,"a",function(){return GameStatsQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},GameStatsQueries=function(){function GameStatsQueries(){_classCallCheck(this,GameStatsQueries)}return _createClass(GameStatsQueries,null,[{key:"computeGameStatsWithRank",value:function(stats,friendsStats,username,frindsStatsByPlatform){return Object.keys(friendsStats).length&&frindsStatsByPlatform.length?stats.map(function(stat){var orderValues=[];if(frindsStatsByPlatform.forEach(function(frindStat){frindStat.statsValuesDictionary[stat.id]&&orderValues.push({value:frindStat.statsValuesDictionary[stat.id],username:frindStat.username})}),orderValues.length){orderValues.push({value:stat.value,username:username});var rank=1;return orderValues.sort(function(a,b){return parseFloat(a.value)!=parseFloat(b.value)&&parseFloat(a.value)&&parseFloat(b.value)?parseFloat(a.value)>parseFloat(b.value)?-1:1:a.username.toLowerCase()<b.username.toLowerCase()?-1:a.username.toLowerCase()>b.username.toLowerCase()?1:0}).find(function(value,offset){return rank=offset+1,value.value==stat.value}),__assign({},stat,{rank:rank})}return __assign({},stat,{rank:1})}):stats.map(function(stat){return __assign({},stat,{rank:1})})}},{key:"computeGameStatsToCompareWithAFriend",value:function(stats,friendsStats,userProfilesById,userProfilesByUserId,spaceIds,friendId){return stats.map(function(stat){var orderValues=[],currentFrindUserProfilesByUserId=userProfilesByUserId[friendId],values=[];if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__.forEach)(currentFrindUserProfilesByUserId,function(key){spaceIds.forEach(function(spaceId){friendsStats[key+"_"+spaceId]&&friendsStats[key+"_"+spaceId].stats[stat.id]&&values.push({value:friendsStats[key+"_"+spaceId].stats[stat.id].value,username:userProfilesById[key].nameOnPlatform})})}),values.length&&(values=values.sort(function(a,b){return parseFloat(a.value)&&parseFloat(b.value)?parseFloat(a.value)>parseFloat(b.value)?-1:1:0}),orderValues.push(values[0])),orderValues.length){var friendFormattedValue=GameStatsQueries.computeGameStatsValue(orderValues[0].value,stat.format,stat.unit,stat.statName);return __assign({},stat,{value:GameStatsQueries.computeDefaultValue(stat.format,stat.value)},{friendFormattedValue:friendFormattedValue,friendValue:GameStatsQueries.computeDefaultValue(stat.format,orderValues[0].value)})}var _friendFormattedValue=GameStatsQueries.computeGameStatsValue(null,stat.format,stat.unit,stat.statName);return __assign({},stat,{value:GameStatsQueries.computeDefaultValue(stat.format,stat.value)},{friendFormattedValue:_friendFormattedValue,friendValue:GameStatsQueries.computeDefaultValue(stat.format,null)})})}},{key:"computeGameStatsValue",value:function(value,format,unit,stateName){if(!value&&!format&&!stateName)return[{value:"0",isUnit:!1}];if(format==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.INTEGER&&(unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS||unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS_ABSOLUTE_UNIT||unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.KILOMETERS||unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.KILOMETERS_ABSOLUTE_UNIT)){var unitValue=null;return unit!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS&&unit!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS_ABSOLUTE_UNIT||(unitValue="m"),unit!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.KILOMETERS&&unit!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.KILOMETERS_ABSOLUTE_UNIT||(unitValue="km"),value?[{value:unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS||unit===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.METERS_ABSOLUTE_UNIT?GameStatsQueries.roundValue((parseFloat(value)/1e3).toString()).toString():GameStatsQueries.roundValue(value).toString(),isUnit:!1},{value:unitValue,isUnit:!0}]:[{value:"0",isUnit:!1},{value:unitValue,isUnit:!0}]}switch(format){case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.PERCENTAGE:return value?"1.0"==value?[{value:"100",isUnit:!1}]:parseFloat(value)<=1?[{value:Math.round(100*GameStatsQueries.roundValue(value)).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(value)>1&&parseFloat(value)<=10?[{value:Math.round(10*GameStatsQueries.roundValue(value)).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(value)>10&&parseFloat(value)<=100?[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(value)>100&&parseFloat(value)<=1e3?[{value:Math.round(GameStatsQueries.roundValue(value)/10).toString(),isUnit:!1},{value:"%",isUnit:!0}]:[{value:value,isUnit:!1},{value:"%",isUnit:!0}]:[{value:"0",isUnit:!1},{value:"%",isUnit:!0}];case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.LONG_TIMESPAN:if(!value)return[{value:"0",isUnit:!1},{value:"m",isUnit:!0}];if(unit==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.MILLISECONDS&&parseFloat(value)<6e4||unit==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.SECONDS&&parseFloat(value)<60||unit==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.MINUTES&&parseFloat(value)<1||unit==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.HOURS&&parseFloat(value)<1/60||unit==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.DAYS&&parseFloat(value)<1/1440)return[{value:"<",isUnit:!0},{value:"1",isUnit:!1},{value:"m",isUnit:!0}];switch(unit){case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.MILLISECONDS:return GameStatsQueries.computeDuration(value,unit,6e4,36e5,36e6);case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.SECONDS:return GameStatsQueries.computeDuration(value,unit,60,3600,36e3);case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.MINUTES:return GameStatsQueries.computeDuration(value,unit,1,60,600);case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.HOURS:return GameStatsQueries.computeDuration(value,unit,1/60,1,10);case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.b.DAYS:return GameStatsQueries.computeDuration(value,unit,1/1440,1/60,1/60*10);default:return[{value:__WEBPACK_IMPORTED_MODULE_0_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]}case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.INTEGER:return value?(value=value.replace(/[\s,]+/g,""),parseFloat(value)/1e6>=1?[{value:Math.floor(parseFloat(value)/1e6).toString(),isUnit:!1},{value:"M",isUnit:!0}]:Math.floor(parseFloat(value)/1e3)>=10&&Math.floor(parseFloat(value)/1e3)<1e3?[{value:Math.floor(parseFloat(value)/1e3).toString(),isUnit:!1},{value:"k",isUnit:!0}]:[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1}]):[{value:"0",isUnit:!1}];case __WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.DECIMAL:return value?[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1}]:[{value:"0",isUnit:!1}];default:return value?[{value:value,isUnit:!1}]:[{value:"0",isUnit:!1}]}}},{key:"computeDuration",value:function(value,unit,lowerValue,middleValue,higherValue){if(parseFloat(value)>=lowerValue&&parseFloat(value)<middleValue)return[{value:__WEBPACK_IMPORTED_MODULE_0_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("m"),isUnit:!1},{value:"m",isUnit:!0}];if(parseFloat(value)>=middleValue&&parseFloat(value)<higherValue){var formatValues=__WEBPACK_IMPORTED_MODULE_0_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h[_h]-m[_m]").split("-");return formatValues=formatValues.map(function(formatValue){return[{value:formatValue.split("_")[0],isUnit:!1},{value:formatValue.split("_")[1],isUnit:!0}]}),formatValues=formatValues.reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)})}return[{value:__WEBPACK_IMPORTED_MODULE_0_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]}},{key:"roundValue",value:function(value){return Math.round(100*(parseFloat(value)+1e-15))/100}},{key:"computeDefaultValue",value:function(format,value){return format!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_GameStatsCard__.a.STRING?value?parseFloat(value):0:value}},{key:"computeFrindsStatsByPlatform",value:function(allProfileIds,platforms,friendsStats,byPlatformApplicationId,userProfilesById){if(!(allProfileIds&&platforms&&friendsStats&&allProfileIds.length&&platforms.length&&Object.keys(friendsStats).length))return[];var frindsStatsByPlatform=[];return allProfileIds.forEach(function(profileId){var statsValuesDictionary={};platforms.forEach(function(platform){var friendStat=friendsStats[profileId+"_"+byPlatformApplicationId[platform.applicationId].siblingSpaceId];friendStat&&friendStat.stats&&Object.keys(friendStat.stats).length&&Object.keys(friendStat.stats).forEach(function(statId){var value=friendStat.stats[statId].value;statsValuesDictionary[statId]||(statsValuesDictionary[statId]=value),statsValuesDictionary[statId]&&parseFloat(value)&&statsValuesDictionary[statId]<value&&(statsValuesDictionary[statId]=value)})}),Object.keys(statsValuesDictionary).length&&frindsStatsByPlatform.push({statsValuesDictionary:statsValuesDictionary,username:userProfilesById[profileId].nameOnPlatform})}),frindsStatsByPlatform}},{key:"getGameStatsMap",value:function(bySpaceId,spaceId,byId,userId){return bySpaceId[spaceId]&&byId[userId]&&byId[userId][spaceId]?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__.uniqBy)(bySpaceId[spaceId].filter(function(id){
return!byId[userId][spaceId]||!!byId[userId][spaceId][id]}).map(function(id){return byId[userId][spaceId][id]}).sort(GameStatsQueries.statsSortingFunction),"id"):[]}},{key:"statsSortingFunction",value:function(current,previous){return current.ordinal===previous.ordinal?current.name.toLowerCase()<previous.name.toLowerCase()?-1:1:current.ordinal-previous.ordinal}}]),GameStatsQueries}();GameStatsQueries.hasLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.hasLastPlayedGameStats",__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getBySpaceId,function(spaceId,bySpaceId){return!!bySpaceId[spaceId]&&bySpaceId[spaceId].length>0}),GameStatsQueries.getGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getGameStats",__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__.a.getMyUserIdByLastPlayedGamePlatform,GameStatsQueries.getGameStatsMap),GameStatsQueries.getLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getLastPlayedGameStats",GameStatsQueries.getGameStats,function(stats){return stats.slice(0,3)}),GameStatsQueries.getAllProfileIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getAllProfileIds",__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getByUserId,function(userProfilesByUserId){return Object.keys(userProfilesByUserId).map(function(userId){return userProfilesByUserId[userId]}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)})}),GameStatsQueries.getFrindsStatsByPlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getFrindsStatsByPlatform",GameStatsQueries.getAllProfileIds,__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__.a.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_9__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,function(allProfileIds,platforms,friendsStats,byPlatformApplicationId,userProfilesById){return GameStatsQueries.computeFrindsStatsByPlatform(allProfileIds,platforms,friendsStats,byPlatformApplicationId,userProfilesById)}),GameStatsQueries.getLastPlayedGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getLastPlayedGameStatsWithRank",GameStatsQueries.getLastPlayedGameStats,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__selectors__.i,GameStatsQueries.getFrindsStatsByPlatform,function(stats,friendsStats,username,frindsStatsByPlatform){return GameStatsQueries.computeGameStatsWithRank(stats,friendsStats,username,frindsStatsByPlatform)}),GameStatsQueries.getGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getGameStatsWithRank",GameStatsQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__selectors__.i,GameStatsQueries.getFrindsStatsByPlatform,function(stats,friendsStats,username,frindsStatsByPlatform){return GameStatsQueries.computeGameStatsWithRank(stats,friendsStats,username,frindsStatsByPlatform)}),GameStatsQueries.getGameStatsToCompareWithAFriend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getGameStatsWithRank",GameStatsQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_2__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_6__OtherGamesCarouselQueries__.a.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_7__stores_StatsComparisonStore__.a.getSelectedFriendId,__WEBPACK_IMPORTED_MODULE_9__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,friendId,byPlatformApplicationId){return GameStatsQueries.computeGameStatsToCompareWithAFriend(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms.map(function(platform){return byPlatformApplicationId[platform.applicationId].siblingSpaceId}),friendId)}),GameStatsQueries.getFriendAvatarUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("GameStatsQueries.getFriendAvatar",__WEBPACK_IMPORTED_MODULE_7__stores_StatsComparisonStore__.a.getSelectedFriendId,__WEBPACK_IMPORTED_MODULE_10__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_11__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(userId,appId,avatarUrl){return avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__),__WEBPACK_IMPORTED_MODULE_2__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_3__stores_RecentlyMetStore__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_9__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_10__stores_MetaProgressionProfileStore__=__webpack_require__(91);__webpack_require__.d(exports,"a",function(){return RecentlyMetQueries});var RecentlyMetQueries=function RecentlyMetQueries(){_classCallCheck(this,RecentlyMetQueries)};RecentlyMetQueries.getMyRecentlyMetRelations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetRelations",__WEBPACK_IMPORTED_MODULE_3__stores_RecentlyMetStore__.a.getEntities,__WEBPACK_IMPORTED_MODULE_2__selectors__.u,function(entities,ids){return entities.filter(function(entity){return ids.indexOf(entity.profileId)!==-1&&entity.relationList.length>0})}),RecentlyMetQueries.getRecentlyMetProfileIdsInTheLast2Weeks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getRecentlyMetProfileIdsInTheLast2Weeks",RecentlyMetQueries.getMyRecentlyMetRelations,function(entities){var ids=[];return entities.forEach(function(entity){entity.relationList.map(function(rL){ids=ids.concat(rL.relations.filter(function(relation){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(relation.lastTime)>__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(14,"days").startOf("day")}).map(function(relation){return relation.userId}))})}),ids&&ids.length>0?ids:[]}),RecentlyMetQueries.getMyRecentlyMetRelationLists=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetRelationLists",RecentlyMetQueries.getMyRecentlyMetRelations,function(entities){var list=[];return entities.forEach(function(entity){list=list.concat(entity.relationList)}),list}),RecentlyMetQueries.getMyRecentlyMetFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetRelationLists,__WEBPACK_IMPORTED_MODULE_9__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_2__selectors__.v,__WEBPACK_IMPORTED_MODULE_10__stores_MetaProgressionProfileStore__.a.getById,function(relationsList,gamesBySpaceId,userProfiles,byUserId,avatarsUrl,appId,friends,metaProgressionProfiles){var recentlyMetUserListsByGame=[];return relationsList.forEach(function(relationList){var currentGameTitle=gamesBySpaceId[relationList.spaceId]?gamesBySpaceId[relationList.spaceId].title:null,relationsInTheLast2Weeks=relationList.relations.filter(function(relation){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(relation.lastTime)>__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(14,"days").startOf("day")}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastTime).unix()-__WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastTime).unix()});relationsInTheLast2Weeks.forEach(function(relation){var foundUserProfilesByUserId=userProfiles[relation.userId],foundOtherProfile=byUserId[relation.userId]?byUserId[relation.userId].map(function(id){return userProfiles[id]}):[],foundFriend=friends[relation.userId];if(!foundFriend||foundFriend&&(foundFriend.state!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Friend__.a.FRIENDS||!foundFriend.state)){var foundPsnProfile=foundOtherProfile.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.PSN}),foundXboxProfile=foundOtherProfile.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE}),foundSteamProfile=foundOtherProfile.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.STEAM});recentlyMetUserListsByGame.push({pid:relation.userId,userAvatarUrl:avatarsUrl+"/"+relation.userId+"/default_146_146.png?appId="+appId,userName:foundUserProfilesByUserId?foundUserProfilesByUserId.nameOnPlatform:null,hasPsnProfile:!!foundPsnProfile,psnName:foundPsnProfile?foundPsnProfile.nameOnPlatform:null,hasSteamProfile:!!foundSteamProfile,steamName:foundSteamProfile?foundSteamProfile.nameOnPlatform:null,hasXboxProfile:!!foundXboxProfile,xboxName:foundXboxProfile?foundXboxProfile.nameOnPlatform:null,friendState:foundFriend?foundFriend.state:__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP,invitationRequestDate:null,currentGameTitle:currentGameTitle,gameLastTimeMet:relation.lastTime,userLevel:metaProgressionProfiles[relation.userId]?metaProgressionProfiles[relation.userId].level:0})}})}),recentlyMetUserListsByGame.sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(b.gameLastTimeMet).unix()-__WEBPACK_IMPORTED_MODULE_1_moment___default()(a.gameLastTimeMet).unix()}),recentlyMetUserListsByGame}),RecentlyMetQueries.getHasRecentlyMetFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getHasRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetFriends,function(entities){return entities.length>0}),RecentlyMetQueries.getMyRecentlyMetFriendsForCarousel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getHasRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetFriends,function(entities){return entities})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(173)),__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(224)),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_9__FriendsOwnedGamesQueries__=__webpack_require__(134);__webpack_require__.d(exports,"a",function(){return UserRewardsQueries});var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},UserRewardsQueries=function UserRewardsQueries(){_classCallCheck(this,UserRewardsQueries)};UserRewardsQueries.getGameRewards=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getGameRewards",__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getBySpaceId,function(spaceId,byId,bySpaceId){return bySpaceId[spaceId]&&bySpaceId[spaceId].length?bySpaceId[spaceId].map(function(id){return byId[id]}):[]}),UserRewardsQueries.getRewardsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardsOwned",UserRewardsQueries.getGameRewards,function(rewards){return rewards.filter(function(item){return item.purchaseQuantity>0&&!!item.purchasedAt})}),UserRewardsQueries.getNbRewardsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbRewardsOwned",UserRewardsQueries.getRewardsOwned,function(rewards){return rewards.length}),UserRewardsQueries.getNbOfTotalRewards=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbOfTotalRewards",UserRewardsQueries.getGameRewards,function(rewards){return rewards.length}),UserRewardsQueries.getNbOfUnits=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbOfUnits",__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getUnitsByProfileId,__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__.a.getUserId,function(units,userId){return units[userId]}),UserRewardsQueries.getGameRewaredsRarityTipies=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getGameRewaredsRarities",UserRewardsQueries.getGameRewards,function(rewards){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.uniqBy)(rewards.map(function(reward){return reward.rarity}),"id")}),UserRewardsQueries.getGameRewaredsRarityNumbers=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getGameRewaredsRarities",UserRewardsQueries.getGameRewaredsRarityTipies,UserRewardsQueries.getGameRewards,function(types,rewards){return types.map(function(type){var nbOfRewards=0,nbOfRewardsOwned=0;return rewards.forEach(function(reward){reward.rarity.id===type.id&&(nbOfRewards++,reward.purchaseQuantity>0&&reward.purchasedAt&&nbOfRewardsOwned++)}),__assign({},type,{nbOfRewards:nbOfRewards,nbOfRewardsOwned:nbOfRewardsOwned})})}),UserRewardsQueries.getSingleRewardByRewardId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getSingleRewardByRewardId",function(state,props){return props.rewardId},__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getById,function(rewardId,rewards){return rewards[rewardId]?rewards[rewardId]:null}),UserRewardsQueries.getRewardByOffset=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardByOffset",function(state,props){return props.offset},UserRewardsQueries.getGameRewards,function(offset,rewards){return rewards[offset]?rewards[offset]:null}),UserRewardsQueries.getRewardIdByOffset=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardIdByOffset",UserRewardsQueries.getRewardByOffset,function(reward){return reward?reward.rewardId:null}),UserRewardsQueries.getRewardSpaceIdByOffset=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardSpaceIdByOffset",UserRewardsQueries.getRewardByOffset,function(reward){return reward?reward.spaceId:null}),UserRewardsQueries.getFriendsOwningReward=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getFriendsOwningReward",__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__.a.getRewardId,__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getProfileIdsByRewardId,__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getProfilesRewardsbyId,__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_8__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_9__FriendsOwnedGamesQueries__.a.getFriendsGamesPlayedProfileIds,function(rewardId,profileIdsByRewardId,rewards,appId,avatarUrl,profileById,friendsGamesPlayedProfileIds){return profileIdsByRewardId[rewardId]?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.uniqBy)(profileIdsByRewardId[rewardId].filter(function(userId){return!!profileById[userId]}).filter(function(userId){return friendsGamesPlayedProfileIds.indexOf(userId)!==-1}).filter(function(userId){return!!rewards[rewardId+"__"+userId]&&rewards[rewardId+"__"+userId].purchaseQuantity>0}).map(function(userId){return{avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,userName:profileById[userId].nameOnPlatform,userId:userId}}),"userId"):[]}),UserRewardsQueries.getHasFriendsOwningReward=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getHasFriendsOwningReward",UserRewardsQueries.getFriendsOwningReward,function(friendsOwningReward){return friendsOwningReward.length>0}),UserRewardsQueries.getNbFriendsOwningReward=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbFriendsOwningReward",UserRewardsQueries.getFriendsOwningReward,function(friendsOwningReward){return friendsOwningReward.length})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(196)),__WEBPACK_IMPORTED_MODULE_3_app_stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_4_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_api_ConnectionsApi__=__webpack_require__(881),__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return ConnectionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConnectionsService=function(_AbstractActions){function ConnectionsService(connectionsApi){_classCallCheck(this,ConnectionsService);var _this=_possibleConstructorReturn(this,(ConnectionsService.__proto__||Object.getPrototypeOf(ConnectionsService)).call(this));return _this.connectionsApi=connectionsApi,_this}return _inherits(ConnectionsService,_AbstractActions),_createClass(ConnectionsService,[{key:"loadMyFriendsConnections",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.loadConnections(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.n)(this.getState()));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFriendConnections",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.loadConnections([pid]);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"loadConnections",value:function(friendsIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var platforms,profiles,profileIds,byId,ids,byProfileId,bySpaceId,expiration,isExpired,getProfileIds,friendIdNotFound;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(platforms=[__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.UPLAY,__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.PSN,__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE],profiles=__WEBPACK_IMPORTED_MODULE_3_app_stores_UserProfilesStore__.a.getById(this.getState()),profileIds=friendsIds.filter(function(item){return profiles[item]&&platforms.includes(profiles[item].platformType)}),byId={},ids=[],byProfileId={},bySpaceId={},expiration=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getExpiration(this.getState())[profileIds.join(",")]?__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getExpiration(this.getState())[profileIds.join(",")]:0,isExpired=__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_10__modules_configuration_entities_CachingTime__.a.CONNECTIONS_CACHE_TIME),getProfileIds=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getProfileIdsForCall(this.getState()),friendIdNotFound=!1,getProfileIds.length>0&&(friendIdNotFound=!profileIds.length||!profileIds.map(function(profileId){return getProfileIds.indexOf(profileId)!==-1}).reduce(function(previousValue,currentValue){return previousValue&&currentValue})),!isExpired&&!friendIdNotFound){_context3.next=17;break}return _context3.next=15,this.connectionsCall(profileIds,byId,byProfileId,bySpaceId,ids);case 15:_context3.next=22;break;case 17:byId=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getById(this.getState()),byProfileId=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getByProfileId(this.getState()),bySpaceId=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getBySpaceId(this.getState()),ids=__WEBPACK_IMPORTED_MODULE_5__stores_ConnectionsStore__.a.getIds(this.getState()),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,{}));case 22:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"connectionsCall",value:function(profileIds,byId,byProfileId,bySpaceId,ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var connections;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.connectionsApi.getConnectionsByProfileIds(profileIds);case 3:connections=_context4.sent,connections.forEach(function(conn){byId[conn.connectionId]=conn,byProfileId[conn.profileId]=conn.connectionId,conn.spaceIds.forEach(function(spaceId){bySpaceId[spaceId]||(bySpaceId[spaceId]=[]),bySpaceId[spaceId].push(conn.connectionId)}),ids.push(conn.connectionId)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,_defineProperty({},profileIds.join(","),__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context4.next=11;break;case 8:_context4.prev=8,_context4.t0=_context4["catch"](0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedConnectionsAction__.a({},{},{},[],[],_defineProperty({},profileIds.join(","),0)));case 11:case"end":return _context4.stop()}},_callee4,this,[[0,8]])}))}}]),ConnectionsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ConnectionsService=__decorate([__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_api_ConnectionsApi__.a])],ConnectionsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(274)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__=__webpack_require__(308),__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_api_RewardsApi__=__webpack_require__(891),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_api_EconomyApi__=__webpack_require__(882),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_10__actions_LoadedFriendsRewardsAction__=__webpack_require__(533),__WEBPACK_IMPORTED_MODULE_11__actions_PurchaseRewardAction__=__webpack_require__(550),__WEBPACK_IMPORTED_MODULE_12__queries_UserRewardsQueries__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_13__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_14__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_16__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_17__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return RewardsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){
return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RewardsService=function(_AbstractActions){function RewardsService(rewardsApi,economyApi){_classCallCheck(this,RewardsService);var _this=_possibleConstructorReturn(this,(RewardsService.__proto__||Object.getPrototypeOf(RewardsService)).call(this));return _this.rewardsApi=rewardsApi,_this.economyApi=economyApi,_this}return _inherits(RewardsService,_AbstractActions),_createClass(RewardsService,[{key:"loadUserRewards",value:function(spaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,mappedRewards,byId,bySpaceId,rewardsIds,playerUnits,expiration,applicationsIds,foundAppId,profilePlatformCode,profilePlatformDisplayName,promises,rewardsPromises,rewards,profileRewards;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userId=__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),mappedRewards=[],byId={},bySpaceId=_defineProperty({},spaceId,[]),rewardsIds=[],playerUnits=null,expiration=__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[userId]&&__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[userId][spaceId]?__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[userId][spaceId]:0,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_17__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=10;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedRewardsAction__.a(mappedRewards,byId,bySpaceId,rewardsIds,playerUnits,{})),_context.abrupt("return");case 10:return _context.prev=10,applicationsIds=__WEBPACK_IMPORTED_MODULE_13__stores_UbisoftGamesStore__.a.getByPlatformApplicationId(this.getState()),foundAppId=null,profilePlatformCode=null,profilePlatformDisplayName=null,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(applicationsIds,function(spaceIds,appId){return foundAppId=appId,spaceIds.siblingSpaceId===spaceId}),promises=[this.rewardsApi.getRewardsBySpaceId(spaceId),this.economyApi.getProfileUnitsByProfileId(userId),this.rewardsApi.getProfileRewardsByProfileIdAndSpaceId(userId,spaceId)],foundAppId&&(profilePlatformCode=__WEBPACK_IMPORTED_MODULE_14__queries_OtherGamesCarouselQueries__.a.getProfilePlatformCode(__WEBPACK_IMPORTED_MODULE_13__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId(this.getState())[foundAppId].type,__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_UserProfile__.a.UPLAY),profilePlatformDisplayName=__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_UserProfile__.b[profilePlatformCode]),_context.next=20,Promise.all(promises);case 20:rewardsPromises=_context.sent,rewards=rewardsPromises[0],playerUnits=rewardsPromises[1]?_defineProperty({},rewardsPromises[1].profileId,rewardsPromises[1].units):null,profileRewards=rewardsPromises[2]||[],mappedRewards=rewards.filter(function(reward){return reward.spaceId===spaceId}).map(function(reward){rewardsIds.push(reward.rewardId);var foundProfileReward=profileRewards.find(function(profileReward){return profileReward.profileId===userId&&profileReward.spaceId===spaceId&&profileReward.rewardId===reward.rewardId});if(foundProfileReward){var _userReward=__assign({},reward,foundProfileReward,{profilePlatformCode:profilePlatformCode,profilePlatformDisplayName:profilePlatformDisplayName});return byId[reward.rewardId]=__assign({},_userReward,{profilePlatformCode:profilePlatformCode,profilePlatformDisplayName:profilePlatformDisplayName}),bySpaceId[reward.spaceId]?bySpaceId[reward.spaceId].push(reward.rewardId):bySpaceId[reward.spaceId]=[reward.rewardId],_userReward}var userReward=__assign({},reward,{profileId:userId,status:__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__.a.LOCKED,purchaseQuantity:0,purchasedAt:"",profilePlatformCode:profilePlatformCode,profilePlatformDisplayName:profilePlatformDisplayName});return byId[reward.rewardId]=userReward,bySpaceId[reward.spaceId]?bySpaceId[reward.spaceId].push(reward.rewardId):bySpaceId[reward.spaceId]=[reward.rewardId],userReward}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedRewardsAction__.a(mappedRewards,byId,bySpaceId,rewardsIds,playerUnits,_defineProperty({},userId,_defineProperty({},spaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())))),_context.next=32;break;case 28:_context.prev=28,_context.t0=_context["catch"](10),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedRewardsAction__.a(mappedRewards,byId,bySpaceId,rewardsIds,playerUnits,_defineProperty({},userId,_defineProperty({},spaceId,0)))),console.error(_context.t0);case 32:case"end":return _context.stop()}},_callee,this,[[10,28]])}))}},{key:"loadFriendsRewards",value:function(profileIds,spaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var profilesRewardsById,byProfileId,profileIdsByRewardId,newExpiration,rewards,rewardsPromises,spaceIds,expirationKey,expiration,_this2=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(profilesRewardsById={},byProfileId={},profileIdsByRewardId={},newExpiration={},rewards=[],rewardsPromises=[],spaceIds=__WEBPACK_IMPORTED_MODULE_14__queries_OtherGamesCarouselQueries__.a.getGameAllSpaceIdsByParentSpaceId(this.getState(),{spaceId:spaceId}),expirationKey=profileIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[expirationKey]&&__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[expirationKey][spaceId]?__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState())[expirationKey][spaceId]:0,this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedFriendsRewardsAction__.a(profilesRewardsById,profileIdsByRewardId,byProfileId,{},(!1))),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_17__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context2.next=13;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedFriendsRewardsAction__.a(__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getProfilesRewardsbyId(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getProfileIdsByRewardId(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getExpiration(this.getState()),(!0))),_context2.abrupt("return");case 13:return _context2.prev=13,newExpiration[expirationKey]=_defineProperty({},spaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()),_context2.next=17,Promise.all(spaceIds.map(function(spaceId){return _this2.rewardsApi.getProfileRewardsByProfilesIdsAndSpaceId(profileIds,spaceId)}));case 17:rewardsPromises=_context2.sent,rewards=rewardsPromises.reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}),rewards.forEach(function(reward){profilesRewardsById[reward.rewardId+"__"+reward.profileId]=reward,byProfileId[reward.profileId]?byProfileId[reward.profileId].push(reward.rewardId):byProfileId[reward.profileId]=[reward.rewardId],profileIdsByRewardId[reward.rewardId]?profileIdsByRewardId[reward.rewardId].push(reward.profileId):profileIdsByRewardId[reward.rewardId]=[reward.profileId]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedFriendsRewardsAction__.a(profilesRewardsById,profileIdsByRewardId,byProfileId,newExpiration,(!0))),_context2.next=26;break;case 23:_context2.prev=23,_context2.t0=_context2["catch"](13),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedFriendsRewardsAction__.a(profilesRewardsById,profileIdsByRewardId,byProfileId,_defineProperty({},expirationKey,_defineProperty({},spaceId,0)),(!0)));case 26:case"end":return _context2.stop()}},_callee2,this,[[13,23]])}))}},{key:"purchaseReward",value:function(rewardId,spaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var profileId,reward,rewards,units;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_PurchaseRewardAction__.a(rewardId,(!0),(!1),(!1))),_context3.prev=1,_context3.next=4,this.rewardsApi.purchaseReward(rewardId,spaceId);case 4:return profileId=__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),reward=__WEBPACK_IMPORTED_MODULE_12__queries_UserRewardsQueries__.a.getSingleRewardByRewardId(this.getState(),{rewardId:rewardId}),rewards=__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getRewards(this.getState()).filter(function(reward){return reward.rewardId==rewardId}),units=__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getUnitsByProfileId(this.getState()),reward=__assign({},reward,{profileId:profileId,status:1===reward.purchaseLimit?__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__.a.LIMIT_REACHED:__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__.a.PURCHASED,purchaseQuantity:reward.purchaseQuantity+1,purchasedAt:__WEBPACK_IMPORTED_MODULE_0_moment___default()().format()}),rewards.push(reward),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedRewardsAction__.a(rewards,__assign({},__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getById(this.getState()),_defineProperty({},rewardId,reward)),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_RewardsStore__.a.getIds(this.getState()),__assign({},units,_defineProperty({},profileId,units[profileId]-reward.units)),_defineProperty({},profileId,_defineProperty({},spaceId,0)))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_PurchaseRewardAction__.a(rewardId,(!1),(!0),(!1))),_context3.next=14,new Promise(function(resolve){return setTimeout(function(){return resolve()},2e3)});case 14:this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_PurchaseRewardAction__.a(rewardId,(!1),(!1),(!1))),_context3.next=21;break;case 17:_context3.prev=17,_context3.t0=_context3["catch"](1),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_PurchaseRewardAction__.a(rewardId,(!1),(!1),(!0))),console.error(_context3.t0);case 21:case"end":return _context3.stop()}},_callee3,this,[[1,17]])}))}}]),RewardsService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);RewardsService=__decorate([__WEBPACK_IMPORTED_MODULE_16__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_api_RewardsApi__.a,__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_api_EconomyApi__.a])],RewardsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedPsnFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(536)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadingPsnAction__=__webpack_require__(544),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__actions_PsnExpirationAction__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_7__actions_ReloadAction__=__webpack_require__(110);__webpack_require__.d(exports,"a",function(){return PsnAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PsnAccountsStore=function(_ReducerStore){function PsnAccountsStore(){_classCallCheck(this,PsnAccountsStore);var _this=_possibleConstructorReturn(this,(PsnAccountsStore.__proto__||Object.getPrototypeOf(PsnAccountsStore)).call(this));return _this.bind(null,function(){return{psnFriends:[],isLoading:!0,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedPsnFriendsAction__.a.name,_this.handleLoadedPsnFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadingPsnAction__.a.name,_this.handleLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_PsnExpirationAction__.a.name,_this.handlePsnExpirationAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(PsnAccountsStore,_ReducerStore),_createClass(PsnAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{psnFriends:[],isLoading:!0,expiration:0}}},{key:"handleLoadedPsnFriendsAction",value:function(state,action){return __assign({},state,{psnFriends:state.psnFriends.concat([action.psnFriends])})}},{key:"handleLoadingPsnAction",value:function(state,action){return __assign({},state,{isLoading:action.loading})}},{key:"handlePsnExpirationAction",value:function(state,action){return __assign({},state,{expiration:null!==action.expiration?action.expiration:state.expiration})}}]),PsnAccountsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);PsnAccountsStore.getState=function(state){return state.PsnAccountsStore},PsnAccountsStore.getPsnFriends=function(state){return state.PsnAccountsStore.psnFriends},PsnAccountsStore.getExpiration=function(state){return state.PsnAccountsStore.expiration},PsnAccountsStore.getIsLoading=function(state){return state.PsnAccountsStore.isLoading},PsnAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],PsnAccountsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedRecentlyMetAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(273)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RecentlyMetStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RecentlyMetStore=function(_ReducerStore){function RecentlyMetStore(){_classCallCheck(this,RecentlyMetStore);var _this=_possibleConstructorReturn(this,(RecentlyMetStore.__proto__||Object.getPrototypeOf(RecentlyMetStore)).call(this));return _this.bind(null,function(){return{entities:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedRecentlyMetAction__.a.name,_this.handleLoadedRecentlyMetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(RecentlyMetStore,_ReducerStore),_createClass(RecentlyMetStore,[{key:"handleLoggedOutAction",value:function(state,action){return{entities:[],expiration:{}}}},{key:"handleLoadedRecentlyMetAction",value:function(state,action){return __assign({},state,{entities:state.entities.filter(function(item){return!action.entities.find(function(entity){return entity.profileId===item.profileId})}).concat(action.entities),expiration:__assign({},state.expiration,action.expiration)})}}]),RecentlyMetStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);RecentlyMetStore.getState=function(state){return state.RecentlyMetStore},RecentlyMetStore.getEntities=function(state){return state.RecentlyMetStore.entities},RecentlyMetStore.getExpiration=function(state){return state.RecentlyMetStore.expiration},RecentlyMetStore.loaded=function(state){return state.LoadersStore.RecentlyMet},RecentlyMetStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],RecentlyMetStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(13)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameRewardsAction__=__webpack_require__(567),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeSelectedRewardAction__=__webpack_require__(516),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__=__webpack_require__(570),__WEBPACK_IMPORTED_MODULE_6__actions_PurchaseRewardAction__=__webpack_require__(550),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RewardsViewStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RewardsViewStore=function(_ReducerStore){function RewardsViewStore(){_classCallCheck(this,RewardsViewStore);var _this=_possibleConstructorReturn(this,(RewardsViewStore.__proto__||Object.getPrototypeOf(RewardsViewStore)).call(this));return _this.bind(null,function(){return{isShownGameRewards:!1,rewardId:null,spaceId:null,offset:0,showSingleReward:!1,purchase:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameRewardsAction__.a.name,_this.handleToggleShowGameRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeSelectedRewardAction__.a.name,_this.handleChangeSelectedRewardAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__.a.name,_this.handleToggleShowSingleRewardAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_PurchaseRewardAction__.a.name,_this.handlePurchaseRewardAction),_this}return _inherits(RewardsViewStore,_ReducerStore),_createClass(RewardsViewStore,[{key:"handleLoggedOutAction",value:function(state,action){return{isShownGameRewards:!1,rewardId:null,spaceId:null,offset:0,showSingleReward:!1,purchase:{}}}},{key:"handleToggleShowGameRewardsAction",value:function(state,action){return __assign({},state,{isShownGameRewards:action.show})}},{key:"handleChangeSelectedRewardAction",value:function(state,action){return __assign({},state,{rewardId:action.rewardId,spaceId:action.spaceId,offset:action.offset})}},{key:"handleToggleShowSingleRewardAction",value:function(state,action){return __assign({},state,{showSingleReward:action.show})}},{key:"handlePurchaseRewardAction",value:function(state,action){return __assign({},state,{purchase:__assign({},state.purchase,_defineProperty({},action.rewardId,{showApiLoader:action.showApiLoader,showMessageAfterPurchase:action.showMessageAfterPurchase,hasApiError:action.hasApiError}))})}}]),RewardsViewStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);RewardsViewStore.getState=function(state){return state.RewardsViewStore},RewardsViewStore.getIsShownGameRewards=function(state){return state.RewardsViewStore.isShownGameRewards},RewardsViewStore.getRewardId=function(state){return state.RewardsViewStore.rewardId},RewardsViewStore.getSpaceId=function(state){return state.RewardsViewStore.spaceId},RewardsViewStore.getOffset=function(state){return state.RewardsViewStore.offset},RewardsViewStore.getShowSingleReward=function(state){return state.RewardsViewStore.showSingleReward},RewardsViewStore.getPurchase=function(state){return state.RewardsViewStore.purchase},RewardsViewStore=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[])],RewardsViewStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedXboxFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(539)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadingXboxAction__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__actions_XboxExpirationAction__=__webpack_require__(298),__WEBPACK_IMPORTED_MODULE_7__actions_ReloadAction__=__webpack_require__(110);__webpack_require__.d(exports,"a",function(){return XboxAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},XboxAccountsStore=function(_ReducerStore){function XboxAccountsStore(){_classCallCheck(this,XboxAccountsStore);var _this=_possibleConstructorReturn(this,(XboxAccountsStore.__proto__||Object.getPrototypeOf(XboxAccountsStore)).call(this));return _this.bind(null,function(){return{xboxFriends:[],isLoading:!0,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedXboxFriendsAction__.a.name,_this.handleLoadedXboxFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadingXboxAction__.a.name,_this.handleLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_XboxExpirationAction__.a.name,_this.handleXboxExpirationAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(XboxAccountsStore,_ReducerStore),_createClass(XboxAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{xboxFriends:[],isLoading:!0,expiration:0}}},{key:"handleLoadedXboxFriendsAction",value:function(state,action){return __assign({},state,{xboxFriends:state.xboxFriends.concat([action.xboxFriends])})}},{key:"handleLoadingXboxAction",value:function(state,action){return __assign({},state,{isLoading:action.loading})}},{key:"handleXboxExpirationAction",value:function(state,action){return __assign({},state,{expiration:null!==action.expiration?action.expiration:state.expiration})}}]),XboxAccountsStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);XboxAccountsStore.getState=function(state){return state.XboxAccountsStore},XboxAccountsStore.getXboxFriends=function(state){return state.XboxAccountsStore.xboxFriends},XboxAccountsStore.getExpiration=function(state){return state.XboxAccountsStore.expiration},XboxAccountsStore.getIsLoading=function(state){return state.XboxAccountsStore.isLoading},XboxAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[])],XboxAccountsStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarSelectedAction});var ChangeAvatarSelectedAction=function ChangeAvatarSelectedAction(avatarId){_classCallCheck(this,ChangeAvatarSelectedAction),this.avatarId=avatarId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeCarouselLPGAction});var ChangeCarouselLPGAction=function ChangeCarouselLPGAction(currentLastPlayedGameOffset,currentLastPlayedGameId,currentLastPlayedGameSpaceId,currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode){_classCallCheck(this,ChangeCarouselLPGAction),this.currentLastPlayedGameOffset=currentLastPlayedGameOffset,this.currentLastPlayedGameId=currentLastPlayedGameId,this.currentLastPlayedGameSpaceId=currentLastPlayedGameSpaceId,this.currentLastPlayedGameAppId=currentLastPlayedGameAppId,this.currentLastPlayedGamePlatformCode=currentLastPlayedGamePlatformCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendDeclineStateAction});var ChangeFriendDeclineStateAction=function ChangeFriendDeclineStateAction(userId){_classCallCheck(this,ChangeFriendDeclineStateAction),this.userId=userId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendGamesCarouselLPGAction});var ChangeFriendGamesCarouselLPGAction=function ChangeFriendGamesCarouselLPGAction(currentLastPlayedGameOffset,currentLastPlayedGameId,currentLastPlayedGameSpaceId,currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode){_classCallCheck(this,ChangeFriendGamesCarouselLPGAction),this.currentLastPlayedGameOffset=currentLastPlayedGameOffset,this.currentLastPlayedGameId=currentLastPlayedGameId,this.currentLastPlayedGameSpaceId=currentLastPlayedGameSpaceId,this.currentLastPlayedGameAppId=currentLastPlayedGameAppId,this.currentLastPlayedGamePlatformCode=currentLastPlayedGamePlatformCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendPlatformAction});var ChangeFriendPlatformAction=function ChangeFriendPlatformAction(gameId,spaceId,appId){_classCallCheck(this,ChangeFriendPlatformAction),this.gameId=gameId,this.spaceId=spaceId,this.appId=appId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStateAction});var ChangeFriendStateAction=function ChangeFriendStateAction(userId,isStillLoading,isRightAfterLoad,isAccepted,isDeclined,isCanceled){_classCallCheck(this,ChangeFriendStateAction),this.userId=userId,this.isStillLoading=isStillLoading,this.isRightAfterLoad=isRightAfterLoad,this.isAccepted=isAccepted,this.isDeclined=isDeclined,this.isCanceled=isCanceled}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameAction});var ChangeUserNameAction=function ChangeUserNameAction(showChangeUserName,userName,isValidating){_classCallCheck(this,ChangeUserNameAction),this.showChangeUserName=showChangeUserName,this.userName=userName,this.isValidating=isValidating}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameShowRulesAction});var ChangeUserNameShowRulesAction=function ChangeUserNameShowRulesAction(showRules){_classCallCheck(this,ChangeUserNameShowRulesAction),this.showRules=showRules}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeselectArabLanguageAction});var DeselectArabLanguageAction=function DeselectArabLanguageAction(){_classCallCheck(this,DeselectArabLanguageAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAddFriendsStatAction});var LoadedAddFriendsStatAction=function LoadedAddFriendsStatAction(friendsSate){_classCallCheck(this,LoadedAddFriendsStatAction),this.friendsSate=friendsSate}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedApplicationsAction});var LoadedApplicationsAction=function LoadedApplicationsAction(bySpaceId,byAppId,expiration){_classCallCheck(this,LoadedApplicationsAction),this.bySpaceId=bySpaceId,this.byAppId=byAppId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGalleryAvatarsAction});var LoadedGalleryAvatarsAction=function LoadedGalleryAvatarsAction(byInstallmentSpaceId,configsByCountryCode,expirations){_classCallCheck(this,LoadedGalleryAvatarsAction),this.byInstallmentSpaceId=byInstallmentSpaceId,this.configsByCountryCode=configsByCountryCode,this.expirations=expirations}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesNewsAction});var LoadedGamesNewsAction=function LoadedGamesNewsAction(news,byId,bySpaceId,expiration){_classCallCheck(this,LoadedGamesNewsAction),this.news=news,this.byId=byId,this.bySpaceId=bySpaceId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesPlayedAction});var LoadedGamesPlayedAction=function LoadedGamesPlayedAction(bySpaceId,applicationsByApplicationId,byApplicationId,applicationsByUserId,spaceIdsByUserId,spaceIds,applicationIds,lastSessionDates,expiration){_classCallCheck(this,LoadedGamesPlayedAction),this.bySpaceId=bySpaceId,this.applicationsByApplicationId=applicationsByApplicationId,this.byApplicationId=byApplicationId,this.applicationsByUserId=applicationsByUserId,this.spaceIdsByUserId=spaceIdsByUserId,this.spaceIds=spaceIds,this.applicationIds=applicationIds,this.lastSessionDates=lastSessionDates,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPopulationsAction});var LoadedPopulationsAction=function LoadedPopulationsAction(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,expiration){_classCallCheck(this,LoadedPopulationsAction),this.populations=populations,this.byUniqueName=byUniqueName,this.byType=byType,this.byBetaName=byBetaName,this.byPhaseName=byPhaseName,this.byPlatformCode=byPlatformCode,this.bySpaceId=bySpaceId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedProfileEntitiesAction});var LoadedProfileEntitiesAction=function LoadedProfileEntitiesAction(entities,byEntityId,bySpaceId){_classCallCheck(this,LoadedProfileEntitiesAction),this.entities=entities,this.byEntityId=byEntityId,this.bySpaceId=bySpaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedRecentlyMetAction});var LoadedRecentlyMetAction=function LoadedRecentlyMetAction(entities,expiration){_classCallCheck(this,LoadedRecentlyMetAction),this.entities=entities,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedRewardsAction});var LoadedRewardsAction=function LoadedRewardsAction(rewards,byId,bySpaceId,rewardsIds,units,expiration){_classCallCheck(this,LoadedRewardsAction),this.rewards=rewards,this.byId=byId,this.bySpaceId=bySpaceId,this.rewardsIds=rewardsIds,this.units=units,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedUbisoftGamesAction});var LoadedUbisoftGamesAction=function LoadedUbisoftGamesAction(bySpaceId,platformsByApplicationId,byPlatformApplicationId,platformsApplicationsIdsByParentSpaceId,byInstallmentSpaceId,bySiblingSpaceId,siblingsSpaceIdsByParentSpaceId,spaceIds,expiration){_classCallCheck(this,LoadedUbisoftGamesAction),this.bySpaceId=bySpaceId,this.platformsByApplicationId=platformsByApplicationId,this.byPlatformApplicationId=byPlatformApplicationId,this.platformsApplicationsIdsByParentSpaceId=platformsApplicationsIdsByParentSpaceId,this.byInstallmentSpaceId=byInstallmentSpaceId,this.bySiblingSpaceId=bySiblingSpaceId,this.siblingsSpaceIdsByParentSpaceId=siblingsSpaceIdsByParentSpaceId,this.spaceIds=spaceIds,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedUserAction});var LoadedUserAction=function LoadedUserAction(byId,expiration){_classCallCheck(this,LoadedUserAction),this.byId=byId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingAddFriendsAction});var LoadingAddFriendsAction=function LoadingAddFriendsAction(isLoading,userName){_classCallCheck(this,LoadingAddFriendsAction),this.isLoading=isLoading,this.userName=userName}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGamesAction});var LoadingGamesAction=function LoadingGamesAction(loading){_classCallCheck(this,LoadingGamesAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingMetaProgressionProfileAction});var LoadingMetaProgressionProfileAction=function LoadingMetaProgressionProfileAction(loaded){_classCallCheck(this,LoadingMetaProgressionProfileAction),this.loaded=loaded}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LocalizedMessageAction});var LocalizedMessageAction=function LocalizedMessageAction(error){_classCallCheck(this,LocalizedMessageAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return PsnExpirationAction});var PsnExpirationAction=function PsnExpirationAction(expiration){_classCallCheck(this,PsnExpirationAction),this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SelectArabLanguageAction});var SelectArabLanguageAction=function SelectArabLanguageAction(){_classCallCheck(this,SelectArabLanguageAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowNotFoundFriendAction});var ShowNotFoundFriendAction=function ShowNotFoundFriendAction(show){_classCallCheck(this,ShowNotFoundFriendAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleAddFriendsTabAction});var ToggleAddFriendsTabAction=function ToggleAddFriendsTabAction(showAddFriendsTab){_classCallCheck(this,ToggleAddFriendsTabAction),this.showAddFriendsTab=showAddFriendsTab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleAvatarTabsAction});var ToggleAvatarTabsAction=function ToggleAvatarTabsAction(showChooseFromGalleryTab,showUploadAnAvatarTab){_classCallCheck(this,ToggleAvatarTabsAction),this.showChooseFromGalleryTab=showChooseFromGalleryTab,this.showUploadAnAvatarTab=showUploadAnAvatarTab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarComponentAction});var ToggleShowAvatarComponentAction=function ToggleShowAvatarComponentAction(show){_classCallCheck(this,ToggleShowAvatarComponentAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarTooltipAction});var ToggleShowAvatarTooltipAction=function ToggleShowAvatarTooltipAction(toggle){_classCallCheck(this,ToggleShowAvatarTooltipAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendProfileContentAction});var ToggleShowFriendProfileContentAction=function ToggleShowFriendProfileContentAction(show,pid,name){_classCallCheck(this,ToggleShowFriendProfileContentAction),this.show=show,this.pid=pid,this.name=name}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendsSelectorTooltipWarningAction});var ToggleShowFriendsSelectorTooltipWarningAction=function ToggleShowFriendsSelectorTooltipWarningAction(toggle){_classCallCheck(this,ToggleShowFriendsSelectorTooltipWarningAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFrindProfileStatsAction});var ToggleShowFrindProfileStatsAction=function ToggleShowFrindProfileStatsAction(show){_classCallCheck(this,ToggleShowFrindProfileStatsAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowNameHeaderOnFriendsDetails});var ToggleShowNameHeaderOnFriendsDetails=function ToggleShowNameHeaderOnFriendsDetails(toggle){_classCallCheck(this,ToggleShowNameHeaderOnFriendsDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowResizeAvatarAction});var ToggleShowResizeAvatarAction=function ToggleShowResizeAvatarAction(toggle){_classCallCheck(this,ToggleShowResizeAvatarAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowSelecteAvatarOverlayAction});var ToggleShowSelecteAvatarOverlayAction=function ToggleShowSelecteAvatarOverlayAction(toggle){_classCallCheck(this,ToggleShowSelecteAvatarOverlayAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UpdateScreenNameAction});var UpdateScreenNameAction=function UpdateScreenNameAction(userName,userId){_classCallCheck(this,UpdateScreenNameAction),this.userName=userName,this.userId=userId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UploadAvatarAction});var UploadAvatarAction=function UploadAvatarAction(loading){_classCallCheck(this,UploadAvatarAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserEmailVerificationAction});var UserEmailVerificationAction=function UserEmailVerificationAction(showUserEmailVerificationButton,isEmailVerificationSent){_classCallCheck(this,UserEmailVerificationAction),this.showUserEmailVerificationButton=showUserEmailVerificationButton,this.isEmailVerificationSent=isEmailVerificationSent}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return WritteCONNECTloginDataAction});var WritteCONNECTloginDataAction=function WritteCONNECTloginDataAction(CONNECTloginData){_classCallCheck(this,WritteCONNECTloginDataAction),this.CONNECTloginData=CONNECTloginData}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return XboxExpirationAction});var XboxExpirationAction=function XboxExpirationAction(expiration){_classCallCheck(this,XboxExpirationAction),this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function AvatarInfoDropdownView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_1__Username_views_InfoDropdownView__.a,{showDropdown:!0,warningTypeDropdown:!1,arrowIconTypeDropdown:!1,onClickToggleShowDropdown:function(){},dropdownText:null},props.hasUploadError&&props.hasFileTypeError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUploadError&&props.hasFileTypeError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"This type of file is not valid. (Only JPG and PNG allowed).")):null,props.hasUploadError&&props.hasImageSizeError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUploadError&&props.hasImageSizeError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Picture must be 500*500px minimum.")):null,props.hasUploadError&&props.hasImageError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUploadError&&props.hasImageError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Picture must be 500*500px minimum.")):null,props.hasUploadError&&props.hasServiceError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUploadError&&props.hasServiceError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"The upload process failed. Please try again.")):null,props.hasUploadError&&props.hasGalleryServiceError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUploadError&&props.hasGalleryServiceError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"An error has occurred, please try again later.")):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Username_views_InfoDropdownView__=__webpack_require__(210),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=__webpack_require__(7);exports.a=AvatarInfoDropdownView},function(module,exports,__webpack_require__){"use strict";function FormattedLastDatePlayedView(props){if(props.hasNoSessionData&&props.showGameTitle)return React.createElement("span",null,props.gameTitle);if(props.hasNoSessionData&&!props.showGameTitle)return React.createElement("noscript",null);if(!props.gameDate)return React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Installed"));var momentValue=__WEBPACK_IMPORTED_MODULE_1_moment___default()(props.gameDate);return momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(1,"minute"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Currently Playing")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(12,"hour"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{timeAgo:momentValue.fromNow()},"Played today %(timeAgo)")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(1,"day"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Played Yesterday")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().startOf("week"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Played This Week")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().startOf("week").subtract(7,"day"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())||1==__WEBPACK_IMPORTED_MODULE_1_moment___default()().diff(momentValue,"weeks")?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{day:momentValue.fromNow()},"Played a week ago")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(1,"month"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{weeks:__WEBPACK_IMPORTED_MODULE_1_moment___default()().diff(momentValue,"weeks")},"Played %(weeks) weeks ago")):momentValue.isBetween(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(1,"year"),__WEBPACK_IMPORTED_MODULE_1_moment___default()())?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{day:momentValue.fromNow()},"Played %(day)")):momentValue.isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()().subtract(1,"year"))?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{time:__WEBPACK_IMPORTED_MODULE_1_moment___default()("2000-01-01").from(__WEBPACK_IMPORTED_MODULE_1_moment___default()("2001-01-01"),!0)},"Played more than %(time)"):React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Last Game Played"))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);exports.a=FormattedLastDatePlayedView},function(module,exports,__webpack_require__){"use strict";function AddFriendEntityView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("result in-back load-element",{"in":props.pid==props.currentFriendInvitationId&&props.isStillLoading,pending:props.pid!==props.currentDeclineUserId})},React.createElement(__WEBPACK_IMPORTED_MODULE_8__Overlay_views_LoaderView__.a,{loaded:props.pid!==props.currentFriendInvitationId||!props.isStillLoading}),props.pid!==props.currentDeclineUserId?[React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("player pending-received-invite",{smaller:props.friendState==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE,full:props.friendState==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_Friend__.a.FRIENDS}),key:"0"},React.createElement("div",{className:"username"},React.createElement("div",{className:"row_avatar",onClick:props.onClickFriend.bind(null,props.userName)},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Avatar_views_AvatarView__.a,{avatarUrl:props.userAvatarUrl})),React.createElement("div",{className:"username-info"},React.createElement("div",{className:"row_username"},React.createElement("div",{className:"name",onClick:props.onClickFriend.bind(null,props.userName)},props.userName)),props.pid===props.currentFriendInvitationId&&props.isRightAfterLoad?null:[props.userLevel?React.createElement("div",{className:"level",key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{level:props.userLevel},"Level %(level)")):null,props.currentGameTitle?React.createElement("div",{className:"time-stamp",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{gameTitle:props.currentGameTitle},"Met in %(gameTitle)")):null,props.invitationRequestDate?React.createElement("div",{className:"time-stamp",key:"2"},__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(props.invitationRequestDate).fromNow()):null,props.hasPsnProfile||props.hasXboxProfile?React.createElement(__WEBPACK_IMPORTED_MODULE_6__OtherUserNamesRowView__.a,{
hasPsnProfile:props.hasPsnProfile,psnName:props.psnName,hasXboxProfile:props.hasXboxProfile,xboxName:props.xboxName,key:"3"}):null],React.createElement(__WEBPACK_IMPORTED_MODULE_9__FriendActionStateView__.a,{friendState:props.friendState,pid:props.pid,currentFriendInvitationId:props.currentFriendInvitationId,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState})))),props.pid===props.currentFriendInvitationId&&props.isRightAfterLoad?null:React.createElement(__WEBPACK_IMPORTED_MODULE_4__NotificationsPanel_views_UserActionsView__.a,{friendState:props.friendState,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickInviteRequest:props.onClickInviteRequest,userId:props.pid,userName:props.userName,key:"1"})]:null,React.createElement(__WEBPACK_IMPORTED_MODULE_5__DeclineRequestView__.a,{userId:props.pid,showDeclineState:props.pid==props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,friendState:props.friendState}))}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_3__Avatar_views_AvatarView__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_4__NotificationsPanel_views_UserActionsView__=__webpack_require__(594),__WEBPACK_IMPORTED_MODULE_5__DeclineRequestView__=__webpack_require__(588),__WEBPACK_IMPORTED_MODULE_6__OtherUserNamesRowView__=__webpack_require__(831),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_8__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_9__FriendActionStateView__=__webpack_require__(589);exports.a=AddFriendEntityView},function(module,exports,__webpack_require__){"use strict";function LastPlayedGameStatsView(props){return React.createElement("div",{className:"user-game-stats-view"},React.createElement("ul",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("currently-playing_content_stats in-back load-element",{"in":!props.isLoadedGameStats})},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:props.isLoadedGameStats}),props.showTitle?React.createElement("div",{className:"selected-game-stats-title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Stats")):null,props.hasLastPlayedGameStats&&props.lastPlayedGameStats.length?props.lastPlayedGameStats.map(function(stat){return React.createElement("li",{key:stat.id,className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("currently-playing_content_stats_item",stat.format,stat.unit,stat.semantic,{"play-level":stat.format===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.a.PERCENTAGE||stat.unit===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.b.PERCENTAGE,time:stat.format!==__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.a.PERCENTAGE&&stat.unit!==__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.b.PERCENTAGE})},stat.format===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.a.PERCENTAGE||stat.unit===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__.b.PERCENTAGE?[React.createElement("div",{className:"stats-level-container",key:"0"},React.createElement("span",{className:"stats-level-label"},stat.name)),React.createElement("div",{className:"stats-level-progress-bar-container",key:"1"},React.createElement("div",{className:"stats-level-range-container"},React.createElement("span",{className:"stats-level-number"},stat.formattedValue.map(function(friendFormatted){return React.createElement("span",{key:friendFormatted.value},friendFormatted.value,friendFormatted.isUnit?"":null)}))),React.createElement("div",{className:"stats-level-progress-bar"},stat.formattedValue.map(function(friendFormatted){return friendFormatted.isUnit?React.createElement("noscript",{key:friendFormatted.value}):React.createElement("span",{key:friendFormatted.value,style:{width:friendFormatted.value+"%"}})})))]:[React.createElement("span",{className:"stats-time-label",key:"0"},stat.name),React.createElement("span",{className:"stats-level-ammount",key:"1"},stat.formattedValue.map(function(friendFormatted){return React.createElement("span",{key:friendFormatted.value},friendFormatted.value,friendFormatted.isUnit?"":null)}))])}):null,props.hasLastPlayedGameStats&&props.lastPlayedGameStats.length?null:React.createElement("li",{className:"noStats"},React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"There are no stats available for this game."),""),props.isFriendGame?React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"But we all know there's no way your friend could be better than you. Right?")):null,props.isFriendGame?null:React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"That's OK, we know you're the best!")))),!props.hasLastPlayedGameStats&&props.isLoadedGameStats?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("noStats-container")},React.createElement("div",{className:"noStats-illustration"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__NoStatsSvgView__.a,null))):null,props.showLink&&props.hasLastPlayedGameStats&&props.lastPlayedGameStats.length?React.createElement("div",{className:"stats-button-container"},React.createElement("button",{className:"btn primary",onClick:props.onClickGameStats.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"See more stats"))):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__NoStatsSvgView__=__webpack_require__(853),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_GameStatsCard__=__webpack_require__(307),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=LastPlayedGameStatsView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1_classnames__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(4)),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);__webpack_require__.d(exports,"a",function(){return TooltipView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TooltipView=function(_PureComponent){function TooltipView(){_classCallCheck(this,TooltipView);var _this=_possibleConstructorReturn(this,(TooltipView.__proto__||Object.getPrototypeOf(TooltipView)).apply(this,arguments));return _this.state={showTooltip:_this.props.showTooltip},_this}return _inherits(TooltipView,_PureComponent),_createClass(TooltipView,[{key:"render",value:function(){return this.props.noTooltip?this.props.children:React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("tooltip-parent",this.props.className)},this.props.hasTrigger?React.createElement("div",{onClick:this.onClickToggleShowTooltip.bind(this),style:{cursor:"pointer"}},this.props.children):null,this.props.hasTrigger?null:this.props.children,React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("tooltip",this.props.className,{show:this.state.showTooltip})},React.createElement("div",{className:"tooltip-container"},React.createElement("div",{className:"tooltip-close"},React.createElement("i",{className:"close-icon",onClick:this.onClickCloseTooltip.bind(this)})),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("tooltip-inner",{"is-arabic":"ar-AE"===this.props.locale})},this.props.content))))}},{key:"componentDidMount",value:function(){this.props.changeTooltipState&&this.props.changeTooltipState(this.setState.bind(this))}},{key:"onClickCloseTooltip",value:function(event){this.onClickToggleShowTooltip(event),this.props.onClickCloseTooltip&&this.props.onClickCloseTooltip.bind(null,this.state.showTooltip)}},{key:"onClickToggleShowTooltip",value:function(event){event.preventDefault(),this.setState({showTooltip:!this.state.showTooltip})}}]),TooltipView}(__WEBPACK_IMPORTED_MODULE_0_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(114);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__);__webpack_require__.d(exports,"a",function(){return Channel});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Channel=function(){function Channel(origin){var target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,debug=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,Channel),this.origin=origin,this.target=target,this.debug=debug}return _createClass(Channel,[{key:"subscribe",value:function(topic,callback){var _this=this;return this.debug&&console.log('Subscribing to "'+topic+'" ...'),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.addCrossDomainEventListener)(topic,function(payload){return _this.debug&&console.log('Received message for topic "'+topic+'" and payload: ',payload),callback(payload)})}},{key:"unsuscribe",value:function(listener){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.removeCrossDomainEventListener)(listener)}},{key:"send",value:function(topic,payload){return this.debug&&console.log('Sending message for "'+topic+'" with payload: ',payload),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.postMessage)(topic,payload,this.origin,this.target)}},{key:"setDebug",value:function(debug){this.debug=debug}}]),Channel}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(605)),__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationStore=function(_ReducerStore){function IntegratorConfigurationStore(){_classCallCheck(this,IntegratorConfigurationStore);var _this=_possibleConstructorReturn(this,(IntegratorConfigurationStore.__proto__||Object.getPrototypeOf(IntegratorConfigurationStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a.name,_this.loadedConfiguration),_this}return _inherits(IntegratorConfigurationStore,_ReducerStore),_createClass(IntegratorConfigurationStore,[{key:"loadedConfiguration",value:function(state,payload){return __assign({},state,payload.configuration)}}]),IntegratorConfigurationStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);IntegratorConfigurationStore=__decorate([__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__.a,__metadata("design:paramtypes",[])],IntegratorConfigurationStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_numbro__=__webpack_require__(1309),__WEBPACK_IMPORTED_MODULE_1_numbro___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_numbro__),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__queries_LocaleQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedLocaleAction__=__webpack_require__(607),__WEBPACK_IMPORTED_MODULE_5__actions_ChangedLocaleAction__=__webpack_require__(606),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__entities_LocalStrings__=__webpack_require__(165);__webpack_require__.d(exports,"a",function(){return TranslatorService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},TranslatorService=function(){function TranslatorService(store,adapter){_classCallCheck(this,TranslatorService),this.store=store,this.adapter=adapter,this.debug=!1}return _createClass(TranslatorService,[{key:"enableDebug",value:function(){this.debug=!0,console.log("[Stejar-Translate][TranslatorService] - Debug enabled")}},{key:"disableDebug",value:function(){this.debug=!1}},{key:"isLocaleLoaded",value:function(localeCode){return __WEBPACK_IMPORTED_MODULE_3__queries_LocaleQueries__.a.hasLocaleBeenLoaded(this.store.getState(),{locale:localeCode})}},{key:"registerNumbersLocale",value:function(localeCode,config){return __WEBPACK_IMPORTED_MODULE_1_numbro___default.a.culture(localeCode,config),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Registered Numbers Locale: "+localeCode),this}},{key:"registerDateLocale",value:function(localeCode,config){return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.locale(localeCode,config),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Registered Date Locale: "+localeCode),this}},{key:"changeLocale",value:function(localeCode){if(__WEBPACK_IMPORTED_MODULE_7__entities_LocalStrings__.a[localeCode]||(localeCode="en-GB"),!this.isLocaleLoaded(localeCode))throw new Error('Locale "'+localeCode+'" has not been loaded');this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangedLocaleAction__.a(localeCode));var momentLocale=localeCode.split("-")[0];__WEBPACK_IMPORTED_MODULE_0_moment___default.a.locale(momentLocale),__WEBPACK_IMPORTED_MODULE_1_numbro___default.a.culture(__WEBPACK_IMPORTED_MODULE_7__entities_LocalStrings__.a[localeCode]),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Changed locale to "+localeCode)}},{key:"loadLocale",value:function(localeCode){var _this=this;return this.adapter.load(localeCode).then(function(catalog){_this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedLocaleAction__.a(localeCode,catalog)),_this.debug&&console.log("[Stejar-Translate][TranslatorService] - Loaded locale: "+localeCode)})}},{key:"translate",value:function(label){var activeLocale=__WEBPACK_IMPORTED_MODULE_3__queries_LocaleQueries__.a.getCurrentLocale(this.store.getState());if(!activeLocale)throw new Error("[Stejar-Translate][TranslatorService] There is no active locale to fallback to.");var catalog=__WEBPACK_IMPORTED_MODULE_3__queries_LocaleQueries__.a.getLocaleCatalog(this.store.getState(),{locale:activeLocale});return catalog[label]?catalog[label]:(this.debug&&console.warn('[Stejar-Translate][TranslatorService] Label "'+label+'" does not exist'),label)}}]),TranslatorService}();TranslatorService=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store,Object])],TranslatorService)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return STATS_FORMAT}),__webpack_require__.d(exports,"b",function(){return STATS_UNITS});var STATS_FORMAT;!function(STATS_FORMAT){STATS_FORMAT[STATS_FORMAT.STRING="String"]="STRING",STATS_FORMAT[STATS_FORMAT.INTEGER="Integer"]="INTEGER",STATS_FORMAT[STATS_FORMAT.DECIMAL="Decimal"]="DECIMAL",STATS_FORMAT[STATS_FORMAT.CURRENCY="Currency"]="CURRENCY",STATS_FORMAT[STATS_FORMAT.PERCENTAGE="Percentage"]="PERCENTAGE",STATS_FORMAT[STATS_FORMAT.SHORT_TIMESPAN="ShortTimespan"]="SHORT_TIMESPAN",STATS_FORMAT[STATS_FORMAT.LONG_TIMESPAN="LongTimespan"]="LONG_TIMESPAN"}(STATS_FORMAT||(STATS_FORMAT={}));var STATS_UNITS;!function(STATS_UNITS){STATS_UNITS[STATS_UNITS.MILLISECONDS="Milliseconds"]="MILLISECONDS",STATS_UNITS[STATS_UNITS.SECONDS="Seconds"]="SECONDS",STATS_UNITS[STATS_UNITS.MINUTES="Minutes"]="MINUTES",STATS_UNITS[STATS_UNITS.HOURS="Hours"]="HOURS",STATS_UNITS[STATS_UNITS.DAYS="Days"]="DAYS",STATS_UNITS[STATS_UNITS.METERS_ABSOLUTE_UNIT="m"]="METERS_ABSOLUTE_UNIT",STATS_UNITS[STATS_UNITS.KILOMETERS_ABSOLUTE_UNIT="km"]="KILOMETERS_ABSOLUTE_UNIT",STATS_UNITS[STATS_UNITS.METERS="Meters"]="METERS",STATS_UNITS[STATS_UNITS.KILOMETERS="Kilometers"]="KILOMETERS",STATS_UNITS[STATS_UNITS.PERCENTAGE="%"]="PERCENTAGE"}(STATS_UNITS||(STATS_UNITS={}));var STATS_SEMANTICS;!function(STATS_SEMANTICS){STATS_SEMANTICS[STATS_SEMANTICS.CUMULATIVE="Cumulative"]="CUMULATIVE",STATS_SEMANTICS[STATS_SEMANTICS.TIER="Tier"]="TIER",STATS_SEMANTICS[STATS_SEMANTICS.BEST="Best"]="BEST"}(STATS_SEMANTICS||(STATS_SEMANTICS={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return PROFILE_REWARD_STATUS});var PROFILE_REWARD_STATUS;!function(PROFILE_REWARD_STATUS){PROFILE_REWARD_STATUS[PROFILE_REWARD_STATUS.LOCKED="Locked"]="LOCKED",PROFILE_REWARD_STATUS[PROFILE_REWARD_STATUS.UNLOCKED="Unlocked"]="UNLOCKED",PROFILE_REWARD_STATUS[PROFILE_REWARD_STATUS.PURCHASED="Purchased"]="PURCHASED",PROFILE_REWARD_STATUS[PROFILE_REWARD_STATUS.LIMIT_REACHED="LimitReached"]="LIMIT_REACHED"}(PROFILE_REWARD_STATUS||(PROFILE_REWARD_STATUS={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__stores_GamesPlayedStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(47)),__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__=__webpack_require__(323),__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_5__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_6__GamesCommonQueries__=__webpack_require__(135);__webpack_require__.d(exports,"a",function(){return ChangePlatformsQueries});var ChangePlatformsQueries=function ChangePlatformsQueries(){_classCallCheck(this,ChangePlatformsQueries)};ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_1__stores_GamesPlayedStore__.a.getApplicationsByUserId,__WEBPACK_IMPORTED_MODULE_5__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId,__WEBPACK_IMPORTED_MODULE_5__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(lpg,userId,applicationsByUserId,platformsApplicationsIdsByParentSpaceId,platformsByApplicationId){if(!lpg)return[];if(!applicationsByUserId[userId])return[];var ownedAppIds=__WEBPACK_IMPORTED_MODULE_6__GamesCommonQueries__.a.getOwnedAppIds(applicationsByUserId,userId,platformsApplicationsIdsByParentSpaceId,lpg);return ownedAppIds.map(function(ownedAppId){return{key:ownedAppId,value:"switch"!==platformsByApplicationId[ownedAppId].displayName.toLowerCase()?platformsByApplicationId[ownedAppId].displayName:"NINTENDO SWITCH"}})}),ChangePlatformsQueries.getHasOnlyOneOwnedPlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getHasMyLastPlayedGameOnlyOnePlatform",ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms){return 1==platforms.length}),ChangePlatformsQueries.getHasOwnedPlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getHasMyLastPlayedGameOwnedPlatform",ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms){return platforms.length>0}),ChangePlatformsQueries.getSelectedPlatformCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getSelectedPlatformCode",__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__.a.getSelectedSpaceAppByGameId,__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentGameId,__WEBPACK_IMPORTED_MODULE_5__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,function(selectedAppIdByGameId,gameId,platformsByApplicationId){return selectedAppIdByGameId[gameId]&&platformsByApplicationId[selectedAppIdByGameId[gameId].appId]?"switch"!==platformsByApplicationId[selectedAppIdByGameId[gameId].appId].displayName.toLowerCase()?platformsByApplicationId[selectedAppIdByGameId[gameId].appId].displayName:"NINTENDO SWITCH":null}),ChangePlatformsQueries.getMyLastPlayedGameFilteredOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__.a.getSelectedSpaceAppByGameId,__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentGameId,ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms,gameId,platformsOwned){return platformsOwned.filter(function(platform){return platforms[gameId]&&platform.key!==platforms[gameId].appId})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_3__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_4__RecentlyMetQueries__=__webpack_require__(218);__webpack_require__.d(exports,"a",function(){return MetaProgressionProfileQueries});var MetaProgressionProfileQueries=function MetaProgressionProfileQueries(){_classCallCheck(this,MetaProgressionProfileQueries)};MetaProgressionProfileQueries.getIsMyPlayerProfileLoaded=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getIsMyPlayerProfileLoaded",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getLoaded,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId,function(loaded,hasIdentity,userId){return!!hasIdentity&&(!!loaded[userId]&&loaded[userId])}),MetaProgressionProfileQueries.getMyPlayerProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getMyPlayerProfile",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId,function(playerProfile,hasIdentity,userId){return hasIdentity&&playerProfile[userId]?playerProfile[userId]:null}),MetaProgressionProfileQueries.getHasProfileCallError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getHasProfileCallError",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getHasProfileCallError,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId,function(hasProfileCallError,hasIdentity,userId){return!!hasIdentity&&(!!hasProfileCallError[userId]&&hasProfileCallError[userId])}),MetaProgressionProfileQueries.getMyLevel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getMyLevel",MetaProgressionProfileQueries.getMyPlayerProfile,function(myPlayerProfile){return myPlayerProfile&&myPlayerProfile.level?myPlayerProfile.level:0}),MetaProgressionProfileQueries.getFriendPlayerProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getFriendPlayerProfile",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__stores_FriendProfileStore__.a.getCurrentFriendId,function(playerProfile,userId){return playerProfile[userId]?playerProfile[userId]:null}),MetaProgressionProfileQueries.getFriendLevel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getFriendLevel",MetaProgressionProfileQueries.getFriendPlayerProfile,function(myPlayerProfile){return myPlayerProfile&&myPlayerProfile.level?myPlayerProfile.level:0}),MetaProgressionProfileQueries.getFriendProfileLoaded=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getFriendProfileLoaded",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getLoaded,__WEBPACK_IMPORTED_MODULE_3__stores_FriendProfileStore__.a.getCurrentFriendId,function(loaded,userId){
return!!userId&&(void 0===loaded[userId]||loaded[userId])}),MetaProgressionProfileQueries.getRecentlyMetProfilesLoaded=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("MetaProgressionProfileQueries.getRecentlyMetProfilesLoaded",__WEBPACK_IMPORTED_MODULE_2__stores_MetaProgressionProfileStore__.a.getLoaded,__WEBPACK_IMPORTED_MODULE_4__RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks,function(loaded,ids){return!ids.length||ids.every(function(id){return loaded[id]===!0})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_2_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__),__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__stores_ProfileEntitiesStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return NotificationsQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NotificationsQueries=function(){function NotificationsQueries(){_classCallCheck(this,NotificationsQueries)}return _createClass(NotificationsQueries,null,[{key:"mapPopulationTypeToNewsType",value:function(populationType,platform,newsItem){if(!Object.keys(newsItem.obj).length)return!1;if("2"==populationType&&!platform)return populationType==newsItem.obj.type;if("2"==populationType&&platform){var condition="PC"==platform?"pc"==newsItem.obj.platform:"console"==newsItem.obj.platform;return populationType==newsItem.obj.type&&condition}return populationType==newsItem.obj.type}},{key:"changNewsBodyRelatedToPopulationsTypeAndPlatform",value:function(populationType,platform,body){var text=body;switch(populationType){case"2":if("PC"!==platform){var _bodyArray=body.split(". ");_bodyArray=_bodyArray.filter(function(bodyText){return bodyText.indexOf("%(link)")===-1}),text=_bodyArray.join(". ")}break;case"1":case"3":default:var bodyArray=body.split(". ");bodyArray=bodyArray.filter(function(bodyText){return bodyText.indexOf("%(link)")===-1}),text=bodyArray.join(". ")}return text}}]),NotificationsQueries}();NotificationsQueries.getHasBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__.a.getByUniqueName,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(populations,byUniqueName,spaceId){return!!populations[spaceId]&&(populations[spaceId].length>0&&!!populations[spaceId].map(function(id){return byUniqueName[id]}).find(function(population){return Object.keys(population.obj).length>0}))}),NotificationsQueries.getNbOfBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(populations,spaceId){return populations[spaceId]?populations[spaceId].length:0}),NotificationsQueries.getBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaPopulations,__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_3__stores_PopulationsStore__.a.getByUniqueName,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(hasEntities,bySpaceId,byUniqueName,spaceId){return hasEntities?bySpaceId[spaceId].map(function(id){return byUniqueName[id]}):[]}),NotificationsQueries.getBetaPopulationsWithinDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getBetaPopulations,function(populations){return populations.length?populations.filter(function(population){return!!population.obj&&__WEBPACK_IMPORTED_MODULE_2_moment___default()().isBetween(__WEBPACK_IMPORTED_MODULE_2_moment___default()(population.obj.PhaseStartDate),__WEBPACK_IMPORTED_MODULE_2_moment___default()(population.obj.PhaseEndDate))}):[]}),NotificationsQueries.getNbOfBetaPopulationsWithinDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",NotificationsQueries.getBetaPopulationsWithinDate,function(populations){return populations.length}),NotificationsQueries.getHasBetaEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaEntities",__WEBPACK_IMPORTED_MODULE_5__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(entities,spaceId){return!!entities[spaceId]&&entities[spaceId].length>0}),NotificationsQueries.getNbOfBetaEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaEntities",__WEBPACK_IMPORTED_MODULE_5__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(entities,spaceId){return entities[spaceId]?entities[spaceId].length:0}),NotificationsQueries.getProfileEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,__WEBPACK_IMPORTED_MODULE_5__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_5__stores_ProfileEntitiesStore__.a.getByEntityId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(hasEntities,bySpaceId,byEntityId,spaceId){return hasEntities?bySpaceId[spaceId].map(function(id){return byEntityId[id]}).filter(function(entity){return"Beta"==entity.name}):[]}),NotificationsQueries.getProfileEntity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntities,function(hasEntities,entities){return hasEntities?entities[0]:null}),NotificationsQueries.getProfileEntityRevison=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.revision:1}),NotificationsQueries.getProfileEntityId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.entityId:null}),NotificationsQueries.getProfileEntityObj=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.obj:null}),NotificationsQueries.getHasBetaNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(news,spaceId){return!!news[spaceId]&&news[spaceId].length>0}),NotificationsQueries.getNbOfBetaNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(news,spaceId){return news[spaceId]?news[spaceId].length:0}),NotificationsQueries.getNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaNews,__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(hasEntities,bySpaceId,byId,spaceId){return hasEntities?bySpaceId[spaceId].map(function(id){return byId[id]}):[]}),NotificationsQueries.getComputedEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaPopulations,NotificationsQueries.getHasBetaEntities,NotificationsQueries.getHasBetaNews,NotificationsQueries.getBetaPopulationsWithinDate,NotificationsQueries.getNews,NotificationsQueries.getProfileEntityObj,function(hasBetaPopulations,hasBetaEntities,hasBetaNews,populations,news,entityObj){return hasBetaPopulations||hasBetaEntities||hasBetaNews?(hasBetaEntities||hasBetaNews)&&hasBetaEntities?populations.map(function(population){var foundEntity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(entityObj,function(obj){return obj.name==population.name});if(foundEntity){var isDifferent=population.obj.type!==foundEntity.type||population.obj.betaName!==foundEntity.betaName||population.obj.PhaseEndDate!==foundEntity.eraseDate;return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:foundEntity.firstDisplayDate,lastDisplayDate:foundEntity.lastDisplayDate,userAction:isDifferent?null:foundEntity.userAction,actionDate:isDifferent?null:foundEntity.actionDate,seen:isDifferent?null:foundEntity.seen,seenNb:isDifferent?null:foundEntity.seenNb,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:__WEBPACK_IMPORTED_MODULE_2_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}):populations.map(function(population){return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:__WEBPACK_IMPORTED_MODULE_2_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}):[]}),NotificationsQueries.getComputedEntitiesObj=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getComputedEntities",NotificationsQueries.getComputedEntities,function(entities){var obj={};return entities.length?(entities.forEach(function(entity,offset){obj[(offset+1).toString()]=entity}),obj):obj}),NotificationsQueries.getComputedNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getComputedEntities,NotificationsQueries.getBetaPopulationsWithinDate,NotificationsQueries.getNews,function(entities,populations,news){return entities.map(function(entity){var found=populations.find(function(population){return population.name==entity.name});return{betaId:entity.name,betaNotSeen:!entity.seen,betaName:found?found.obj.betaName:null,betaPhase:found?found.obj.phaseName:null,betaUrl:found?found.obj.url:null,betaType:found?found.obj.type:null,betaPlatform:found?found.obj.platform:null,betaText:news.find(function(singelNews){return NotificationsQueries.mapPopulationTypeToNewsType(entity.type,found?found.obj.platform:null,singelNews)})?NotificationsQueries.changNewsBodyRelatedToPopulationsTypeAndPlatform(entity.type,found?found.obj.platform:null,news.find(function(singelNews){return NotificationsQueries.mapPopulationTypeToNewsType(entity.type,found?found.obj.platform:null,singelNews)}).body):null}})}),NotificationsQueries.getNbOfNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getNbOfNotifications",NotificationsQueries.getComputedEntities,__WEBPACK_IMPORTED_MODULE_7__selectors__.m,function(entities,emailVerificationNotificationsNb){return entities.filter(function(entity){return!entity.seenNb}).length+emailVerificationNotificationsNb})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_app_modules_analytics_services_AnalyticsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(19)),__WEBPACK_IMPORTED_MODULE_4_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadingAddFriendsAction__=__webpack_require__(277),__WEBPACK_IMPORTED_MODULE_6_app_actions_ShowNotFoundFriendAction__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_7_app_services_ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__=__webpack_require__(508),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_13__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_14__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_16__actions_FailedFriendsApiAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_17__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_18__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_19__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23);__webpack_require__.d(exports,"a",function(){return AddFriendService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AddFriendService=function(_AbstractActions){function AddFriendService(analyticsService,profilesService,friendsService,metaProgressionProfileService,communicationService){_classCallCheck(this,AddFriendService);var _this=_possibleConstructorReturn(this,(AddFriendService.__proto__||Object.getPrototypeOf(AddFriendService)).call(this));return _this.analyticsService=analyticsService,_this.profilesService=profilesService,_this.friendsService=friendsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.communicationService=communicationService,_this}return _inherits(AddFriendService,_AbstractActions),_createClass(AddFriendService,[{key:"onClickUserSearchInput",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(userName&&userName.length>=3&&userName.toLowerCase()!=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.i)(this.state).toLowerCase())){_context.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_LoadingAddFriendsAction__.a((!0),userName)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_ShowNotFoundFriendAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_FailedFriendsApiAction__.a((!1))),_context.next=6,Promise.all([this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_14__modules_serviceApis_entities_UserProfile__.a.UPLAY),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_14__modules_serviceApis_entities_UserProfile__.a.PSN),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_14__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE)]);case 6:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.w)(this.state)){_context.next=13;break}return _context.next=9,Promise.all([this.metaProgressionProfileService.loadFriendMetaProgression(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.x)(this.state)),this.profilesService.loadFriendsProfilesByIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.y)(this.state))]);case 9:this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","search for friend"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_ShowNotFoundFriendAction__.a((!1))),_context.next=14;break;case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_ShowNotFoundFriendAction__.a((!0)));case 14:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_app_selectors__.z)(this.state))),_context.next=17,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 17:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_LoadingAddFriendsAction__.a((!1),userName)),_context.next=20,new Promise(function(resolve){return setTimeout(function(){return resolve()},2)});case 20:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var friends,userId;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__.a(pid,(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!0),(!1),(!1))),_context2.next=4,new Promise(function(resolve){setTimeout(function(){return resolve()},305)});case 4:return _context2.prev=4,_context2.next=7,this.friendsService.sendFriendInvite(pid);case 7:_context2.next=13;break;case 9:return _context2.prev=9,_context2.t0=_context2["catch"](4),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1))),_context2.abrupt("return");case 13:friends=__assign({},__WEBPACK_IMPORTED_MODULE_13__stores_FriendsStore__.a.getByIds(this.state)),friends[pid]?friends[pid]=__assign({},friends[pid],{state:__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE,stillInRequests:!1}):friends[pid]={pid:pid,nickname:"",isFavorite:!1,lastModified:__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:__WEBPACK_IMPORTED_MODULE_15__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE,stillInRequests:!1},userId=__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.friendsService.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.map)(friends,function(friend){return friend}),userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1),(!1)));case 18:case"end":return _context2.stop()}},_callee2,this,[[4,9]])}))}}]),AddFriendService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);AddFriendService=__decorate([__WEBPACK_IMPORTED_MODULE_18__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_app_modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_7_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_17__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_19__modules_integrator_communication_services_CommunicationService__.a])],AddFriendService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedGalleryAvatarsAction__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_6__actions_LoadingAvatarsAction__=__webpack_require__(541),__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_api_AvatarsApi__=__webpack_require__(880),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_12__queries_UserQueries__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_13__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_14__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return AvatarService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AvatarService=function(_AbstractActions){function AvatarService(avatarsApi){_classCallCheck(this,AvatarService);var _this=_possibleConstructorReturn(this,(AvatarService.__proto__||Object.getPrototypeOf(AvatarService)).call(this));return _this.avatarsApi=avatarsApi,_this}return _inherits(AvatarService,_AbstractActions),_createClass(AvatarService,[{key:"getMyAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var avatar,byId,detailsById,imagesById,userId,expiration;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(avatar=null,byId={},detailsById={},imagesById={},userId=__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),expiration=__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).avatar&&__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).avatar[userId]?__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).avatar[userId]:0,__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_14__modules_configuration_entities_CachingTime__.a.USER_AVATAR_CACHE_TIME)){_context.next=9;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getDetailsById(this.getState()),_defineProperty({},userId,this.getImagesById(__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getById(this.getState()))),__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).avatar)),_context.abrupt("return",Promise.resolve());case 9:return _context.prev=9,_context.next=12,this.avatarsApi.getUserAvatarById(userId);case 12:avatar=_context.sent,_context.next=20;break;case 15:return _context.prev=15,_context.t0=_context["catch"](9),console.error(_context.t0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId,detailsById,imagesById,_defineProperty({},userId,0))),_context.abrupt("return",Promise.resolve());case 20:return byId[userId]=avatar,detailsById[userId]={profileId:avatar.profileId,isAvatarBanned:avatar.isAvatarBanned,isProfileBanned:avatar.isProfileBanned,type:avatar.type,spaceId:avatar.spaceId},imagesById[userId]=this.getImagesById(_defineProperty({},userId,avatar)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId,detailsById,imagesById,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),
_context.abrupt("return",avatar);case 25:case"end":return _context.stop()}},_callee,this,[[9,15]])}))}},{key:"loadAvatarsFromGallery",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var countryCode,isMinor,userId,byInstallmentSpaceId,configsByCountryCode,avatars,configs,galleriesExpiration,promises;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(countryCode=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getCountryCode(this.getState()),isMinor=__WEBPACK_IMPORTED_MODULE_12__queries_UserQueries__.a.getMyMinorStatus(this.getState()).toString(),userId=__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),byInstallmentSpaceId={},configsByCountryCode={},avatars=[],configs={},galleriesExpiration=__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).galleries&&__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).galleries[userId]&&__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).galleries[userId][countryCode]&&__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).galleries[userId][countryCode][isMinor]?__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()).galleries[userId][countryCode][isMinor]:0,__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.isExpired(galleriesExpiration,__WEBPACK_IMPORTED_MODULE_14__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context2.next=11;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGalleryAvatarsAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getByInstallmentSpaceId(this.getState()),{},__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getExpirations(this.getState()))),_context2.abrupt("return",__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.map)(__WEBPACK_IMPORTED_MODULE_11__stores_AvatarStore__.a.getByInstallmentSpaceId(this.getState()),function(avatar){return avatar}).reduce(function(previous,current){return previous.concat(current)},[]));case 11:return _context2.prev=11,_context2.next=14,Promise.all([this.avatarsApi.getAvatarsConfigs(countryCode),this.avatarsApi.getAvatarsFromGallery(countryCode)]);case 14:promises=_context2.sent,configs=promises[0],avatars=promises[1],_context2.next=23;break;case 19:return _context2.prev=19,_context2.t0=_context2["catch"](11),console.error(_context2.t0),_context2.abrupt("return",Promise.reject(_context2.t0));case 23:return configsByCountryCode[countryCode]=configs,avatars.forEach(function(avatar){byInstallmentSpaceId[avatar.spaceId]?byInstallmentSpaceId[avatar.spaceId].push(avatar):byInstallmentSpaceId[avatar.spaceId]=[avatar]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGalleryAvatarsAction__.a(byInstallmentSpaceId,configsByCountryCode,{galleries:_defineProperty({},userId,_defineProperty({},countryCode,_defineProperty({},isMinor,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())))})),_context2.abrupt("return",avatars);case 27:case"end":return _context2.stop()}},_callee2,this,[[11,19]])}))}},{key:"saveAvatarFromGallery",value:function(avatarId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var avatar,byId,detailsById,imagesById,userId;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_LoadingAvatarsAction__.a),avatar=null,byId={},detailsById={},imagesById={},userId=__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),_context3.prev=6,_context3.next=9,this.avatarsApi.saveAvatarFromGallery(userId,avatarId);case 9:avatar=_context3.sent,_context3.next=16;break;case 12:return _context3.prev=12,_context3.t0=_context3["catch"](6),console.error(_context3.t0),_context3.abrupt("return");case 16:return byId[userId]=avatar,detailsById[userId]={profileId:avatar.profileId,isAvatarBanned:avatar.isAvatarBanned,isProfileBanned:avatar.isProfileBanned,type:avatar.type,spaceId:avatar.spaceId},imagesById[userId]=avatar.imageVariations.map(function(image){return _defineProperty({},image.width,image.url)}).reduce(function(previous,current){return __assign({},previous,current)}),_context3.next=21,this.loadAvatarImage(userId,byId,detailsById,imagesById,imagesById[userId][146]);case 21:return _context3.abrupt("return",_context3.sent);case 22:case"end":return _context3.stop()}},_callee3,this,[[6,12]])}))}},{key:"saveUploadedAvatar",value:function(base64EncodedIamgeData){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var avatar,byId,detailsById,imagesById,userId;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_LoadingAvatarsAction__.a),avatar=null,byId={},detailsById={},imagesById={},userId=__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),_context4.prev=6,_context4.next=9,this.avatarsApi.saveUploadedAvatar(userId,base64EncodedIamgeData);case 9:avatar=_context4.sent,_context4.next=16;break;case 12:return _context4.prev=12,_context4.t0=_context4["catch"](6),console.error(_context4.t0),_context4.abrupt("return");case 16:return byId[userId]=avatar,detailsById[userId]={profileId:avatar.profileId,isAvatarBanned:avatar.isAvatarBanned,isProfileBanned:avatar.isProfileBanned,type:avatar.type,spaceId:avatar.spaceId},imagesById[userId]=avatar.imageVariations.map(function(image){return _defineProperty({},image.width,image.url)}).reduce(function(previous,current){return __assign({},previous,current)}),_context4.next=21,this.loadAvatarImage(userId,byId,detailsById,imagesById,imagesById[userId][146]);case 21:return _context4.abrupt("return",_context4.sent);case 22:case"end":return _context4.stop()}},_callee4,this,[[6,12]])}))}},{key:"loadAvatarImage",value:function(userId,byId,detailsById,imagesById,imageToLoad){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var _this2=this;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,new Promise(function(resolve){var image=new Image;image.onload=function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId,detailsById,imagesById,_defineProperty({},userId,0))),resolve()},image.onerror=function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId,detailsById,imagesById,_defineProperty({},userId,0))),resolve()};var appId=__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(_this2.getState());image.src=imageToLoad.indexOf("?")!==-1?imageToLoad+"&appId="+appId:imageToLoad+"?appId="+appId});case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"getImagesById",value:function(avatar){var _this3=this;return avatar&&avatar[__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())]&&avatar[__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())].imageVariations?avatar[__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())].imageVariations.map(function(image){var imageUrl=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarLarge(_this3.getState(),{noAppId:!0});switch(image.width){case 146:imageUrl=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarSmall(_this3.getState(),{noAppId:!0});break;case 256:imageUrl=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarLarge(_this3.getState(),{noAppId:!0});break;case 500:imageUrl=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarTall(_this3.getState(),{noAppId:!0});break;default:imageUrl=__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarLarge(_this3.getState(),{noAppId:!0})}return _defineProperty({},image.width,imageUrl)}).reduce(function(previous,current){return __assign({},previous,current)}):null}}]),AvatarService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);AvatarService=__decorate([__WEBPACK_IMPORTED_MODULE_13__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_api_AvatarsApi__.a])],AvatarService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__PopulationsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(912)),__WEBPACK_IMPORTED_MODULE_4__ProfileEntitiesService__=__webpack_require__(913),__WEBPACK_IMPORTED_MODULE_5__NewsService__=__webpack_require__(911),__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__=__webpack_require__(311),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return BetaNotificationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},BetaNotificationsService=function(_AbstractActions){function BetaNotificationsService(populationsService,profileEntitiesService,newsService,analyticsService){_classCallCheck(this,BetaNotificationsService);var _this=_possibleConstructorReturn(this,(BetaNotificationsService.__proto__||Object.getPrototypeOf(BetaNotificationsService)).call(this));return _this.populationsService=populationsService,_this.profileEntitiesService=profileEntitiesService,_this.newsService=newsService,_this.analyticsService=analyticsService,_this}return _inherits(BetaNotificationsService,_AbstractActions),_createClass(BetaNotificationsService,[{key:"getBetaNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.populationsService.loadMyBetaPopulations();case 2:if(!__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getHasBetaPopulations(this.getState())){_context.next=12;break}return _context.next=5,Promise.all([this.profileEntitiesService.loadMyProfileEntities(),this.newsService.loadNews([__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId(this.getState())])]);case 5:if(!__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getHasBetaEntities(this.getState())){_context.next=10;break}return _context.next=8,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 8:_context.next=12;break;case 10:return _context.next=12,this.profileEntitiesService.createProfileEntity(__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()));case 12:case"end":return _context.stop()}},_callee,this)}))}},{key:"seenAllNotifications",value:function(showNotifications,seen,seenNb){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var entitiesObj;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(showNotifications){_context2.next=2;break}return _context2.abrupt("return");case 2:if(entitiesObj=__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(entitiesObj,function(obj){return!obj.seen})){_context2.next=7;break}return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.each)(entitiesObj,function(obj,index){entitiesObj[index]=__assign({},obj,{seen:seen,seenNb:seenNb,lastDisplayDate:__WEBPACK_IMPORTED_MODULE_0_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss")})}),_context2.next=7,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),entitiesObj,__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 7:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickBeta",value:function(betaId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var entitiesObj,offset,found,populations,foundPopulation,action;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(entitiesObj=__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),offset=null,found=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(entitiesObj,function(obj,index){return offset=index,obj.name==betaId}),!found){_context3.next=11;break}return populations=__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getBetaPopulations(this.getState()),foundPopulation=populations.find(function(population){return population.name==found.name}),foundPopulation&&(action="","2"==foundPopulation.obj.type&&"PC"==foundPopulation.obj.platform?action="Preload now":"1"==foundPopulation.obj.type?action="Accept the NDA":"2"==foundPopulation.obj.type?action="Get my key":"3"==foundPopulation.obj.type&&(action="Get my access"),this.analyticsService.trackEvent("notifications tab","notifications panel","global nav","action",foundPopulation.obj.betaName+" : "+foundPopulation.obj.phaseName+" : "+action)),found=__assign({},found,{userAction:"link",lastDisplayDate:__WEBPACK_IMPORTED_MODULE_0_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),actionDate:__WEBPACK_IMPORTED_MODULE_0_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),seen:!0,seenNb:!0}),entitiesObj[offset]=found,_context3.next=11,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),entitiesObj,__WEBPACK_IMPORTED_MODULE_6__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 11:case"end":return _context3.stop()}},_callee3,this)}))}}]),BetaNotificationsService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);BetaNotificationsService=__decorate([__WEBPACK_IMPORTED_MODULE_9__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__PopulationsService__.a,__WEBPACK_IMPORTED_MODULE_4__ProfileEntitiesService__.a,__WEBPACK_IMPORTED_MODULE_5__NewsService__.a,__WEBPACK_IMPORTED_MODULE_8__modules_analytics_services_AnalyticsService__.a])],BetaNotificationsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_services_ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_3_app_services_GamesService__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_4_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_6_app_actions_BootedWidgetAction__=__webpack_require__(507),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_9_app_actions_SelectArabLanguageAction__=__webpack_require__(282),__WEBPACK_IMPORTED_MODULE_10_app_actions_DeselectArabLanguageAction__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_11__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_12__WidgetChannelService__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_13__actions_WritteCONNECTloginDataAction__=__webpack_require__(297),__WEBPACK_IMPORTED_MODULE_14__actions_ReloadAction__=__webpack_require__(110),__WEBPACK_IMPORTED_MODULE_15__actions_ChangeLPGPlatformAction__=__webpack_require__(194),__WEBPACK_IMPORTED_MODULE_16__actions_DeleteCONNECTloginDataAction__=__webpack_require__(195),__WEBPACK_IMPORTED_MODULE_17__TwoFactorAuthService__=__webpack_require__(914),__WEBPACK_IMPORTED_MODULE_18__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_19__BetaNotificationsService__=__webpack_require__(314),__WEBPACK_IMPORTED_MODULE_20__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_21__AvatarService__=__webpack_require__(313),__WEBPACK_IMPORTED_MODULE_22__UserService__=__webpack_require__(916),__WEBPACK_IMPORTED_MODULE_23__modules_locale_services_TranslatorService__=__webpack_require__(306),__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_25__FriendsService__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_26__actions_LoadedAvatarAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_27__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_28__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_29__stores_PageLoaderStore__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_30__modules_locale_entities_LocalStrings__=__webpack_require__(165),__WEBPACK_IMPORTED_MODULE_31__WebsocketService__=__webpack_require__(321),__WEBPACK_IMPORTED_MODULE_32__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return BootstrapService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},BootstrapService=function(_AbstractActions){function BootstrapService(authenticationService,profilesService,gamesService,translatorService,pageLoaderService,communicationService,channel,twoFactorAuthService,betaNotificationsService,metaProgressionProfileService,avatarService,userService,friendsService,websocketService,commonActionsService){_classCallCheck(this,BootstrapService);var _this=_possibleConstructorReturn(this,(BootstrapService.__proto__||Object.getPrototypeOf(BootstrapService)).call(this));return _this.authenticationService=authenticationService,_this.profilesService=profilesService,_this.gamesService=gamesService,_this.translatorService=translatorService,_this.pageLoaderService=pageLoaderService,_this.communicationService=communicationService,_this.channel=channel,_this.twoFactorAuthService=twoFactorAuthService,_this.betaNotificationsService=betaNotificationsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.avatarService=avatarService,_this.userService=userService,_this.friendsService=friendsService,_this.websocketService=websocketService,_this.commonActionsService=commonActionsService,_this.isInitializing=!1,_this}return _inherits(BootstrapService,_AbstractActions),_createClass(BootstrapService,[{key:"bootstrap",value:function(afterLogin,isReInit,query){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var locale,selectedLocale,reloadFriends,promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(query&&query.query&&query.query.isSafari&&this.communicationService.changeIframeUrl(),_context.prev=1,locale=__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),"ar-ae"===locale.toLowerCase()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_9_app_actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_DeselectArabLanguageAction__.a),selectedLocale=locale.split("-")[1]?locale.split("-")[0].toLowerCase()+"-"+locale.split("-")[1].toUpperCase():locale,__WEBPACK_IMPORTED_MODULE_30__modules_locale_entities_LocalStrings__.b.find(function(loc){return loc.toLowerCase()==locale.toLowerCase()})||__WEBPACK_IMPORTED_MODULE_30__modules_locale_entities_LocalStrings__.b.indexOf(selectedLocale)===-1||console.warn(locale+" is an invalid locale. Therefore "+selectedLocale+" will be used"),__WEBPACK_IMPORTED_MODULE_30__modules_locale_entities_LocalStrings__.b.indexOf(selectedLocale)===-1&&(console.warn(locale+" is an invalid locale. Pleas set locale on init with one of the following: "+__WEBPACK_IMPORTED_MODULE_30__modules_locale_entities_LocalStrings__.b.join(", ")),selectedLocale="en-GB"),__WEBPACK_IMPORTED_MODULE_29__stores_PageLoaderStore__.a.getDisplayPageLoader(this.getState())){_context.next=10;break}return _context.next=10,this.pageLoaderService.showPageLoader();case 10:return _context.next=12,this.translatorService.loadLocale(selectedLocale);case 12:if(this.translatorService.changeLocale(selectedLocale),!(query&&query.query&&query.query.payload)){_context.next=18;break}return _context.next=16,this.refreshIdentity(query.query.payload);case 16:_context.next=21;break;case 18:return this.channel.send(__WEBPACK_IMPORTED_MODULE_11__messages__.a.INTEGRATOR_TRIGGER_REFRESH_IDENTITY,{afterLogin:afterLogin,isReInit:isReInit,loginParams:query?query.query:null}),_context.next=21,new Promise(function(resolve,reject){_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_11__messages__.a.WIDGET_TICKET_SUCESS,function(data){return _this2.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_WritteCONNECTloginDataAction__.a(data)),_this2.websocketService.start(data,_this2.communicationService.handleOnFriendAction),_this2.authenticationService.refreshIdentity().then(function(){return resolve()})["catch"](function(){return reject()})}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_11__messages__.a.WIDGET_TICKET_ERROR,function(){return _this2.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_DeleteCONNECTloginDataAction__.a),_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction),reject()})});case 21:if(reloadFriends=!1,!(query&&query.query&&query.query.platform&&query.query.formerUserId!==__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()))){_context.next=26;break}return reloadFriends=!0,_context.next=26,this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ReloadAction__.a);case 26:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_BootedWidgetAction__.a),_context.next=29,this.pageLoaderService.hidePageLoader();case 29:return this.channel.send(__WEBPACK_IMPORTED_MODULE_11__messages__.a.INTEGRATOR_TRIGGER_USER_DATA,{ticket:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).sessionId,userId:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_LoadedAvatarAction__.a(__WEBPACK_IMPORTED_MODULE_27__stores_AvatarStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_27__stores_AvatarStore__.a.getDetailsById(this.getState()),_defineProperty({},__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.avatarService.getImagesById(__WEBPACK_IMPORTED_MODULE_27__stores_AvatarStore__.a.getById(this.getState()))),__WEBPACK_IMPORTED_MODULE_27__stores_AvatarStore__.a.getExpirations(this.getState()).avatar)),_context.next=33,this.userService.loadCurrentUser().then(function(){_this2.communicationService.loggedIn(__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(_this2.getState()),afterLogin,isReInit)});case 33:return promises=[],reloadFriends?promises.push(this.commonActionsService.onExpandFriends()):promises.push(this.friendsService.loadMyFriends()),isReInit&&promises.push(this.avatarService.getMyAvatar()),this.gamesService.loadMyGames().then(function(){__WEBPACK_IMPORTED_MODULE_18__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(_this2.getState())&&_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ChangeLPGPlatformAction__.a(__WEBPACK_IMPORTED_MODULE_18__queries_OtherGamesCarouselQueries__.a.getCurrentGameId(_this2.getState()),__WEBPACK_IMPORTED_MODULE_18__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(_this2.getState()),__WEBPACK_IMPORTED_MODULE_18__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameAppId(_this2.getState())))}),promises.push(this.betaNotificationsService.getBetaNotifications()),_context.next=40,Promise.all([this.profilesService.loadMyUserProfile(),this.metaProgressionProfileService.loadMyMetaProgression(),this.twoFactorAuthService.getTwoFactorAuthStatus()].concat(promises));case 40:return _context.abrupt("return",_context.sent);case 43:return _context.prev=43,_context.t0=_context["catch"](1),_context.t0&&(console.error("error on bootstrap"),
console.error(_context.t0)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_BootedWidgetAction__.a),_context.next=49,this.pageLoaderService.hidePageLoader();case 49:return this.communicationService.loggedIn(null,afterLogin,isReInit),_context.abrupt("return",Promise.reject(_context.t0));case 51:case"end":return _context.stop()}},_callee,this,[[1,43]])}))}},{key:"refreshIdentity",value:function(payload){return this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_WritteCONNECTloginDataAction__.a({user_id:payload.payload.userId,ticket:payload.payload.ticket,token:payload.payload.token,sessionId:payload.payload.sessionId,expiration:payload.payload.expiration,opId:payload.opId})),this.authenticationService.refreshIdentity()}},{key:"initialize",value:function(afterLogin,isReInit,query){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var bootstrap;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(bootstrap=Promise.resolve(),this.isInitializing){_context2.next=14;break}return this.isInitializing=!0,_context2.prev=3,_context2.next=6,this.bootstrap(afterLogin,isReInit,query);case 6:bootstrap=_context2.sent,this.isInitializing=!1,_context2.next=14;break;case 10:_context2.prev=10,_context2.t0=_context2["catch"](3),console.error(_context2.t0),this.isInitializing=!1;case 14:return _context2.abrupt("return",bootstrap);case 15:case"end":return _context2.stop()}},_callee2,this,[[3,10]])}))}}]),BootstrapService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);BootstrapService=__decorate([__WEBPACK_IMPORTED_MODULE_28__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService,__WEBPACK_IMPORTED_MODULE_2_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_3_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_23__modules_locale_services_TranslatorService__.a,__WEBPACK_IMPORTED_MODULE_4_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_12__WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_17__TwoFactorAuthService__.a,__WEBPACK_IMPORTED_MODULE_19__BetaNotificationsService__.a,__WEBPACK_IMPORTED_MODULE_20__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_21__AvatarService__.a,__WEBPACK_IMPORTED_MODULE_22__UserService__.a,__WEBPACK_IMPORTED_MODULE_25__FriendsService__.a,__WEBPACK_IMPORTED_MODULE_31__WebsocketService__.a,__WEBPACK_IMPORTED_MODULE_32__modules_integrator_communication_services_CommonActionsService__.a])],BootstrapService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_2__GamesService__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(288),__WEBPACK_IMPORTED_MODULE_4__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__=__webpack_require__(216),__WEBPACK_IMPORTED_MODULE_7__ConnectionsService__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendGamesCarouselLPGAction__=__webpack_require__(260),__WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendPlatformAction__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_10__actions_LoadingFriendsPlayingGameAction__=__webpack_require__(542),__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_12__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_13__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_14__actions_LoadingGameStatsAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_16__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(290),__WEBPACK_IMPORTED_MODULE_17__actions_LoadedGameStatsAction__=__webpack_require__(201),__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_19__actions_LoadedFriendsPlayingGame__=__webpack_require__(198),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_21__actions_LoadedFriendsStatsAction__=__webpack_require__(199),__WEBPACK_IMPORTED_MODULE_22__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(204),__WEBPACK_IMPORTED_MODULE_24__entities_ScrollUpdate__=__webpack_require__(211),__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(206),__WEBPACK_IMPORTED_MODULE_26__actions_LoadingGamesAction__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(291),__WEBPACK_IMPORTED_MODULE_28__actions_ChangeFriendToDeleteIdAction__=__webpack_require__(514),__WEBPACK_IMPORTED_MODULE_29__FriendsActionsService__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_30__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_31__actions_LoadedFriendGamesAction__=__webpack_require__(532),__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_33__FriendsPlayingGameService__=__webpack_require__(616),__WEBPACK_IMPORTED_MODULE_34__actions_LoadingGamesPlayedAction__=__webpack_require__(543),__WEBPACK_IMPORTED_MODULE_35__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_36__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_37__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_38__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return FriendProfileService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendProfileService=function(_AbstractActions){function FriendProfileService(profilesService,gamesService,communicationService,connectionsService,friendsPlayingGameService,friendsActionsService,metaProgressionProfileService,analyticsService,commonActionsService){_classCallCheck(this,FriendProfileService);var _this=_possibleConstructorReturn(this,(FriendProfileService.__proto__||Object.getPrototypeOf(FriendProfileService)).call(this));return _this.profilesService=profilesService,_this.gamesService=gamesService,_this.communicationService=communicationService,_this.connectionsService=connectionsService,_this.friendsPlayingGameService=friendsPlayingGameService,_this.friendsActionsService=friendsActionsService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.analyticsService=analyticsService,_this.commonActionsService=commonActionsService,_this}return _inherits(FriendProfileService,_AbstractActions),_createClass(FriendProfileService,[{key:"onClickFriendProfile",value:function(friendId,friendName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises,games,applicationId,gameId,spaceId,realSpaceId,gamePlatformCode,gamePlatformType,platforms,friendIdCorrelatedWithPlatform,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(friendId!=__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState())){_context.next=5;break}return this.analyticsService.trackPage("friends tab","manage friends"),_context.next=4,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 4:return _context.abrupt("return");case 5:return this.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","see friend's profile"),this.analyticsService.trackPage("friends tab","friend panel"),_context.next=9,this.dispatch(new __WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowFriendsTabDetailsViewAction__.a((!0)));case 9:return _context.next=11,this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_LoadedFriendGamesAction__.a((!1)));case 11:return promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_34__actions_LoadingGamesPlayedAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_LoadingGamesAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadingFriendsPlayingGameAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ToggleShowFrindProfileStatsAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowFriendProfileContentAction__.a((!0),friendId,friendName))],__WEBPACK_IMPORTED_MODULE_22__stores_FriendsActionsStore__.a.getShowAddFriendsTab(this.getState())&&promises.push(this.commonActionsService.hideFriendsDetailsAddContent()),_context.next=15,Promise.all(promises);case 15:return _context.next=17,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 17:return _context.next=19,Promise.all([this.profilesService.loadFriendUserProfiles(friendId),this.connectionsService.loadFriendConnections(friendId),this.metaProgressionProfileService.loadFriendMetaProgression(friendId)]);case 19:return _context.next=21,this.gamesService.loadGamesByUserId(friendId);case 21:if(!__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasGamesPlayed(this.getState())){_context.next=39;break}if(games=__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendGamesPlayed(this.getState()),applicationId=games.length?games[0].applicationId:null,gameId=games.length?games[0].id:null,spaceId=games.length?games[0].spaceId:null,realSpaceId=games.length?__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:gameId,appId:applicationId}):null,gamePlatformCode=games.length?games[0].platformCode:null,gamePlatformType=games.length?games[0].platformType:null,platforms=games.length&&__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[spaceId]?__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[spaceId].map(function(applicationId){return __WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId(_this2.getState())[applicationId]}):[],friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getUserProfileIdByPlatformType(gamePlatformType,__WEBPACK_IMPORTED_MODULE_36__stores_ApplicationsStore__.a.getByAppId(this.getState()),applicationId,realSpaceId,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__selectors__.C)(this.getState(),{friendId:friendId}),friendId),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendGamesCarouselLPGAction__.a(0,gameId,realSpaceId,applicationId,gamePlatformCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendPlatformAction__.a(gameId,realSpaceId,applicationId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_LoadedFriendGamesAction__.a((!0))),!games.length){_context.next=37;break}return _context.next=37,this.loadStats(realSpaceId,friendIdCorrelatedWithPlatform,friendId,gameId,platforms);case 37:_context.next=43;break;case 39:this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_LoadedFriendGamesAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_LoadedFriendsPlayingGame__.a(__WEBPACK_IMPORTED_MODULE_20__stores_FriendsGamesPlayedStore__.a.getFriendsByInstallmentId(this.getState()),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_LoadedGameStatsAction__.a(__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__.a.getIds(this.getState()),{})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_LoadedFriendsStatsAction__.a(__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__.a.getByFriendProfileId(this.getState()),__WEBPACK_IMPORTED_MODULE_18__stores_GameStatsStore__.a.getFriendsExpiration(this.getState())));case 43:case"end":return _context.stop()}},_callee,this)}))}},{key:"onChangePlatform",value:function(gameId,appId,panel){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var spaceId,friendId,friendIdCorrelatedWithPlatform;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=panel,_context2.next=_context2.t0===__WEBPACK_IMPORTED_MODULE_4__entities_OverviewTabDetails__.b.MAIN_VIEW?3:_context2.t0===__WEBPACK_IMPORTED_MODULE_4__entities_OverviewTabDetails__.b.STATS_VIEW?5:7;break;case 3:return this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction",__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getGameNameByGameId(this.getState(),{gameId:gameId})+" : platform : "+__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getPlatformNameByAppId(this.getState(),{appId:appId})),_context2.abrupt("break",8);case 5:return this.analyticsService.trackEvent("friends tab","friend panel : stats","global nav","interaction",__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getGameNameByGameId(this.getState(),{gameId:gameId})+" : game card : stats : platform selector : "+__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getPlatformNameByAppId(this.getState(),{appId:appId})),_context2.abrupt("break",8);case 7:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction",__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getGameNameByGameId(this.getState(),{gameId:gameId})+" : platform : "+__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getPlatformNameByAppId(this.getState(),{appId:appId}));case 8:return spaceId=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:gameId,appId:appId}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendPlatformAction__.a(gameId,spaceId,appId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadingGameStatsAction__.a),friendId=__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState()),friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getUserProfileIdByPlatformType(__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId(this.getState())[appId].type,__WEBPACK_IMPORTED_MODULE_36__stores_ApplicationsStore__.a.getByAppId(this.getState()),appId,spaceId,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__selectors__.C)(this.getState(),{friendId:friendId}),friendId),_context2.next=15,this.gamesService.loadFriendLastPlayedGameStatsCard(__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getByPlatformApplicationId(this.getState())[appId].siblingSpaceId,friendIdCorrelatedWithPlatform,friendId);case 15:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGameImage",value:function(offset,id,spaceId,appId,platformCode){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var realSpaceId,platforms,friendId,friendIdCorrelatedWithPlatform,_this3=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId(this.getState())||__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId(this.getState())!==id||!__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getShowGameContent(this.getState())){_context3.next=2;break}return _context3.abrupt("return");case 2:return realSpaceId=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:id,appId:appId}),this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","friend played games : "+__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getGameNameByGameId(this.getState(),{gameId:id})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendGamesCarouselLPGAction__.a(offset,id,realSpaceId,appId,platformCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendPlatformAction__.a(id,realSpaceId,appId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_LoadingGameStatsAction__.a),platforms=__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[spaceId]?__WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[spaceId].map(function(platformId){return __WEBPACK_IMPORTED_MODULE_32__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId(_this3.getState())[platformId]}):[],friendId=__WEBPACK_IMPORTED_MODULE_15__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState()),friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getUserProfileIdByPlatformType(__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getPlatformTypeByPlatformCode(this.getState(),{platformCode:platformCode}),__WEBPACK_IMPORTED_MODULE_36__stores_ApplicationsStore__.a.getByAppId(this.getState()),appId,realSpaceId,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__selectors__.C)(this.getState(),{friendId:friendId}),friendId),_context3.next=12,this.loadStats(realSpaceId,friendIdCorrelatedWithPlatform,friendId,id,platforms);case 12:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onToggleShowGameStats",value:function(show,_detailsScrollableRef){this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ToggleShowFrindProfileStatsAction__.a(show)),show||this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),show&&(this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","see more stats"),this.analyticsService.trackPage("friends tab","friend panel : stats"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!1))),_detailsScrollableRef&&(__WEBPACK_IMPORTED_MODULE_24__entities_ScrollUpdate__.a<_detailsScrollableRef.getScrollTop()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1)))))}},{key:"onHandleClickRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ChangeFriendToDeleteIdAction__.a(userId));case 2:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onHandleClickCancelRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list : cancel"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ChangeFriendToDeleteIdAction__.a(null));case 2:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onHandleClickConfirmRemove",value:function(userId,friendState){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list : confirmed"),_context6.next=3,this.friendsActionsService.handleDeclineRequest(userId,friendState);case 3:return _context6.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 5:this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ChangeFriendToDeleteIdAction__.a(null));case 6:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"loadStats",value:function(realSpaceId,friendIdCorrelatedWithPlatform,friendId,gameId,platforms){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var promises;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return promises=[this.gamesService.loadFriendLastPlayedGameStatsCard(realSpaceId,friendIdCorrelatedWithPlatform,friendId),this.friendsPlayingGameService.loadFriendsPlayingGame(gameId)],_context7.next=3,Promise.all(promises);case 3:return _context7.next=5,this.gamesService.loadFriendGameStatsCommon(!0,__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getUsersPlayingFriendGameIds(this.getState(),{friendId:friendIdCorrelatedWithPlatform}).concat([__WEBPACK_IMPORTED_MODULE_13__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())]),platforms,__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState()));case 5:case"end":return _context7.stop()}},_callee7,this)}))}}]),FriendProfileService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);FriendProfileService=__decorate([__WEBPACK_IMPORTED_MODULE_37__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_2__GamesService__.a,__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_7__ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_33__FriendsPlayingGameService__.a,__WEBPACK_IMPORTED_MODULE_29__FriendsActionsService__.a,__WEBPACK_IMPORTED_MODULE_35__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_30__modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_38__modules_integrator_communication_services_CommonActionsService__.a])],FriendProfileService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__modules_eventListener_Channel__=__webpack_require__(304);__webpack_require__.d(exports,"a",function(){return GeneralChannelService});var GeneralChannelService=function(_Channel){function GeneralChannelService(origin,target,debug){return _classCallCheck(this,GeneralChannelService),_possibleConstructorReturn(this,(GeneralChannelService.__proto__||Object.getPrototypeOf(GeneralChannelService)).call(this,origin,target,debug))}return _inherits(GeneralChannelService,_Channel),GeneralChannelService}(__WEBPACK_IMPORTED_MODULE_0__modules_eventListener_Channel__.a)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_ToggleShowGameRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(567)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameContentAction__=__webpack_require__(205),__WEBPACK_IMPORTED_MODULE_3__entities_ScrollUpdate__=__webpack_require__(211),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowRewardsHeader__=__webpack_require__(781),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__=__webpack_require__(570),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeSelectedRewardAction__=__webpack_require__(516),__WEBPACK_IMPORTED_MODULE_7__queries_UserRewardsQueries__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_8__RewardsService__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_9__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_11__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RewardsViewService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RewardsViewService=function(_AbstractActions){function RewardsViewService(rewardsService){_classCallCheck(this,RewardsViewService);var _this=_possibleConstructorReturn(this,(RewardsViewService.__proto__||Object.getPrototypeOf(RewardsViewService)).call(this));return _this.rewardsService=rewardsService,_this}return _inherits(RewardsViewService,_AbstractActions),_createClass(RewardsViewService,[{key:"onToggleShowGameRewards",value:function(show,_detailsScrollableRef){show||(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowRewardsHeader__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__.a((!1)))),show&&_detailsScrollableRef&&(__WEBPACK_IMPORTED_MODULE_3__entities_ScrollUpdate__.a<_detailsScrollableRef.getScrollTop()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowRewardsHeader__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowRewardsHeader__.a((!1)))),
this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ToggleShowGameRewardsAction__.a(show)),this.rewardsService.loadFriendsRewards(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__selectors__.a)(this.getState()),__WEBPACK_IMPORTED_MODULE_10__queries_OtherGamesCarouselQueries__.a.getCurrentGameSpaceId(this.getState()))}},{key:"resetComponent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameContentAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_ToggleShowGameRewardsAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeSelectedRewardAction__.a(null,null,0))]);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickReward",value:function(rewardId,spaceId,offset){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeSelectedRewardAction__.a(rewardId,spaceId,offset));case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGoBackFromSelectedReward",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowSingleRewardAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeSelectedRewardAction__.a(null,null,0))}},{key:"onChangeSlide",value:function(offset){this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeSelectedRewardAction__.a(__WEBPACK_IMPORTED_MODULE_7__queries_UserRewardsQueries__.a.getRewardIdByOffset(this.getState(),{offset:offset}),__WEBPACK_IMPORTED_MODULE_7__queries_UserRewardsQueries__.a.getRewardSpaceIdByOffset(this.getState(),{offset:offset}),offset))}},{key:"onClickGetIt",value:function(rewardId,spaceId){this.rewardsService.purchaseReward(rewardId,spaceId)}}]),RewardsViewService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);RewardsViewService=__decorate([__WEBPACK_IMPORTED_MODULE_11__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_8__RewardsService__.a])],RewardsViewService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(519)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(562),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(563),__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_7__stejar_utils__=__webpack_require__(114),__WEBPACK_IMPORTED_MODULE_8__queries_SocialNetworkQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__stejar_utils__),__webpack_require__(612)),__WEBPACK_IMPORTED_MODULE_9__LinkedAccountsService__=__webpack_require__(910),__WEBPACK_IMPORTED_MODULE_10__ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__=__webpack_require__(600),__WEBPACK_IMPORTED_MODULE_12__actions_ErrorLoadingXboxAction__=__webpack_require__(527),__WEBPACK_IMPORTED_MODULE_13__actions_LoadingXboxAction__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingPsnAction__=__webpack_require__(526),__WEBPACK_IMPORTED_MODULE_15__actions_LoadingPsnAction__=__webpack_require__(544),__WEBPACK_IMPORTED_MODULE_16__queries_PsnAccountsQueries__=__webpack_require__(611),__WEBPACK_IMPORTED_MODULE_17__queries_XboxAccountsQueries__=__webpack_require__(614),__WEBPACK_IMPORTED_MODULE_18__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_19__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_20__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_21__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_22__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_23__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_24__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_25__stores_XboxAccountsStore__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_26__stores_PsnAccountsStore__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_27__actions_PsnExpirationAction__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_28__actions_XboxExpirationAction__=__webpack_require__(298),__WEBPACK_IMPORTED_MODULE_29__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return SocialNetworkService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SocialNetworkService=function(_AbstractActions){function SocialNetworkService(linkedAccountsService,profilesService,metaProgressionProfileService,analyticsService){_classCallCheck(this,SocialNetworkService);var _this=_possibleConstructorReturn(this,(SocialNetworkService.__proto__||Object.getPrototypeOf(SocialNetworkService)).call(this));return _this.linkedAccountsService=linkedAccountsService,_this.profilesService=profilesService,_this.metaProgressionProfileService=metaProgressionProfileService,_this.analyticsService=analyticsService,_this}return _inherits(SocialNetworkService,_AbstractActions),_createClass(SocialNetworkService,[{key:"onChangeTab",value:function(tab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return"PSN"===tab&&this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","find on other network : playstation"),"XBOX"===tab&&this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","find on other network : xbox"),tab||(tab="PSN"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__.a(tab)),_context.next=6,this.loadFriends(tab);case 6:case"end":return _context.stop()}},_callee,this)}))}},{key:"onToggleShowMorenPsn",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__.a(toggle))}},{key:"onToggleShowMorenXbox",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__.a(toggle))}},{key:"onClickLinkPsn",value:function(){this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","link with playstation"),this.onLink("PSN","psn","Login with PSN")}},{key:"onClickLinkXbox",value:function(){this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","link with xbox"),this.onLink("XBOX","xbox","Login with Xbox")}},{key:"onLink",value:function(platform,externalLogin,title){var lang=__WEBPACK_IMPORTED_MODULE_22__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState()),env=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getEnv(this.getState());env="dev"==env?"uat":env;var connectUrl=__WEBPACK_IMPORTED_MODULE_19__queries_WidgetQueries__.a.getConnectUrl(this.getState());"PSN"==platform&&(connectUrl+="/psn-external"),"XBOX"==platform&&(connectUrl+="/xbox-external");var appId=__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState()),genomeId=__WEBPACK_IMPORTED_MODULE_6__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.getState()),formerUserId=__WEBPACK_IMPORTED_MODULE_18__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),nextUrl=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).loginNextUrl+"?env="+env+"&appId="+appId+"&genomeId="+genomeId+"&lang="+__WEBPACK_IMPORTED_MODULE_22__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&genomeId="+genomeId+"&lang="+lang+"&nextUrl="+encodeURIComponent(nextUrl);genomeId||(nextUrl=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).loginNextUrl+"?env="+env+"&appId="+appId+"&lang="+__WEBPACK_IMPORTED_MODULE_22__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&lang="+lang+"&nextUrl="+encodeURIComponent(nextUrl)),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__stejar_utils__.popupWindow)(loginUrl,title,500,700)}},{key:"loadXboxFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var xboxAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(__WEBPACK_IMPORTED_MODULE_8__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox(this.getState())){_context2.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 4:if(__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_25__stores_XboxAccountsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_29__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context2.next=6;break}return _context2.abrupt("return");case 6:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LoadingXboxAction__.a((!0))),_context2.prev=7,_context2.next=10,this.linkedAccountsService.loadXboxFriends(offset,limit);case 10:return xboxAccounts=_context2.sent,ids=xboxAccounts.friends.friendList.map(function(friend){return friend.xuid}),_context2.next=14,this.profilesService.getProfilesByPlatformIdsAndPlatformType(ids,__WEBPACK_IMPORTED_MODULE_21__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE);case 14:return userProfiles=_context2.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context2.next=18,Promise.all([this.profilesService.loadFriendsProfilesByIds(userProfilesIds),this.metaProgressionProfileService.loadFriendsMetaProgressions(userProfilesIds)]);case 18:if(0!=offset){_context2.next=23;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_XboxExpirationAction__.a(__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context2.abrupt("return");case 23:if(!(__WEBPACK_IMPORTED_MODULE_17__queries_XboxAccountsQueries__.a.getNbOfXboxFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_17__queries_XboxAccountsQueries__.a.getNbOfXboxFriends(this.getState()))){_context2.next=27;break}return _context2.next=26,this.loadXboxFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.a,__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.a);case 26:return _context2.abrupt("return");case 27:_context2.next=35;break;case 29:return _context2.prev=29,_context2.t0=_context2["catch"](7),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ErrorLoadingXboxAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_XboxExpirationAction__.a(__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context2.abrupt("return");case 35:case"end":return _context2.stop()}},_callee2,this,[[7,29]])}))}},{key:"loadPlayStationFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var psnAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(__WEBPACK_IMPORTED_MODULE_8__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn(this.getState())){_context3.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 4:if(__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_26__stores_PsnAccountsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_29__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context3.next=6;break}return _context3.abrupt("return");case 6:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingPsnAction__.a((!0))),_context3.prev=7,_context3.next=10,this.linkedAccountsService.loadPlayStationFriends(offset,limit);case 10:return psnAccounts=_context3.sent,ids=psnAccounts.friends.friendList.map(function(friend){return friend.onlineId}),_context3.next=14,this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms(ids,__WEBPACK_IMPORTED_MODULE_21__modules_serviceApis_entities_UserProfile__.a.PSN);case 14:return userProfiles=_context3.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context3.next=18,Promise.all([this.profilesService.loadFriendsProfilesByIds(userProfilesIds),this.metaProgressionProfileService.loadFriendsMetaProgressions(userProfilesIds)]);case 18:if(0!=offset){_context3.next=23;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_27__actions_PsnExpirationAction__.a(__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context3.abrupt("return");case 23:if(!(__WEBPACK_IMPORTED_MODULE_16__queries_PsnAccountsQueries__.a.getNbOfPsnFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_16__queries_PsnAccountsQueries__.a.getNbOfPsnFriends(this.getState()))){_context3.next=27;break}return _context3.next=26,this.loadPlayStationFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.b,__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.b);case 26:return _context3.abrupt("return");case 27:_context3.next=35;break;case 29:return _context3.prev=29,_context3.t0=_context3["catch"](7),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingPsnAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_27__actions_PsnExpirationAction__.a(__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context3.abrupt("return");case 35:case"end":return _context3.stop()}},_callee3,this,[[7,29]])}))}},{key:"loadFriends",value:function(tab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:_context4.t0=tab,_context4.next="PSN"===_context4.t0?3:"XBOX"===_context4.t0?6:9;break;case 3:return _context4.next=5,this.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.b);case 5:return _context4.abrupt("break",12);case 6:return _context4.next=8,this.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.a);case 8:return _context4.abrupt("break",12);case 9:return _context4.next=11,this.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_11__entities_LinkedAccounts__.b);case 11:return _context4.abrupt("break",12);case 12:case"end":return _context4.stop()}},_callee4,this)}))}}]),SocialNetworkService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);SocialNetworkService=__decorate([__WEBPACK_IMPORTED_MODULE_24__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_9__LinkedAccountsService__.a,__WEBPACK_IMPORTED_MODULE_10__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_23__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_20__modules_analytics_services_AnalyticsService__.a])],SocialNetworkService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(568)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__=__webpack_require__(513),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsAction__=__webpack_require__(512),__WEBPACK_IMPORTED_MODULE_5__queries_FriendsOwnedGamesQueries__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_6__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(289),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowGameContentAction__=__webpack_require__(205),__WEBPACK_IMPORTED_MODULE_8__entities_ScrollUpdate__=__webpack_require__(211),__WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(207),__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return StatsComparisonService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},StatsComparisonService=function(_AbstractActions){function StatsComparisonService(){return _classCallCheck(this,StatsComparisonService),_possibleConstructorReturn(this,(StatsComparisonService.__proto__||Object.getPrototypeOf(StatsComparisonService)).call(this))}return _inherits(StatsComparisonService,_AbstractActions),_createClass(StatsComparisonService,[{key:"onToggleShowGameStats",value:function(show,_detailsScrollableRef){show||(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsAction__.a(null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))),show&&_detailsScrollableRef&&(__WEBPACK_IMPORTED_MODULE_8__entities_ScrollUpdate__.a<_detailsScrollableRef.getScrollTop()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__.a(show))}},{key:"onToggleShowFriendsSelectorTooltipWarning",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!toggle)))}},{key:"onTypeFriendName",value:function(value){var _this2=this,debounceFunction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.debounce)(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(value))},100);debounceFunction()}},{key:"onChangeFriend",value:function(friendId){var friends=__WEBPACK_IMPORTED_MODULE_5__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGame(this.getState()),friend=friends.find(function(friend){return friend.pid==friendId});friend&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsAction__.a(friendId,friend.nameOnPlatform))}},{key:"resetComponent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowGameContentAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendStatsAction__.a(null,null))]);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}}]),StatsComparisonService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);StatsComparisonService=__decorate([__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__.a,__metadata("design:paramtypes",[])],StatsComparisonService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(3)),__WEBPACK_IMPORTED_MODULE_3__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsAction__=__webpack_require__(197),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__=__webpack_require__(897),__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_10__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_12__MetaProgressionProfileService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_13__ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_14__DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_15__stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_16__ConnectionsService__=__webpack_require__(220),__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_18__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return WebsocketService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},WebsocketService=function(_AbstractActions){function WebsocketService(metaProgressionProfileService,profilesService,connectionsService,debugService){_classCallCheck(this,WebsocketService);
var _this=_possibleConstructorReturn(this,(WebsocketService.__proto__||Object.getPrototypeOf(WebsocketService)).call(this));return _this.metaProgressionProfileService=metaProgressionProfileService,_this.profilesService=profilesService,_this.connectionsService=connectionsService,_this.debugService=debugService,_this}return _inherits(WebsocketService,_AbstractActions),_createClass(WebsocketService,[{key:"start",value:function(data,handleOnFriendAction){var _this2=this;if(this.handleOnFriendAction=handleOnFriendAction,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())&&(!this.socket||this.socket.readyState!==WebSocket.CONNECTING&&this.socket.readyState!==WebSocket.CLOSING)){var notificationTypes=__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getWebsocketNotificationTypes(this.getState()),spaceIds=__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getWebsocketSpaceIds(this.getState()),websocketEndpoint=__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getWebsocketEndpoint(this.getState());if(notificationTypes&&spaceIds&&websocketEndpoint){var queryParams={NotificationTypes:notificationTypes,SpaceIds:spaceIds,"Ubi-AppId":__WEBPACK_IMPORTED_MODULE_3__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState()),"Ubi-SessionId":data.sessionId,Authorization:encodeURIComponent("Ubi_v1 t="+data.ticket)},queryParamsString=Object.keys(queryParams).reduce(function(previousValue,currentValue,currentIndex){return currentIndex?previousValue+"&"+currentValue+"="+queryParams[currentValue]:""+previousValue+currentValue+"="+queryParams[currentValue]},"?"),webSocketUrl=websocketEndpoint+"/v2/websocket"+queryParamsString;return this.socket&&this.socket.url===webSocketUrl?void this.debugService.warn("Trying to open same socket connection"):this.socket&&this.socket.url!==webSocketUrl?(this.socket.onclose=function(){_this2.debugService.log("old socket.onclose"),_this2.socket=null,_this2.openNewSocketConnection(webSocketUrl)},void this.socket.close()):void this.openNewSocketConnection(webSocketUrl)}}}},{key:"close",value:function(){this.socket&&this.socket.readyState!==WebSocket.CLOSED&&this.socket.readyState!==WebSocket.CLOSING&&this.socket.close()}},{key:"openNewSocketConnection",value:function(webSocketUrl){var _this3=this;try{this.socket=new WebSocket(webSocketUrl),this.socket.onopen=function(event){_this3.debugService.log("socket.onopen"),_this3.debugService.log(event)},this.socket.onerror=function(error){_this3.debugService.error("socket.onerror"),_this3.debugService.error(error)},this.socket.onmessage=function(event){_this3.onSuccess(event)},this.socket.onclose=function(event){_this3.debugService.log("socket.onclose"),_this3.debugService.log(event),_this3.socket=null}}catch(error){console.error(error)}}},{key:"onSuccess",value:function(event){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var data,friendId,friends,friend,userId,promises,metaProgressionProfile,userProfiles,_this4=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(event.data){_context.next=2;break}return _context.abrupt("return");case 2:if(_context.prev=2,data=JSON.parse(event.data),data.content){_context.next=6;break}return _context.abrupt("return");case 6:friendId="",_context.t0=data.notificationType,_context.next=_context.t0===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__.a.FRIENDS_INFO_UPDATED?10:_context.t0===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__.a.FRIENDS_RELATIONSHIP_TRIGGER?10:_context.t0===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__.a.FRIENDS_RELATIONSHIP_UPDATE?12:14;break;case 10:return friendId=data.content.friendProfileId||"",_context.abrupt("break",14);case 12:return friendId=data.content.fromProfileId||"",_context.abrupt("break",14);case 14:if(friendId){_context.next=16;break}return _context.abrupt("return");case 16:if((friendId!==__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__.a.getCurrentUserId(this.getState())||data.content.action===__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__.b.INVITE_RECEIVED)&&friendId!==__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__.a.getCurrentDeclineUserId(this.getState())){_context.next=19;break}return this.handleOnFriendAction&&this.handleOnFriendAction(friendId,data.content.state||__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP),_context.abrupt("return");case 19:if(friendId!==__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__.a.getCurrentUserId(this.getState())||data.content.action!==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Notifications__.b.INVITE_RECEIVED){_context.next=22;break}return _context.next=22,new Promise(function(resolve){return setTimeout(function(){return resolve()},3e3)});case 22:if(friends=__assign({},__WEBPACK_IMPORTED_MODULE_6__stores_FriendsStore__.a.getByIds(this.state)),friend={pid:friendId,nickname:"",isFavorite:!1,lastModified:data.content.lastModified?__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(data.content.lastModified).format("YYYY-MM-DDTHH:mm:ss.SSSS"):__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP,stillInRequests:!1},friends[friendId]&&(friend=friends[friendId]),friends[friendId]=__assign({},friend,{state:data.content.state||__WEBPACK_IMPORTED_MODULE_9__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP}),userId=__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_LoadedFriendsAction__.a(friends,[friendId],_defineProperty({},userId,[friendId]),_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),this.handleOnFriendAction&&this.handleOnFriendAction(friendId,friends[friendId].state),promises=[],metaProgressionProfile=__WEBPACK_IMPORTED_MODULE_10__stores_MetaProgressionProfileStore__.a.getById(this.getState()),userProfiles=__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getById(this.getState()),metaProgressionProfile[friendId]&&!__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_10__stores_MetaProgressionProfileStore__.a.getExpiration(this.getState())[friendId],__WEBPACK_IMPORTED_MODULE_18__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)||promises.push(this.metaProgressionProfileService.loadFriendMetaProgression(friendId)),userProfiles[friendId]&&!__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getExpiration(this.getState())[friendId],__WEBPACK_IMPORTED_MODULE_18__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)||promises.push(this.profilesService.loadFriendUserProfiles(friendId)),promises.length){_context.next=36;break}return _context.abrupt("return");case 36:Promise.all(promises).then(function(){var connections=__WEBPACK_IMPORTED_MODULE_15__stores_ConnectionsStore__.a.getByProfileId(_this4.getState());return!connections[friendId]||__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_15__stores_ConnectionsStore__.a.getExpiration(_this4.getState())[friendId],__WEBPACK_IMPORTED_MODULE_18__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)?_this4.connectionsService.loadFriendConnections(friendId):Promise.resolve()}),_context.next=42;break;case 39:_context.prev=39,_context.t1=_context["catch"](2),console.error(_context.t1);case 42:case"end":return _context.stop()}},_callee,this,[[2,39]])}))}}]),WebsocketService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);WebsocketService=__decorate([__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_12__MetaProgressionProfileService__.a,__WEBPACK_IMPORTED_MODULE_13__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_16__ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_14__DebugService__.a])],WebsocketService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadingAddFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(277)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeAddFriendStateAction__=__webpack_require__(508),__WEBPACK_IMPORTED_MODULE_5_app_actions_ShowNotFoundFriendAction__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return AddFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AddFriendStore=function(_ReducerStore){function AddFriendStore(){_classCallCheck(this,AddFriendStore);var _this=_possibleConstructorReturn(this,(AddFriendStore.__proto__||Object.getPrototypeOf(AddFriendStore)).call(this));return _this.bind(null,function(){return{userNameToSearch:null,isLoading:!1,showNotFoundFriend:!1,friendsSate:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadingAddFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedAddFriendsStatAction__.a.name,_this.handleLoadedFriendsSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_ChangeAddFriendStateAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_ShowNotFoundFriendAction__.a.name,_this.handleShowNotFoundFriendAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(AddFriendStore,_ReducerStore),_createClass(AddFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToSearch:null,isLoading:!1,showNotFoundFriend:!1,friendsSate:{}}}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{userNameToSearch:action.userName,isLoading:action.isLoading})}},{key:"handleShowNotFoundFriendAction",value:function(state,action){return Object.assign({},state,{showNotFoundFriend:action.show})}},{key:"handleLoadedFriendsSateAction",value:function(state,action){return Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,action.friendsSate)})}},{key:"handleChangeFriendSateAction",value:function(state,action){var friendsSate=Object.assign({},state.friendsSate);return friendsSate[action.pid]=action.state,Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,friendsSate)})}}]),AddFriendStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);AddFriendStore.getState=function(state){return state.AddFriendStore},AddFriendStore.getUserNameToSearch=function(state){return state.AddFriendStore.userNameToSearch},AddFriendStore.getFriendsSate=function(state){return state.AddFriendStore.friendsSate},AddFriendStore.getIsLoading=function(state){return state.AddFriendStore.isLoading},AddFriendStore.getShowNotFoundFriend=function(state){return state.AddFriendStore.showNotFoundFriend},AddFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[])],AddFriendStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeLPGPlatformAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(194)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ChangePlatformStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ChangePlatformStore=function(_ReducerStore){function ChangePlatformStore(){_classCallCheck(this,ChangePlatformStore);var _this=_possibleConstructorReturn(this,(ChangePlatformStore.__proto__||Object.getPrototypeOf(ChangePlatformStore)).call(this));return _this.bind(null,function(){return{selectedSpaceAppByGameId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeLPGPlatformAction__.a.name,_this.handleChangedPlatfrom),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ChangePlatformStore,_ReducerStore),_createClass(ChangePlatformStore,[{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state,{selectedSpaceAppByGameId:{}})}},{key:"handleChangedPlatfrom",value:function(state,action){return __assign({},state,{selectedSpaceAppByGameId:__assign({},state.selectedSpaceAppByGameId,_defineProperty({},action.gameId,{spaceId:action.spaceId,appId:action.appId}))})}}]),ChangePlatformStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);ChangePlatformStore.getState=function(state){return state.ChangePlatformStore},ChangePlatformStore.getSelectedSpaceAppByGameId=function(state){return state.ChangePlatformStore.selectedSpaceAppByGameId},ChangePlatformStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],ChangePlatformStore)},function(module,exports,__webpack_require__){"use strict";function getCookie(cookieName){for(var name=cookieName+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i+=1){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(c.indexOf(name)!==-1)return c.substring(name.length,c.length)}return""}exports.a=getCookie},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return AvatarGalleryFailedAction});var AvatarGalleryFailedAction=function AvatarGalleryFailedAction(toggle){_classCallCheck(this,AvatarGalleryFailedAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return BootedWidgetAction});var BootedWidgetAction=function BootedWidgetAction(){_classCallCheck(this,BootedWidgetAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAddFriendStateAction});var ChangeAddFriendStateAction=function ChangeAddFriendStateAction(pid,state){_classCallCheck(this,ChangeAddFriendStateAction),this.pid=pid,this.state=state}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarGameAction});var ChangeAvatarGameAction=function ChangeAvatarGameAction(gameCode){_classCallCheck(this,ChangeAvatarGameAction),this.gameCode=gameCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarInputValueAction});var ChangeAvatarInputValueAction=function ChangeAvatarInputValueAction(input){_classCallCheck(this,ChangeAvatarInputValueAction),this.input=input}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFilterFriendsByNameAction});var ChangeFilterFriendsByNameAction=function ChangeFilterFriendsByNameAction(userNameToFilterBy){_classCallCheck(this,ChangeFilterFriendsByNameAction),this.userNameToFilterBy=userNameToFilterBy}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStatsAction});var ChangeFriendStatsAction=function ChangeFriendStatsAction(selectedFriendId,selectedFriendName){_classCallCheck(this,ChangeFriendStatsAction),this.selectedFriendId=selectedFriendId,this.selectedFriendName=selectedFriendName}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStatsInputValueAction});var ChangeFriendStatsInputValueAction=function ChangeFriendStatsInputValueAction(input){_classCallCheck(this,ChangeFriendStatsInputValueAction),this.input=input}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendToDeleteIdAction});var ChangeFriendToDeleteIdAction=function ChangeFriendToDeleteIdAction(currentFriendId){_classCallCheck(this,ChangeFriendToDeleteIdAction),this.currentFriendId=currentFriendId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeLastPlayedGameAction});var ChangeLastPlayedGameAction=function ChangeLastPlayedGameAction(installmentId){_classCallCheck(this,ChangeLastPlayedGameAction),this.installmentId=installmentId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeSelectedRewardAction});var ChangeSelectedRewardAction=function ChangeSelectedRewardAction(rewardId,spaceId,offset){_classCallCheck(this,ChangeSelectedRewardAction),this.rewardId=rewardId,this.spaceId=spaceId,this.offset=offset}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendInvitationsAction});var ChangeShowFriendInvitationsAction=function ChangeShowFriendInvitationsAction(toggle){_classCallCheck(this,ChangeShowFriendInvitationsAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendRequestsAction});var ChangeShowFriendRequestsAction=function ChangeShowFriendRequestsAction(toggle){_classCallCheck(this,ChangeShowFriendRequestsAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeSocialNetworkTabAction});var ChangeSocialNetworkTabAction=function ChangeSocialNetworkTabAction(tab){_classCallCheck(this,ChangeSocialNetworkTabAction),this.tab=tab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameErrorAction});var ChangeUserNameErrorAction=function ChangeUserNameErrorAction(hasError){_classCallCheck(this,ChangeUserNameErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameErrorTypeAction});var ChangeUserNameErrorTypeAction=function ChangeUserNameErrorTypeAction(errorType){_classCallCheck(this,ChangeUserNameErrorTypeAction),this.errorType=errorType}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CharacterErrorAction});var CharacterErrorAction=function CharacterErrorAction(start){_classCallCheck(this,CharacterErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CheckIntervalAction});var CheckIntervalAction=function CheckIntervalAction(){_classCallCheck(this,CheckIntervalAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CompanyErrorAction});var CompanyErrorAction=function CompanyErrorAction(start){_classCallCheck(this,CompanyErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ConnectLoginUrlAction});var ConnectLoginUrlAction=function ConnectLoginUrlAction(loginUrl,connectUrl){_classCallCheck(this,ConnectLoginUrlAction),this.loginUrl=loginUrl,this.connectUrl=connectUrl}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingPsnAction});var ErrorLoadingPsnAction=function ErrorLoadingPsnAction(error){_classCallCheck(this,ErrorLoadingPsnAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingXboxAction});var ErrorLoadingXboxAction=function ErrorLoadingXboxAction(error){_classCallCheck(this,ErrorLoadingXboxAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideFriendsActivityAction});var HideFriendsActivityAction=function HideFriendsActivityAction(){_classCallCheck(this,HideFriendsActivityAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideMobileTabsAction});var HideMobileTabsAction=function HideMobileTabsAction(){_classCallCheck(this,HideMobileTabsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideNotificationsPanelAction});var HideNotificationsPanelAction=function HideNotificationsPanelAction(){_classCallCheck(this,HideNotificationsPanelAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedEnvAction});var LoadedEnvAction=function LoadedEnvAction(env){_classCallCheck(this,LoadedEnvAction),this.env=env}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendGamesAction});var LoadedFriendGamesAction=function LoadedFriendGamesAction(loading){_classCallCheck(this,LoadedFriendGamesAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsRewardsAction});var LoadedFriendsRewardsAction=function LoadedFriendsRewardsAction(profilesRewardsById,profileIdsByRewardId,byProfileId,expiration,loadedFriendsRewards){_classCallCheck(this,LoadedFriendsRewardsAction),this.profilesRewardsById=profilesRewardsById,this.profileIdsByRewardId=profileIdsByRewardId,this.byProfileId=byProfileId,this.expiration=expiration,this.loadedFriendsRewards=loadedFriendsRewards}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedIpLocationAction});var LoadedIpLocationAction=function LoadedIpLocationAction(byIp,byProfileId){
_classCallCheck(this,LoadedIpLocationAction),this.byIp=byIp,this.byProfileId=byProfileId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMetaProgressionProfileAction});var LoadedMetaProgressionProfileAction=function LoadedMetaProgressionProfileAction(byId,hasProfileCallError,expiration,loaded){_classCallCheck(this,LoadedMetaProgressionProfileAction),this.byId=byId,this.hasProfileCallError=hasProfileCallError,this.expiration=expiration,this.loaded=loaded}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPsnFriendsAction});var LoadedPsnFriendsAction=function LoadedPsnFriendsAction(psnFriends){_classCallCheck(this,LoadedPsnFriendsAction),this.psnFriends=psnFriends}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedSpacesAction});var LoadedSpacesAction=function LoadedSpacesAction(bySpaceId,expirations){_classCallCheck(this,LoadedSpacesAction),this.bySpaceId=bySpaceId,this.expirations=expirations}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedTwoFactorAuthStatusAction});var LoadedTwoFactorAuthStatusAction=function LoadedTwoFactorAuthStatusAction(active,optin){_classCallCheck(this,LoadedTwoFactorAuthStatusAction),this.active=active,this.optin=optin}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedXboxFriendsAction});var LoadedXboxFriendsAction=function LoadedXboxFriendsAction(xboxFriends){_classCallCheck(this,LoadedXboxFriendsAction),this.xboxFriends=xboxFriends}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingApplicationsAction});var LoadingApplicationsAction=function LoadingApplicationsAction(){_classCallCheck(this,LoadingApplicationsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingAvatarsAction});var LoadingAvatarsAction=function LoadingAvatarsAction(){_classCallCheck(this,LoadingAvatarsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingFriendsPlayingGameAction});var LoadingFriendsPlayingGameAction=function LoadingFriendsPlayingGameAction(){_classCallCheck(this,LoadingFriendsPlayingGameAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGamesPlayedAction});var LoadingGamesPlayedAction=function LoadingGamesPlayedAction(){_classCallCheck(this,LoadingGamesPlayedAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingPsnAction});var LoadingPsnAction=function LoadingPsnAction(loading){_classCallCheck(this,LoadingPsnAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingUbisoftGamesAction});var LoadingUbisoftGamesAction=function LoadingUbisoftGamesAction(loading){_classCallCheck(this,LoadingUbisoftGamesAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingXboxAction});var LoadingXboxAction=function LoadingXboxAction(loading){_classCallCheck(this,LoadingXboxAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return OverlayCloseAction});var OverlayCloseAction=function OverlayCloseAction(){_classCallCheck(this,OverlayCloseAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return OverlayOpenAction});var OverlayOpenAction=function OverlayOpenAction(){_classCallCheck(this,OverlayOpenAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return PageLoaderAction});var PageLoaderAction=function PageLoaderAction(show,display){_classCallCheck(this,PageLoaderAction),this.show=show,this.display=display}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return PurchaseRewardAction});var PurchaseRewardAction=function PurchaseRewardAction(rewardId,showApiLoader,showMessageAfterPurchase,hasApiError){_classCallCheck(this,PurchaseRewardAction),this.rewardId=rewardId,this.showApiLoader=showApiLoader,this.showMessageAfterPurchase=showMessageAfterPurchase,this.hasApiError=hasApiError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetAction});var ResizeWidgetAction=function ResizeWidgetAction(isInMobileView){_classCallCheck(this,ResizeWidgetAction),this.isInMobileView=isInMobileView}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWindowInnerHeightAction});var ResizeWindowInnerHeightAction=function ResizeWindowInnerHeightAction(windowInnerHeight){_classCallCheck(this,ResizeWindowInnerHeightAction),this.windowInnerHeight=windowInnerHeight}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SetParentUrlAction});var SetParentUrlAction=function SetParentUrlAction(parentUrl){_classCallCheck(this,SetParentUrlAction),this.parentUrl=parentUrl}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SetSsoIdAction});var SetSsoIdAction=function SetSsoIdAction(ssoId){_classCallCheck(this,SetSsoIdAction),this.ssoId=ssoId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowDetailsViewAction});var ShowDetailsViewAction=function ShowDetailsViewAction(toggle){_classCallCheck(this,ShowDetailsViewAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowFriendsActivityAction});var ShowFriendsActivityAction=function ShowFriendsActivityAction(){_classCallCheck(this,ShowFriendsActivityAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowMobileTabsAction});var ShowMobileTabsAction=function ShowMobileTabsAction(){_classCallCheck(this,ShowMobileTabsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowNotificationsPanelAction});var ShowNotificationsPanelAction=function ShowNotificationsPanelAction(){_classCallCheck(this,ShowNotificationsPanelAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return StartErrorAction});var StartErrorAction=function StartErrorAction(start){_classCallCheck(this,StartErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return StartedPanelFlowAction});var StartedPanelFlowAction=function StartedPanelFlowAction(startedPanelFlow){_classCallCheck(this,StartedPanelFlowAction),this.startedPanelFlow=startedPanelFlow}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ThirdPartyCookiesSupportAction});var ThirdPartyCookiesSupportAction=function ThirdPartyCookiesSupportAction(thirdPartyCookiesSupport){_classCallCheck(this,ThirdPartyCookiesSupportAction),this.thirdPartyCookiesSupport=thirdPartyCookiesSupport}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnPsnAction});var ToggleMoreFriendsOnPsnAction=function ToggleMoreFriendsOnPsnAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnPsnAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnXboxAction});var ToggleMoreFriendsOnXboxAction=function ToggleMoreFriendsOnXboxAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnXboxAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleOnClickActiveMenuAction});var ToggleOnClickActiveMenuAction=function ToggleOnClickActiveMenuAction(active){_classCallCheck(this,ToggleOnClickActiveMenuAction),this.active=active}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarRulesAction});var ToggleShowAvatarRulesAction=function ToggleShowAvatarRulesAction(toggle){_classCallCheck(this,ToggleShowAvatarRulesAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarSelectorAction});var ToggleShowAvatarSelectorAction=function ToggleShowAvatarSelectorAction(toggle){_classCallCheck(this,ToggleShowAvatarSelectorAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowGameRewardsAction});var ToggleShowGameRewardsAction=function ToggleShowGameRewardsAction(show){_classCallCheck(this,ToggleShowGameRewardsAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowGameStatsAction});var ToggleShowGameStatsAction=function ToggleShowGameStatsAction(show){_classCallCheck(this,ToggleShowGameStatsAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowMobileViewOnDesktopAction});var ToggleShowMobileViewOnDesktopAction=function ToggleShowMobileViewOnDesktopAction(showMobileViewOnDesktop){_classCallCheck(this,ToggleShowMobileViewOnDesktopAction),this.showMobileViewOnDesktop=showMobileViewOnDesktop}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowSingleRewardAction});var ToggleShowSingleRewardAction=function ToggleShowSingleRewardAction(show){_classCallCheck(this,ToggleShowSingleRewardAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleStopAvatarEventPropagationAction});var ToggleStopAvatarEventPropagationAction=function ToggleStopAvatarEventPropagationAction(toggle){_classCallCheck(this,ToggleStopAvatarEventPropagationAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UpdateExpirationMetaProgressionProfileAction});var UpdateExpirationMetaProgressionProfileAction=function UpdateExpirationMetaProgressionProfileAction(oldKey){_classCallCheck(this,UpdateExpirationMetaProgressionProfileAction),this.oldKey=oldKey}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UploadImageAction});var UploadImageAction=function UploadImageAction(hasUploadError,hasFileTypeError,hasImageSizeError,hasImageError,hasServiceError,file){_classCallCheck(this,UploadImageAction),this.hasUploadError=hasUploadError,this.hasFileTypeError=hasFileTypeError,this.hasImageSizeError=hasImageSizeError,this.hasImageError=hasImageError,this.hasServiceError=hasServiceError,this.file=file}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorAvailableAction});var UserNameErrorAvailableAction=function UserNameErrorAvailableAction(hasError){_classCallCheck(this,UserNameErrorAvailableAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorGeneralAction});var UserNameErrorGeneralAction=function UserNameErrorGeneralAction(hasError){_classCallCheck(this,UserNameErrorGeneralAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorLocalizedAction});var UserNameErrorLocalizedAction=function UserNameErrorLocalizedAction(hasError){_classCallCheck(this,UserNameErrorLocalizedAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorRequiredAction});var UserNameErrorRequiredAction=function UserNameErrorRequiredAction(hasError){_classCallCheck(this,UserNameErrorRequiredAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorRestrictedAction});var UserNameErrorRestrictedAction=function UserNameErrorRestrictedAction(hasError){_classCallCheck(this,UserNameErrorRestrictedAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorTimeLimitAction});var UserNameErrorTimeLimitAction=function UserNameErrorTimeLimitAction(hasError){_classCallCheck(this,UserNameErrorTimeLimitAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameLengthErrorAction});var UserNameLengthErrorAction=function UserNameLengthErrorAction(hasError){_classCallCheck(this,UserNameLengthErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameUbisoftErrorAction});var UserNameUbisoftErrorAction=function UserNameUbisoftErrorAction(hasError){_classCallCheck(this,UserNameUbisoftErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ValidationCallAction});var ValidationCallAction=function ValidationCallAction(start){_classCallCheck(this,ValidationCallAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ValidationErrorCodeAction});var ValidationErrorCodeAction=function ValidationErrorCodeAction(error,hasError){_classCallCheck(this,ValidationErrorCodeAction),this.error=error,this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function AvatarsConfirmationContainerView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("avatars-confirmation-container in-back load-element",{"always-display":props.alwaysDisplay,positioned:props.isPositionedAbsolute||props.isPositionedFixed,"positioned-absolute":props.isPositionedAbsolute,"positioned-fixed":props.isPositionedFixed})},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("in-back load-element",{"in":!props.loadedAvatar})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Overlay_views_LoaderView__.a,{loaded:props.loadedAvatar}),props.loadedAvatar?React.createElement("div",{className:"btns-container"},React.createElement("div",{className:"btn secondary latPadding",onClick:props.onClickCancelSaveAvatar.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Cancel")),React.createElement("div",{className:"btn primary latPadding",onClick:props.onClickSaveAvatar.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Save"))):null))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=AvatarsConfirmationContainerView},function(module,exports,__webpack_require__){"use strict";function IsMyAvatarBanedView(){return React.createElement("div",{className:"avatar-baned-view"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{termsOfUse:React.createElement("a",{className:"notification-link",href:"https://support.ubi.com/en-GB/Faqs/000027307/Avatar-Ubisoft-Club-banni",target:"_blank"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Terms of Use"))},"Your avatar has been rejected because it does not comply with our %(termsOfUse). If it happens a second time, you will not be allowed to upload your own avatar anymore, and will have to pick one from our gallery."),"",React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{customerSupport:React.createElement("a",{className:"notification-link",href:"https://support.ubi.com/",target:"_blank"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Customer Support"))},"For more information, please contact the %(customerSupport)."))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7);exports.a=IsMyAvatarBanedView},function(module,exports,__webpack_require__){"use strict";function IsUserBanedView(){return React.createElement("div",{className:"user-baned-view"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Too many of your avatars have been rejected. You can not upload your own avatar anymore but you can still pick one from our gallery."),React.createElement("br",null),React.createElement("br",null),React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{termsOfUse:React.createElement("a",{className:"notification-link",href:"https://support.ubi.com/en-GB/Faqs/000027307/Avatar-Ubisoft-Club-banni",target:"_blank"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Terms of Use")),customerSupport:React.createElement("a",{className:"notification-link",href:"https://support.ubi.com/",target:"_blank"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Customer Support"))},"Please see our %(termsOfUse) for more information. If you have any questions, please contact the %(customerSupport)."))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7);exports.a=IsUserBanedView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2_swiper__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(1525));__webpack_require__.d(exports,"a",function(){return CarosuelView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CarosuelView=function(_PureComponent){function CarosuelView(){_classCallCheck(this,CarosuelView);var _this=_possibleConstructorReturn(this,(CarosuelView.__proto__||Object.getPrototypeOf(CarosuelView)).apply(this,arguments));return _this.swiper=null,_this}return _inherits(CarosuelView,_PureComponent),_createClass(CarosuelView,[{key:"render",value:function(){var hiddenPaginationStyle=this.props.hideNavigationAndPagination?{visibility:"hidden",opacity:0,height:"0px"}:{width:"96px"},hiddenNavigationStyle=this.props.hideNavigationAndPagination?{visibility:"hidden",opacity:0,height:"0px"}:{},hiddenContainerStyle=this.props.hideNavigationAndPagination?{paddingBottom:"1.5rem"}:{};return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("swiper-container",this.props.className),style:hiddenContainerStyle},React.createElement("div",{className:"swiper-wrapper"},this.props.children),React.createElement("div",{className:"swiper-pagination swiper-pagination-custom",style:hiddenPaginationStyle}),React.createElement("div",{className:"swiper-button-first",style:hiddenNavigationStyle,onClick:this.handleOnClickSlideToFirst.bind(null)}),React.createElement("div",{className:"swiper-button-prev",style:hiddenNavigationStyle,onClick:this.handleOnClickSlidePrev.bind(this)}),React.createElement("div",{className:"swiper-button-next",style:hiddenNavigationStyle,onClick:this.handleOnClickSlideNext.bind(this)}),React.createElement("div",{className:"swiper-button-last",style:hiddenNavigationStyle,onClick:this.handleOnClickSlideToLast.bind(null)}))}},{key:"componentDidMount",value:function(){__WEBPACK_IMPORTED_MODULE_2_swiper__.a.use([__WEBPACK_IMPORTED_MODULE_2_swiper__.b,__WEBPACK_IMPORTED_MODULE_2_swiper__.c,__WEBPACK_IMPORTED_MODULE_2_swiper__.d,__WEBPACK_IMPORTED_MODULE_2_swiper__.e]),this.initSwiper()}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.destroy&&(this.swiper.destroy(),this.swiper=null)}},{key:"handleOnClickSlidePrev",value:function(){this.swiper&&this.props.onSlidePrev&&this.props.onSlidePrev()}},{key:"handleOnClickSlideNext",value:function(){this.swiper&&this.props.onSlideNext&&this.props.onSlideNext()}},{key:"handleOnClickSlideToFirst",value:function(){this.swiper&&this.swiper.slideTo&&(this.swiper.slideTo(0),this.props.onSlideToFirst&&this.props.onSlideToFirst())}},{key:"handleOnClickSlideToLast",value:function(){this.props.children&&this.props.children.length&&this.swiper&&this.swiper.slideTo&&(this.swiper.slideTo(this.props.children.length-1),this.props.onSlideToLast&&this.props.onSlideToLast())}},{key:"initSwiper",value:function(){var _this2=this;this.swiper=new __WEBPACK_IMPORTED_MODULE_2_swiper__.a(".swiper-container."+this.props.className,{spaceBetween:10|this.props.spaceBetween,autoHeight:this.props.autoHeight||!0,slidesPerView:1|this.props.slidesPerView,slidesPerGroup:1|this.props.slidesPerGroup,slidesPerColumn:1|this.props.slidesPerColumn,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",hideOnClick:!1,clickable:!0},breakpoints:{640:{spaceBetween:20|this.props.spaceBetween},1024:{spaceBetween:10|this.props.spaceBetween}},initialSlide:null!==this.props.initialSlide&&void 0!==this.props.initialSlide?this.props.initialSlide:0,keyboard:{enabled:null!==this.props.initialSlide&&void 0!==this.props.initialSlide&&this.props.keyboardEnabled},preloadImages:!1,lazy:!0}),this.props.onChangeSlide&&this.swiper.on("slideChange",function(swiper){swiper&&_this2.props.onChangeSlide(swiper.realIndex)}),this.props.onSwipeCallback&&(this.swiper.on("touchStart",function(swiper,event){swiper&&_this2.props.onSwipeCallback(!0)}),this.swiper.on("touchEnd",function(swiper,event){swiper&&_this2.props.onSwipeCallback(!1)}),this.swiper.on("transitionEnd",function(swiper,event){swiper&&_this2.props.onSwipeCallback(!1)})),this.props.setSwiper&&this.props.setSwiper(this.swiper),this.swiper.on("paginationUpdate",function(swiper){var index=null,maxBullets=6*Math.floor(swiper.pagination.bullets.length/6);swiper.pagination.bullets.forEach(function(element,offset){element.classList.contains("swiper-pagination-bullet-active")&&(index=offset)}),(null===index||index<=5)&&swiper.pagination.bullets.forEach(function(element,offset){swiper.pagination.bullets[offset].style.left="0px"}),null!==index&&index>5&&index<maxBullets&&swiper.pagination.bullets.forEach(function(element,offset){swiper.pagination.bullets[offset].style.left="-"+6*Math.floor(index/6)*16+"px"}),null!==index&&index>=maxBullets&&swiper.pagination.bullets.forEach(function(element,offset){swiper.pagination.bullets[offset].style.left="-"+(6*(Math.floor(index/6)-1)*16+16*(swiper.pagination.bullets.length-maxBullets))+"px";
})})}}]),CarosuelView}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function DeclineRequestView(props){return props.showDeclineState?React.createElement("div",{className:"decline-request-container"},props.friendState===__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE?React.createElement("div",{className:"decline-request-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Decline this request?")):null,props.friendState===__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE?React.createElement("div",{className:"decline-request-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Cancel this request ?")):null,React.createElement("div",{className:"decline-request-btn-container"},React.createElement("div",{className:"btn secondary",onClick:props.onClickCancelDeclineRequest.bind(null,props.userId)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"No")),React.createElement("div",{className:"btn primary",onClick:props.onClickConfirmDeclineRequest.bind(null,props.userId,props.friendState)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Yes")))):null}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__=__webpack_require__(46);exports.a=DeclineRequestView},function(module,exports,__webpack_require__){"use strict";function FriendActionStateView(props){return React.createElement("div",{className:"friend-action-state"},props.friendState!=__WEBPACK_IMPORTED_MODULE_0__modules_serviceApis_entities_Friend__.a.FRIENDS||props.isRightAfterLoad?null:React.createElement("div",{className:"friends"},React.createElement("i",{className:"icon-accepted"}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You are already friends")),props.pid==props.currentFriendInvitationId&&props.isRightAfterLoad&&props.isAcceptedState?React.createElement("div",{className:"accepted"},React.createElement("i",{className:"icon-accepted"}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Invitation accepted")):null,props.pid==props.currentFriendInvitationId&&props.isRightAfterLoad&&props.isCanceledState?React.createElement("div",{className:"declined"},React.createElement("i",{className:"icon-declined"}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Invitation canceled")):null,props.pid==props.currentFriendInvitationId&&props.isRightAfterLoad&&props.isDeclinedState?React.createElement("div",{className:"declined"},React.createElement("i",{className:"icon-declined"}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Invitation declined")):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7);exports.a=FriendActionStateView},function(module,exports,__webpack_require__){"use strict";function OnlineStatusView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("column status","offline",{playing:props.isCurrentlyPlayingAGame,online:props.isOnline})},props.isCurrentlyPlayingAGame?React.createElement("div",{className:"row_status-title"},React.createElement("span",{className:"status-icon"},React.createElement("i",{className:"icon-away1"})),React.createElement("span",{className:"status-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Currently playing"))):props.isOnline&&!props.isCurrentlyPlayingAGame?React.createElement("div",{className:"row_status-title"},React.createElement("span",{className:"status-icon"}),React.createElement("span",{className:"status-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Online"))):React.createElement("div",{className:"row_status-title"},React.createElement("span",{className:"status-icon-container"},React.createElement("span",{className:"icon-inner"})),React.createElement("span",{className:"status-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Offline"))))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7);exports.a=OnlineStatusView},function(module,exports,__webpack_require__){"use strict";function ShowListLinkView(props){return React.createElement("div",null,props.showMoreLink&&props.nbFriend>2?React.createElement("div",{className:"show-list-link show-more"},React.createElement("a",{className:"link arrow right",onClick:props.onClickToggleShowMore.bind(null,!1)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{value:props.nbFriend-2},"%(value) more"),React.createElement("i",{className:"icon-angle-down"}))):null,props.showLessLink&&props.nbFriend>2?React.createElement("div",{className:"show-list-link show-less"},React.createElement("a",{className:"link arrow right",onClick:props.onClickToggleShowMore.bind(null,!0)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"View less"),React.createElement("i",{className:"icon-angle-down"}))):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7);exports.a=ShowListLinkView},function(module,exports,__webpack_require__){"use strict";function GameView(props){var style=props.lastPlayedGameCoverUrl?{background:'url("'+props.lastPlayedGameCoverUrl+'")'}:null;return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("selected-content-view selected-game-top-view",{"is-friend":props.isFriendGame})},props.isFriendGame?null:React.createElement("div",{className:"selected-game-formated-date mobile"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__.a,{gameDate:props.gameDate,gameTitle:props.gameTitle,hasNoSessionData:props.hasNoSessionData,showGameTitle:!0})),React.createElement("div",{className:"selected-game-img"},props.gameImageUrl?React.createElement("img",{src:props.gameImageUrl}):null,props.gameImageUrl?null:React.createElement("div",{className:"other-game-no-image"})),React.createElement("div",{className:"selected-game-details"},props.isFriendGame?null:React.createElement("div",{className:"selected-game-formated-date desktop"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__.a,{gameDate:props.gameDate,gameTitle:props.gameTitle,hasNoSessionData:props.hasNoSessionData,showGameTitle:!1})),React.createElement("div",{className:"selected-game-name-and-platform"},props.isInMobileView&&props.hasNoSessionData&&!props.isFriendGame?null:React.createElement("div",{className:"selected-game-name"},props.gameTitle),React.createElement(__WEBPACK_IMPORTED_MODULE_1__Platform_views_PlatformsSelectorView__.a,{lastPlayedGameId:props.gameId,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,onChangePlatform:props.onChangePlatform,loadedLastPlayedGame:props.loadedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:props.hasOwnedPlatforms,hasOnlyOnePlatform:props.hasOnlyOnePlatform})),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("selected-game-friends in-back load-element",{"in":!props.loadedFriends})},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__.a,{loaded:props.loadedFriends}),props.loadedFriends?React.createElement(__WEBPACK_IMPORTED_MODULE_2__Expanded_views_FriendsPlayingGameView__.a,{friends:props.friendsPlaying,nbFriendsPlaying:props.nbFriendsPlaying,isFriendGame:props.isFriendGame}):null)),React.createElement("div",{className:"game-big-cover",style:style}))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Platform_views_PlatformsSelectorView__=__webpack_require__(209),__WEBPACK_IMPORTED_MODULE_2__Expanded_views_FriendsPlayingGameView__=__webpack_require__(808),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_4__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__=__webpack_require__(300);exports.a=GameView},function(module,exports,__webpack_require__){"use strict";function OtherGamesCarouselView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock other-games in-back load-element",{"in":!props.loadedLastPlayedGame})},React.createElement(__WEBPACK_IMPORTED_MODULE_5__Overlay_views_LoaderView__.a,{loaded:props.loadedLastPlayedGame}),!props.hasOtherGamesPlayed||props.hasOnlyOneGame&&!props.isFriendView?null:[React.createElement("h1",{className:"other-games-title",key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Last played games")),React.createElement("div",{className:"carousel-container",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Carousel_views_CarosuelView__.a,{slidesPerView:props.nbSlidesPerView,slidesPerGroup:props.nbSlidesPerView,className:"games-swiper_"+props.carouselClassName,hideNavigationAndPagination:props.hideNavigationAndPagination,onSlidePrev:props.onSlidePrev,onSlideNext:props.onSlideNext,onSlideToFirst:props.onSlideToFirst,onSlideToLast:props.onSlideToLast,onSwipeCallback:props.onSwipeOtherGames},props.otherGames.map(function(game,offset){return React.createElement(__WEBPACK_IMPORTED_MODULE_3__OtherGameView__.a,{key:game.id,offset:offset,gameId:game.id,spaceId:game.spaceId,applicationId:game.applicationId,platformCode:game.platformCode,imageUrl:game.imageUrl,onClickGameImage:props.onClickGameImage,currentLastPlayedGameId:props.currentLastPlayedGameId})})))],props.hasOtherGamesPlayed&&props.hasOnlyOneGame&&!props.isFriendView?React.createElement("section",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_container_user_section currently-playing",{selected:props.currentLastPlayedGameId==props.gamePlayed.id})},React.createElement("div",{className:"currently-playing_title"},React.createElement("h1",null,React.createElement(__WEBPACK_IMPORTED_MODULE_6__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__.a,{gameDate:props.gamePlayed.lastPlayedDate,gameTitle:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Last played games"),hasNoSessionData:props.hasNoSessionData,showGameTitle:!0}))),React.createElement("div",{className:"lpg-container is-owned"},React.createElement("div",{className:"currently-playing_cover img-holder"},props.gamePlayed.imageUrl?React.createElement("img",{src:props.gamePlayed.imageUrl,onClick:props.onClickGameImage.bind(null,0,props.gamePlayed.id,props.gamePlayed.spaceId,props.gamePlayed.applicationId,props.gamePlayed.platformCode)}):null,props.gamePlayed.imageUrl?null:React.createElement("div",{className:"other-game-no-image",onClick:props.onClickGameImage.bind(null,0,props.gamePlayed.id,props.gamePlayed.spaceId,props.gamePlayed.applicationId,props.gamePlayed.platformCode)})),React.createElement("div",{className:"currently-playing_content"},React.createElement("div",{className:"currently-playing_content_title"},React.createElement("div",{className:"title"},React.createElement("span",{className:"text"},props.gamePlayed.gameName,"",""),React.createElement(__WEBPACK_IMPORTED_MODULE_4__Platform_views_PlatformsSelectorView__.a,{lastPlayedGameId:props.gamePlayed.id,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,onChangePlatform:props.onChangePlatform,loadedLastPlayedGame:!0,hasLastPlayedGame:!0,hasOwnedPlatforms:props.hasOwnedPlatforms,hasOnlyOnePlatform:props.hasOnlyOnePlatform})))))):null,props.loadedLastPlayedGame&&props.hasOtherGamesPlayed?React.createElement("div",{className:"separator"}):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Carousel_views_CarosuelView__=__webpack_require__(587),__WEBPACK_IMPORTED_MODULE_3__OtherGameView__=__webpack_require__(837),__WEBPACK_IMPORTED_MODULE_4__Platform_views_PlatformsSelectorView__=__webpack_require__(209),__WEBPACK_IMPORTED_MODULE_5__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_6__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__=__webpack_require__(300);exports.a=OtherGamesCarouselView},function(module,exports,__webpack_require__){"use strict";function UserActionsView(props){return React.createElement("div",{className:"user-actions"},props.friendState==__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE?React.createElement("div",{className:"actions action-btn acceptDecline"},React.createElement("a",{className:"btn secondary decline",onClick:props.onClickDeclineRequest.bind(null,props.userId,props.userName)},React.createElement("i",{className:"icon-close"})),React.createElement("a",{className:"btn primary accept",onClick:props.onClickAcceptRequest.bind(null,props.userId,props.userName)},React.createElement("i",{className:"icon-checkmark"}))):null,props.friendState==__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__.a.PENDING_SENT_INVITE?React.createElement("div",{className:"actions action-btn invitation-sent"},React.createElement("div",{className:"invitation-sent-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Invitation sent")),React.createElement("a",{className:"btn secondary decline",onClick:props.onClickDeclineRequest.bind(null,props.userId,props.userName)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Cancel"))):null,props.friendState==__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP?React.createElement("div",{className:"actions action-btn invite"},React.createElement("a",{className:"btn primary latPadding",onClick:props.onClickInviteRequest.bind(null,props.userId,props.userName)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Invite"))):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__modules_serviceApis_entities_Friend__=__webpack_require__(46);exports.a=UserActionsView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_2__LoaderView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__webpack_require__(38));__webpack_require__.d(exports,"a",function(){return ImageLoaderView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ImageLoaderView=function(_PureComponent){function ImageLoaderView(){_classCallCheck(this,ImageLoaderView);var _this=_possibleConstructorReturn(this,(ImageLoaderView.__proto__||Object.getPrototypeOf(ImageLoaderView)).apply(this,arguments));return _this.state={isLoadedImage:!1},_this.mountedComponent=!1,_this}return _inherits(ImageLoaderView,_PureComponent),_createClass(ImageLoaderView,[{key:"render",value:function(){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()(this.props.className,"load-element in-back",{"in":!this.state.isLoadedImage}),style:{minHeight:this.props.minHeight+"px"}},React.createElement(__WEBPACK_IMPORTED_MODULE_2__LoaderView__.a,{loaded:this.state.isLoadedImage}),this.props.imgSrc?null:React.createElement("img",{src:this.props.placeholderSrc,alt:this.props.alt,title:this.props.title}),this.props.imgSrc?React.createElement("img",{src:this.props.imgSrc,alt:this.props.alt,title:this.props.title}):null)}},{key:"componentDidMount",value:function(){var _this2=this;this.mountedComponent=!0;var image=new Image;image.onload=function(){_this2.mountedComponent&&_this2.setState({isLoadedImage:!0})},image.onerror=function(){_this2.mountedComponent&&_this2.setState({isLoadedImage:!1})},image.src=this.props.imgSrc?this.props.imgSrc:this.props.placeholderSrc}},{key:"componentWillUnmount",value:function(){this.mountedComponent=!1}}]),ImageLoaderView}(__WEBPACK_IMPORTED_MODULE_1_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function TabDetailsView(props){return props.isInMobileView||props.showMobileViewOnDesktop?!props.isInMobileView&&props.showMobileViewOnDesktop?React.createElement("div",{className:"details-view-container",style:{height:props.height,maxHeight:props.maxHeight},onClick:props.handleOnClickMenu.bind(null)},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("details-view",props.className),style:{height:props.height,maxHeight:props.maxHeight}})):React.createElement("noscript",null):React.createElement("div",{className:"details-view-container",style:{height:props.height,maxHeight:props.maxHeight},onClick:props.handleOnClickMenu.bind(null)},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("details-view",props.className,{visible:props.show&&props.showDetailsView&&!props.isInMobileView}),style:{height:props.height,maxHeight:props.maxHeight}},props.showStatsHeaderOnPlayerCardDetails||props.showStatsHeaderOnFriendsDetails||props.showNameHeaderOnFriendsDetails?null:React.createElement("i",{className:"icon-close closeIcon",onClick:props.onClickClose.bind(null)}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__Overlay_views_ScrollbarsView__.a,{scrollbarHeight:props.height,scrollableRef:props.scrollableRef,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,handleOnScrollUpdate:props.handleOnScrollUpdate,scrollbarWidth:props.scrollbarWidth,scrollbarNegativeMargin:props.scrollbarNegativeMargin},React.createElement("div",{className:"details-view-content",style:{minHeight:props.height}},props.children)),props.hasAvatarComponent?props.avatarComponent:null))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Overlay_views_ScrollbarsView__=__webpack_require__(208);exports.a=TabDetailsView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_4__Tooltip_views_TooltipView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react__),__webpack_require__(303)),__WEBPACK_IMPORTED_MODULE_5__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__=__webpack_require__(24);__webpack_require__.d(exports,"a",function(){return SearchElementsSelectorView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SearchElementsSelectorView=function(_PureComponent){function SearchElementsSelectorView(){_classCallCheck(this,SearchElementsSelectorView);var _this=_possibleConstructorReturn(this,(SearchElementsSelectorView.__proto__||Object.getPrototypeOf(SearchElementsSelectorView)).apply(this,arguments));return _this.selectorRef=null,_this.dropdownMenuRef=null,_this.state={isOpenedDropdown:!1,dropdownMenuWidth:0},_this}return _inherits(SearchElementsSelectorView,_PureComponent),_createClass(SearchElementsSelectorView,[{key:"setElementRef",value:function(view){this.selectorRef=view}},{key:"setDropdownMenuRef",value:function(view){this.dropdownMenuRef=view}},{key:"render",value:function(){var _this2=this;return React.createElement(__WEBPACK_IMPORTED_MODULE_4__Tooltip_views_TooltipView__.a,{className:"for-selector",showTooltip:this.props.showTooltip,locale:this.props.locale,onClickCloseTooltip:this.props.onClickCloseTooltip,content:React.createElement("div",{className:"input-selector-tooltip"},this.props.tooltipText)},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("platform-input-selector in-back load-element",{"in":!this.props.loadedElements,"is-opened":this.state.isOpenedDropdown}),ref:this.setElementRef.bind(this),style:{width:!this.state.dropdownMenuWidth||this.props.isInMobileView||this.props.showMobileViewOnDesktop?"100%":this.state.dropdownMenuWidth+"px"}},React.createElement(__WEBPACK_IMPORTED_MODULE_5__Overlay_views_LoaderView__.a,{loaded:this.props.loadedElements}),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("platform-input-selected-btn",{"is-disabled":!this.props.elementsForSelect||this.props.elementsForSelect.length<=0}),onClick:this.onClickDropDown.bind(this)},React.createElement("input",{className:"platform-input-selected-txt",type:"text",onChange:this.props.onTypeOption,placeholder:this.props.selectedOption||this.props.placeholderText}),React.createElement("i",{className:"icon-angle-down"})),this.props.elementsForSelect&&this.props.elementsForSelect.length>0?React.createElement("div",{className:"platform-input-component-view",ref:this.setDropdownMenuRef.bind(this)},React.createElement("div",{className:"platform-input-component-value",key:this.props.placeholderText,style:{visibility:"hidden",opacity:0,height:"0px",paddingTop:"0px",paddingBottom:"0px",border:"none"}},this.props.placeholderText),this.props.elementsForSelect.map(function(option){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("platform-input-component-value",{"is-selected":option.key==_this2.props.selectedOptionKey}),key:option.key,onClick:_this2.onChangeElement.bind(_this2,option.key)},option.value)})):null))}},{key:"componentDidMount",value:function(){this.calculateElementLength()}},{key:"componentDidUpdate",value:function(prevProps,prevState){prevProps.isInMobileView===this.props.isInMobileView&&prevProps.showMobileViewOnDesktop===this.props.showMobileViewOnDesktop&&prevProps.placeholderText===this.props.placeholderText&&prevProps.selectedOptionKey===this.props.selectedOptionKey&&prevProps.selectedOption===this.props.selectedOption&&prevProps.loadedElements===this.props.loadedElements&&prevProps.locale===this.props.locale&&prevState.isOpenedDropdown===this.state.isOpenedDropdown||this.calculateElementLength()}},{key:"onClickDropDown",value:function(event){var _this3=this;if(event.preventDefault(),this.props.elementsForSelect&&!(this.props.elementsForSelect.length<=0)){var closeMenu=function closeMenu(event){_this3.selectorRef&&!_this3.selectorRef.contains(event.target)?_this3.setState({isOpenedDropdown:!1},function(){_this3.props.onToggleStopEventPropagation(!1),document.removeEventListener("click",closeMenu)}):(_this3.props.onToggleStopEventPropagation(!1),document.removeEventListener("click",closeMenu))};this.setState({isOpenedDropdown:!this.state.isOpenedDropdown},function(){_this3.props.onToggleStopEventPropagation(!0),document.addEventListener("click",closeMenu)})}}},{key:"onChangeElement",value:function(optionKey){!this.props.elementsForSelect||this.props.elementsForSelect.length<=0||(this.setState({isOpenedDropdown:!1}),this.props.onChangeElement(optionKey))}},{key:"calculateElementLength",value:function(){this.props.elementsForSelect.length>0&&this.dropdownMenuRef&&this.setState({dropdownMenuWidth:this.dropdownMenuRef.offsetWidth})}}]),SearchElementsSelectorView}(__WEBPACK_IMPORTED_MODULE_3_react__.PureComponent);SearchElementsSelectorView=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__.a.getShowMobileViewOnDesktop})}),__metadata("design:paramtypes",[])],SearchElementsSelectorView)},function(module,exports,__webpack_require__){"use strict";function CompareFriendStatsView(props){return React.createElement("div",{className:"compare-friend-stats-view"},props.gameStatsToCompareWithAFriend.map(function(gameStats){return React.createElement("div",{key:gameStats.id,className:"compare-friend-stats-container"},React.createElement("div",{className:"stats-name"},gameStats.name),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("stats-my-value",{"is-bigger":gameStats.format!==__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_GameStatsCard__.a.STRING&&gameStats.value>gameStats.friendValue})},React.createElement(__WEBPACK_IMPORTED_MODULE_1__Tooltip_views_ShowTooltipByChildrenLengthView__.a,{parentClassName:"stats-friend-value_formatted-container",tooltipClassName:"stats-compare-tooltip top",locale:props.locale},gameStats.formattedValue.map(function(formattedValue){return React.createElement("span",{key:formattedValue.value,className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"stats-friend-value_unit":formattedValue.isUnit})},formattedValue.value)}))),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("stats-friend-value",{"is-bigger":gameStats.format!==__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_GameStatsCard__.a.STRING&&gameStats.friendValue>gameStats.value})},React.createElement(__WEBPACK_IMPORTED_MODULE_1__Tooltip_views_ShowTooltipByChildrenLengthView__.a,{tooltipClassName:"stats-compare-tooltip top",parentClassName:"stats-friend-value_formatted-container",locale:props.locale},gameStats.friendFormattedValue.map(function(friendFormatted){return React.createElement("span",{key:friendFormatted.value,className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"stats-friend-value_unit":friendFormatted.isUnit})},friendFormatted.value)}))))}))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Tooltip_views_ShowTooltipByChildrenLengthView__=__webpack_require__(855),__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_GameStatsCard__=__webpack_require__(307);exports.a=CompareFriendStatsView},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return AVATAR_TABS});var AVATAR_TABS;!function(AVATAR_TABS){AVATAR_TABS[AVATAR_TABS.GALLERY_AVATAR_TAB="GALLERY_AVATAR_TAB"]="GALLERY_AVATAR_TAB",AVATAR_TABS[AVATAR_TABS.UPLOAD_AVATAR_TAB="UPLOAD_AVATAR_TAB"]="UPLOAD_AVATAR_TAB"}(AVATAR_TABS||(AVATAR_TABS={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return xboxLimit}),__webpack_require__.d(exports,"b",function(){return psnLimit});var xboxLimit=500,psnLimit=500},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return ANALYTICS_COOKIES});var ANALYTICS_COOKIES;!function(ANALYTICS_COOKIES){ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_POLICY_VIEWED="UBI_PRIVACY_POLICY_VIEWED"]="UBI_PRIVACY_POLICY_VIEWED",ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_POLICY_ACCEPTED="UBI_PRIVACY_POLICY_ACCEPTED"]="UBI_PRIVACY_POLICY_ACCEPTED",ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_AA_OPTOUT="UBI_PRIVACY_AA_OPTOUT"]="UBI_PRIVACY_AA_OPTOUT",
ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_ADS_OPTOUT="UBI_PRIVACY_ADS_OPTOUT"]="UBI_PRIVACY_ADS_OPTOUT",ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_CUSTOMIZATION_OPTOUT="UBI_PRIVACY_CUSTOMIZATION_OPTOUT"]="UBI_PRIVACY_CUSTOMIZATION_OPTOUT",ANALYTICS_COOKIES[ANALYTICS_COOKIES.UBI_PRIVACY_VIDEO_OPTOUT="UBI_PRIVACY_VIDEO_OPTOUT"]="UBI_PRIVACY_VIDEO_OPTOUT",ANALYTICS_COOKIES[ANALYTICS_COOKIES.TC_OPTOUT_SDK="TC_OPTOUT_SDK"]="TC_OPTOUT_SDK"}(ANALYTICS_COOKIES||(ANALYTICS_COOKIES={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_actions_LoadedEnvAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(531)),__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return EnvironmentStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EnvironmentStore=function(_ReducerStore){function EnvironmentStore(){_classCallCheck(this,EnvironmentStore);var _this=_possibleConstructorReturn(this,(EnvironmentStore.__proto__||Object.getPrototypeOf(EnvironmentStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_1_app_actions_LoadedEnvAction__.a.name,_this.loadedConfiguration),_this}return _inherits(EnvironmentStore,_ReducerStore),_createClass(EnvironmentStore,[{key:"loadedConfiguration",value:function(state,payload){return Object.assign({},state,{currentEnv:payload.env})}}]),EnvironmentStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);EnvironmentStore.getCurrentEnv=function(state){return state.EnvironmentStore.currentEnv},EnvironmentStore=__decorate([__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__.a,__metadata("design:paramtypes",[])],EnvironmentStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(113),__WEBPACK_IMPORTED_MODULE_1_reflect_metadata__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(769)),__WEBPACK_IMPORTED_MODULE_2__namespaceUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_reflect_metadata__),__webpack_require__(871));__webpack_require__.d(exports,"a",function(){return ServiceManager});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},invariant=__webpack_require__(188),ServiceManager=ServiceManager_1=function(_ServiceManagerAbstra){function ServiceManager(){_classCallCheck(this,ServiceManager);var _this=_possibleConstructorReturn(this,(ServiceManager.__proto__||Object.getPrototypeOf(ServiceManager)).call(this));return _this.container={},_this.providers={},_this.implementsList={},_this.bind(ServiceManager_1,_this),_this}return _inherits(ServiceManager,_ServiceManagerAbstra),_createClass(ServiceManager,[{key:"bind",value:function(resource,instance){return this.container[this.getNameFromResource(resource)]=instance,this}},{key:"alias",value:function(resource,aliasName){var _this2=this;return this.providers[this.getNameFromResource(resource)]=function(){return _this2.get(aliasName)},this}},{key:"bindToMethod",value:function(method,object){return this.implementsList[method]=object,this}},{key:"factory",value:function(){for(var _this3=this,_len=arguments.length,factories=Array(_len),_key=0;_key<_len;_key++)factories[_key]=arguments[_key];return factories.map(function(factory){return factory(_this3)}),this}},{key:"provide",value:function(className,callback){var _this4=this;return this.providers[this.getNameFromResource(className)]=function(){var instance=callback(_this4);if(!instance)throw new Error('The provider for the class "'+className.name+'" must provide an instance of this class when initialized.');return _this4.bind(_this4.getNameFromResource(className),instance),instance},this}},{key:"provider",value:function(){for(var _this5=this,_len2=arguments.length,providers=Array(_len2),_key2=0;_key2<_len2;_key2++)providers[_key2]=arguments[_key2];return providers.map(function(provider){var realProvider=new provider;_this5.provide(realProvider.provides(),realProvider.provide.bind(realProvider))}),this}},{key:"get",value:function(resource){if(!resource)return Object.assign({},this.container);if(this.container[this.getNameFromResource(resource)])return this.container[this.getNameFromResource(resource)];if(this.providers[this.getNameFromResource(resource)])return this.providers[this.getNameFromResource(resource)](this);var result=this.instantiate(resource);return invariant(result,'Could not "get" '+this.getNameFromResource(resource)),this.bind(resource,result),result}},{key:"instantiate",value:function(resource){var _this6=this,args=Reflect.getMetadata("design:paramtypes",resource);if("undefined"==typeof args)throw new Error("Could not get constructor dependencies for "+resource.name+". Did you forget to decorate it with @injectable ?");if(!args)return new resource;var dependencies=[];try{args.forEach(function(arg){return dependencies.push(_this6.get(arg))})}catch(error){throw console.warn("Could not get constructor dependencies for "+resource.name+". Please check the bellow error for more details."),error}var instance=new(Function.prototype.bind.apply(resource,[null].concat(dependencies)));return Object.keys(this.implementsList).forEach(function(key){if(key in instance)instance[key](_this6.get(_this6.implementsList[key]));else for(var item in instance)key===item&&instance[key](_this6.get(_this6.implementsList[key]))}),instance}},{key:"getNameFromResource",value:function(resource){return"string"==typeof resource?resource:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__namespaceUtils__.a)(resource)}}]),ServiceManager}(__WEBPACK_IMPORTED_MODULE_0__stejar_di__.ServiceManager);ServiceManager=ServiceManager_1=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__namespaceUtils__.b)("Stejar/Core"),__metadata("design:paramtypes",[])],ServiceManager);var ServiceManager_1},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(114),__WEBPACK_IMPORTED_MODULE_1_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__),__webpack_require__(57)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__=__webpack_require__(874),__WEBPACK_IMPORTED_MODULE_3__ConnectService__=__webpack_require__(873),__WEBPACK_IMPORTED_MODULE_4__authentication_entities_Window__=__webpack_require__(109),__WEBPACK_IMPORTED_MODULE_5__locale_entities_LocalStrings__=__webpack_require__(165),__WEBPACK_IMPORTED_MODULE_6__eventListener_Channel__=__webpack_require__(304),__WEBPACK_IMPORTED_MODULE_7__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_8__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_9__utils_getLoginNextUrl__=__webpack_require__(623),__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__=__webpack_require__(192),__WEBPACK_IMPORTED_MODULE_11__utils_getCookie__=__webpack_require__(324);__webpack_require__.d(exports,"a",function(){return WidgetService});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},WidgetService=function(){function WidgetService(config,options,hasInitializedCallback){_classCallCheck(this,WidgetService),this.config=config,this.options=options,this.hasInitializedCallback=hasInitializedCallback,this.subscriptions=[],this.listeners=[],this.isReInit=!1;var enableDebug=void 0!==options.enableDebug?options.enableDebug:config.enableDebug;this.debugService=new __WEBPACK_IMPORTED_MODULE_7__services_DebugService__.a(enableDebug),this.debugService.log("[Overlay Widget] Loaded"),this.locale=options.locale,this.connectService=new __WEBPACK_IMPORTED_MODULE_3__ConnectService__.a(options.appId,options.genomeId,config,options)}return _createClass(WidgetService,[{key:"appendDocumentHeadHtml",value:function(){var headHTML=document.getElementsByTagName("head")[0],link=document.createElement("link");return link.type="text/css",link.rel="stylesheet",link.href=this.cssUrl,link.id="overlay-widget-css",headHTML.appendChild(link),null}},{key:"appendContainer",value:function(onload){var _this=this,iframe=document.createElement("iframe");iframe.id="overlay-iframe",iframe.name="overlayIframe",iframe.style.display="none",iframe.scrolling="no",iframe.style.border="0",iframe.style.width="954px",iframe.onload=function(){iframe.style.display="","ar-ae"===_this.locale.toLowerCase()&&iframe.classList.add("overlay-iframe-arab-language")},this.iframe=iframe;var iframeContainer=document.createElement("div");iframeContainer.id="overlay-container",iframeContainer.style.height=(this.options.height||50)+"px",iframeContainer.style.width="50px",iframeContainer.appendChild(iframe);var backdrop=document.createElement("div");backdrop.id="overlay-backdrop",this.backdrop=backdrop;var container=document.getElementById(this.options.container);if(container||(container=document.getElementById(this.options.container.replace("#",""))),container||(container=document.getElementsByClassName(this.options.container.replace(".","")),!container&&container[0]||(container=void 0)),container.style.position="relative",container.style.zIndex=this.options.zIndex?this.options.zIndex:"1000",backdrop.style.zIndex=this.options.zIndex?(parseFloat(this.options.zIndex)-1).toString():"999",!container)throw new Error("Could not find container element '"+this.options.container+"'");container.appendChild(iframeContainer),container.parentElement.appendChild(backdrop),this.container=container,onload(iframe);var src=this.config.overlayIndexUrl+"?t=1637065675&";src+="owner="+window.self.location.protocol+"//"+window.self.location.host,iframe.src=src}},{key:"appendModalContainer",value:function(){var modalNode=document.createElement("div"),modalNodeContainer=document.createElement("div"),modalOverlay=document.createElement("div"),modalContent=document.createElement("div"),modalCloseButton=document.createElement("div"),modalCloseIcon=document.createElement("i"),body=document.getElementsByTagName("body")[0];modalNode.classList.add("ReactModalPortal"),modalNodeContainer.classList.add("ReactModalPortal__Container"),modalNode.style.display="none",modalOverlay.classList.add("ReactModal__Overlay"),modalContent.classList.add("ReactModal__Content"),modalCloseButton.classList.add("ReactModal__Close__Button"),modalCloseIcon.className+="ubico ubico-close",modalCloseButton.appendChild(modalCloseIcon),modalContent.appendChild(modalCloseButton),modalOverlay.appendChild(modalContent),modalNodeContainer.appendChild(modalOverlay),modalNode.appendChild(modalNodeContainer),body.appendChild(modalNode)}},{key:"bootstrap",value:function(options){var _this2=this;if(options.nextUrl&&window.location.href.indexOf(options.nextUrl)===-1)try{this.connectService.setItemInLocalStorage(this.connectService.CONNECTFormerUrl,window.location.href)}catch(error){this.debugService.error(error)}return options.nextUrl&&window.location.href.indexOf(this.options.nextUrl)!==-1?void this.refreshIdentity({afterLogin:!1,isReInit:!1,loginParams:{}}):(0==options.darkBackground&&console.warn("Light theme is disabled for the moment"),this.options=__assign({},options,{browserScrollbarWidth:this.getCustomScrollbarSpecs().browserScrollbarWidth,scrollbarNegativeMarginValue:this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue,darkBackground:!0}),this.appendDocumentHeadHtml(),this.appendContainer(function(iframe){_this2.changeLocaleClassOnOverlayContainer(options.locale),_this2.changeIsInDesktopResizeClassOnOverlayContainer(options.isInDesktopResize),_this2.changeShowSignInTextClassOnOverlayContainer(options.showSignInText);var channelOrigin=_this2.config.overlayIndexUrl;_this2.channel=new __WEBPACK_IMPORTED_MODULE_6__eventListener_Channel__.a(channelOrigin,iframe.contentWindow,void 0!==_this2.options.enableDebug?_this2.options.enableDebug:_this2.config.enableDebug),_this2.setupSubscriptions()}),void this.appendModalContainer())}},{key:"setupSubscriptions",value:function(){var _this3=this;this.subscriptions.concat([this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_INITIALIZE,this.handleInitilize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_BACKDROP,this.handleShowBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_BACKDROP,this.handleHideBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS,this.handleShowMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS,this.handleHideMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_EXPAND,this.handleExpand.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_COLLAPSE,this.handleCollapse.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_IN,this.handleLoggedIn.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_OUT,this.handleLoggedOut.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_RESIZE,this.handleResize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,this.handleOpenLoginModal.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL,this.handleCloseLoginModalAndConnect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_LOCALE,this.handleChangeLocaleFromCommunicationService.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_ENV_LOADED,this.handleInitEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,this.handleChangeIframeHeight.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_URL,this.changeIframeUrl.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_EMAIL_VERIFICATION,this.triggerEmailActivation.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_LOGOUT,this.logout.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_CHANGE_CONFIG,this.changeWidgetConfig.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_USER_DATA,this.getUserData.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_REFRESH_IDENTITY,this.refreshIdentity.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_401_FLOW,this._401Flow.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_ENV,this.getEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT,this.handleGetIframeBoundingClientRect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_POPUP_WINDOW,this.handleOpenPopupWindow.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_THIRD_PARTY_STATUS_FOR_LOGIN,this.handleGetThirdPartyStatusForLogin.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_ON_FRIEND_ACTION,this.handleOnFriendAction.bind(this))]),this.options.collapse&&this.options.collapse(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_COLLAPSE)}),this.options.expandFriends&&this.options.expandFriends(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_FRIENDS)}),this.options.expandPlayerCard&&this.options.expandPlayerCard(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_PLAYER_CARD)}),this.options.expandNotifications&&this.options.expandNotifications(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_NOTIFICATIONS)}),this.listeners.concat([this.addCrossDomainEventListener(this.config.connectEndpoint,"connectRoute","/twitch-callback?code=",function(){_this3.connectService.removeAllDataFromLocaleStorage()}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.ANALYTICS_SDK_LOADED,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.ANALYTICS_SDK_LOADED)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.S_CODE_READY,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.S_CODE_READY)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.S_CODE_REMOVED,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.S_CODE_REMOVED)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIEWED,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIEWED)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ACCEPTED,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ACCEPTED)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_REFUSED,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_REFUSED)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ANALYTICS_OFF,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ANALYTICS_OFF)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ANALYTICS_ON,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_ANALYTICS_ON)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_OFF,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_OFF)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_ON,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_MEDIA_ANALYTICS_ON)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_OFF,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_OFF)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_ON,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_CUSTOMIZATION_ON)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIDEOS_OFF,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIDEOS_OFF)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIDEOS_ON,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.PRIVACY_POLICY_VIDEOS_ON)}),this.addCrossDomainEventListenerWithTopic(__WEBPACK_IMPORTED_MODULE_8__messages__.c.THIRD_PARTY_OPT_IN,window.location.origin,function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.c.THIRD_PARTY_OPT_IN)})])}},{key:"handleInitilize",value:function(){var _this4=this;this.debugService.log("[Overlay Widget] handleInitilize");var cleanUrl=window.self.location.href,loginUrl=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,this.config.connectEnv),this.locale,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl(),options=this.options;window.adobeAnalytics?options.hasParentSiteTrackingIntegrate=!0:options.hasParentSiteTrackingIntegrate=!1,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils_getCookie__.a)("TC_OPTOUT_SDK")?options.hasParentSiteTcOptoutSdkCookieSet=!0:options.hasParentSiteTcOptoutSdkCookieSet=!1,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils_getCookie__.a)("UBI_PRIVACY_POLICY_ACCEPTED")?options.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet=!0:options.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet=!1,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils_getCookie__.a)("UBI_PRIVACY_AA_OPTOUT")?options.hasParentSiteUbiPrivacyAaOptoutCookieSet=!0:options.hasParentSiteUbiPrivacyAaOptoutCookieSet=!1,this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_BOOTSTRAP,options),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl}),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_URL,cleanUrl),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_INITIAL_WINDOW_HEIGHT,window.innerHeight),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.getIframeBoundingClientRect()}),this.handleOnResize(!0),window.addEventListener("resize",this.debounce(function(){return _this4.handleOnResize(!1)},250)),document.getElementsByClassName("ReactModal__Close__Button")[0].addEventListener("click",this.handleCloseLoginModal.bind(this))}},{key:"handleOnResize",value:function(firstTime){this.sendOnResizeEvent(firstTime),this.isInMobileView(window.innerWidth)?(this.iframe.style.width="100vw",document.body.classList.remove("overlay-expanded-on-desktop"),document.body.style.marginRight&&(document.body.style.marginRight=null)):(document.body.classList.remove("overlay-expanded-on-mobile"),this.iframe.style.width="954px",this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),this.iframe.classList.contains("overlay-iframe--expanded")&&(document.body.classList.add("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&(document.body.style.marginRight=this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue+"px")))}},{key:"sendOnResizeEvent",value:function(firstTime){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZED_WINDOW,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeHeight:this.iframe.offsetHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect(),firstTime:firstTime})}},{key:"handleShowBackdrop",value:function(){var _this5=this;this.options.onShowHide&&this.options.onShowHide(!0),this.backdrop.classList.add("overlay-backdrop--show"),this.backdropListener=function(){_this5.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK)},__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.add(this.backdrop,"click",this.backdropListener)}},{key:"handleHideBackdrop",value:function(){this.options.onShowHide&&this.options.onShowHide(!1),this.isInMobileView(window.innerWidth)||(this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener))}},{key:"handleShowMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!0),this.isInMobileView(window.innerWidth)&&(document.body.classList.add("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.add("mobileActive"))}},{key:"handleHideMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!1),this.isInMobileView(window.innerWidth)&&(document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive")),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleExpand",value:function(){this.iframe.classList.add("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)?document.getElementById("overlay-container").classList.add("mobileActive"):(document.body.classList.add("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&(document.body.style.marginRight=this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue+"px"))}},{key:"handleLoggedIn",value:function(payload){this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"lgdOut")&&this.connectService.getItemFromLocalStorage(this.connectService.CONNECTLogOut)||(payload.action==__WEBPACK_IMPORTED_MODULE_1_messages__.b.INIT&&this.hasInitializedCallback(!0),this.options.onConnect&&(this.options.onConnect(this.isReInit?__WEBPACK_IMPORTED_MODULE_1_messages__.b.REINIT:payload.action,payload.getTicket),this.isReInit=!1))}},{key:"handleLoggedOut",value:function(identity){var _this6=this;this.connectService.check(this.getNextUrl(),!1,this.options.thirdPartyCookiesSupport,"handleLoggedOut").then(function(){!window.overlayConnectSDK.sdkStatus.thirdPartyCookiesEnabled&&window.overlayConnectSDK.configService.config.thirdPartyCookieSupport||!_this6.options.onConnect||_this6.options.onConnect(__WEBPACK_IMPORTED_MODULE_1_messages__.b.LOGOUT,identity)}),this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleCollapse",value:function(){this.iframe.classList.remove("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)||(document.getElementById("overlay-container").classList.remove("mobileActive"),document.body.classList.contains("overlay-expanded-on-desktop")&&(document.body.classList.remove("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&(document.body.style.marginRight=null)));
}},{key:"handleResize",value:function(props){this.isInMobileView(window.innerWidth)?(this.iframe.style.height=null,this.options.mobileHeight&&(this.container.style.height=this.options.mobileHeight+"px"),this.container&&(this.container.style.width="50px",!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.AVATAR_SIGN_IN&&1!=props.showSignInText&&"true"!=props.showSignInText||(this.container.style.width="132px")),document.getElementById("overlay-iframe").classList.add("overlay-iframe-mobile"),props.isInExpandedMode&&document.getElementById("overlay-container").classList.add("mobileActive")):(this.container&&(this.container.style.width=null,this.options.mobileHeight&&(this.container.style.height=this.options.height+"px")),document.getElementById("overlay-iframe").classList.contains("overlay-iframe--expanded")?this.iframe.style.height="100vh":this.iframe.style.height=this.options.height+"px",document.getElementById("overlay-iframe").classList.remove("overlay-iframe-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"))}},{key:"handleOpenLoginModal",value:function(connectIFrameUrl){document.getElementsByTagName("body")[0].classList.add("ReactModal__Body--open"),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(document.getElementsByTagName("body")[0].classList.add("safari-modal-opened"),document.body.style.top="0px");var modalNode=document.getElementsByClassName("ReactModalPortal")[0];modalNode.removeAttribute("style");var modalContent=document.getElementsByClassName("ReactModal__Content")[0],connectIFrame=document.createElement("iframe");connectIFrame.id="connect-iframe",connectIFrame.style.height="100%",connectIFrame.style.border="0px",connectIFrame.src=connectIFrameUrl,modalContent.appendChild(connectIFrame)}},{key:"handleCloseLoginModal",value:function(){document.getElementsByTagName("body")[0].classList.remove("ReactModal__Body--open","safari-modal-opened");var connectIFrame=document.getElementById("connect-iframe");document.body.hasAttribute("style")&&document.body.removeAttribute("style"),connectIFrame&&connectIFrame.parentNode.removeChild(connectIFrame)}},{key:"handleCloseLoginModalAndConnect",value:function(payload){this.handleCloseLoginModal()}},{key:"handleChangeLocale",value:function(locale){this.options.onChangeLocale&&this.options.onChangeLocale(locale),locale||(locale=this.options.locale),this.locale=locale,"ar-ae"==locale.toLowerCase()?this.iframe.classList.add("overlay-iframe-arab-language"):this.iframe.classList.remove("overlay-iframe-arab-language"),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOCALE,locale);var loginUrl=this.connectService.getLoginUrl(this.getLoginNextUrl(locale,this.config.connectEnv),locale,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl})}},{key:"handleChangeLocaleFromCommunicationService",value:function(props){this.changeLocaleClassOnOverlayContainer(props.locale),this.isInMobileView(window.innerWidth)&&(!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.AVATAR_SIGN_IN||(this.container.style.width="132px"))}},{key:"handleChangeGame",value:function(installmentIdOrSpaceId){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,installmentIdOrSpaceId)}},{key:"reInit",value:function(){var _this7=this;this.debugService.log("[Overlay Widget] reInit"),document.getElementById("overlay-iframe")?(this.debugService.info("[Overlay Widget] reInit: #overlay-iframe exists"),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RE_INIT)):(this.debugService.info("[Overlay Widget] reInit: #overlay-iframe does not exist"),this.isReInit=!0,this.removeEventListners(),this.appendContainer(function(iframe){var channelOrigin=_this7.config.overlayIndexUrl;_this7.channel=new __WEBPACK_IMPORTED_MODULE_6__eventListener_Channel__.a(channelOrigin,iframe.contentWindow,void 0!==_this7.options.enableDebug?_this7.options.enableDebug:_this7.config.enableDebug),_this7.setupSubscriptions()}))}},{key:"isInMobileView",value:function(windowSize){return windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZE_WIDTH||windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_MOBILE_WIDTH&&window.innerHeight<windowSize&&WidgetService.isMobileDevice()}},{key:"handleChangeEnv",value:function(env){}},{key:"handleInitEnv",value:function(newConfig){}},{key:"handleChangeFriendsProfileType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,type)}},{key:"handleChangeIframeHeight",value:function(height){this.isInMobileView(window.innerWidth)||(this.iframe.style.height=height)}},{key:"handleToggleDarkBackground",value:function(toggle){console.warn("Light theme is disabled for the moment")}},{key:"handleChangeExternalLoginType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_EXTERNAL_LOGIN_TYPE,type);var loginUrl=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,this.config.connectEnv),this.locale,type,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl})}},{key:"handleToggleSignInText",value:function(toggle){this.isInMobileView(window.innerWidth)&&(!toggle||toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.SIGN_IN&&toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.d.AVATAR_SIGN_IN||(this.container.style.width="132px")),this.changeShowSignInTextClassOnOverlayContainer(toggle),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,toggle)}},{key:"toggleDesktopResize",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,toggle),this.changeIsInDesktopResizeClassOnOverlayContainer(toggle)}},{key:"changeIframeUrl",value:function(){var src=this.iframe.src.split("?")[0],search=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(this.iframe.src.split("?")[1]);this.iframe.src=src+"?owner="+search.owner}},{key:"triggerEmailActivation",value:function(payload){var _this8=this;this.connectService.triggerEmailActivation(payload.ticket,payload.sessionId,payload.userId,this.getNextUrl(),function(triggerEmailResponse){_this8.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_EMAIL_VERIFICATION,triggerEmailResponse)},function(){})}},{key:"logout",value:function(payload){var _this9=this,callback=function(){_this9.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_LOGOUT),_this9.changeLoggedClassOnOverlayContainer(!1)};this.connectService.logout(payload.ticket,payload.sessionId,this.getNextUrl(),this.options.thirdPartyCookiesSupport).then(callback)["catch"](callback)}},{key:"changeWidgetConfig",value:function(config){this.connectService.changeConfig(config);var loginUrl=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,config.connectEnv),this.locale,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl}),location.reload()}},{key:"getUserData",value:function(payload){var _this10=this;this.debugService.log("[Overlay Widget] getUserData");var callback=function(triggerEmailResponse){_this10.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_USER_DATA_SUCCESS,triggerEmailResponse)},errorCallback=function(){_this10.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_USER_DATA_ERROR)};return this.connectService.getUserData(payload.ticket,payload.sessionId,payload.userId,this.getNextUrl(),callback,this.options.thirdPartyCookiesSupport)["catch"](function(){return errorCallback()})}},{key:"refreshIdentity",value:function(payload){try{localStorage.setItem("hasLocalStorage","true")}catch(error){return this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR),this.changeLoggedClassOnOverlayContainer(!1),new Promise(function(resolve,reject){return reject(error)})}var nextUrl=this.getNextUrl(),hasLoginParams=this.checkIfLoginParamsExist(payload),afterLogin=payload.afterLogin&&!hasLoginParams;if(this.getIsSsoPage()){if(payload.afterLogin||payload.isReInit)return afterLogin&&this.connectService.removeAllDataFromLocaleStorage(),payload.isReInit&&this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,__assign({},payload,{afterLogin:afterLogin}));var refreshStatus=this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"refreshStatus");if(refreshStatus)return this.checkIfLocalStorageDataIsExpiredFlow(nextUrl,payload);if(this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"lgdOut"))return this.connectService.getItemFromLocalStorage(this.connectService.CONNECTLogOut)?(this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR),this.changeLoggedClassOnOverlayContainer(!1),this.connectService.lgdOutFlow(nextUrl,this.options.thirdPartyCookiesSupport,this.options.onConnect).then(this.handleCustomNextUrlFlowRedirect)["catch"](this.handleCustomNextUrlFlowRedirect)):this.normalGetTicketFlow(nextUrl,__assign({},payload,{afterLogin:afterLogin}))}return(afterLogin||payload.isReInit)&&this.connectService.removeAllDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,__assign({},payload,{afterLogin:afterLogin}))}},{key:"checkIfLocalStorageDataIsExpiredFlow",value:function(nextUrl,payload){var formerSsoID=this.connectService.getItemFromLocalStorage(this.connectService.CONNECTFormerSsoID);if("ok"===__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)().refreshStatus&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)().connectSsoId&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)().connectSsoId!==formerSsoID)return this.connectService.setCONNECTssoExpirationInLocalStorage(__WEBPACK_IMPORTED_MODULE_4__authentication_entities_Window__.c.OK),this.ssoFlow(nextUrl);var ssoExpiration=this.connectService.getCONNECTssoExpiration();return ssoExpiration?this.connectService.getIsExpired(ssoExpiration)?(this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,payload,!0)):this.refreshStatusFlow(nextUrl,ssoExpiration):(this.connectService.setCONNECTssoExpirationInLocalStorage(),"ok"===__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)().refreshStatus&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)().connectSsoId?this.ssoFlow(nextUrl):this.refreshStatusFlow(nextUrl,this.connectService.getCONNECTssoExpiration()))}},{key:"ssoFlow",value:function(nextUrl){var _this11=this;this.connectService.ssoFlow(nextUrl,this.options.thirdPartyCookiesSupport).then(function(data){return _this11.handleTicketSuccess(data)})["catch"](function(error){return _this11.handleTicketError(error,!1)})}},{key:"refreshStatusFlow",value:function(nextUrl,expirationDate){var _this12=this;return this.connectService.refreshStatusFlow(nextUrl,this.options.thirdPartyCookiesSupport,expirationDate).then(function(data){return _this12.handleTicketSuccess(data)})["catch"](function(error){return _this12.handleTicketError(error,!1)})}},{key:"normalGetTicketFlow",value:function(nextUrl,payload,leaveLocalStorageEmpty){var _this13=this;return this.connectService.refreshIdentityFlow(nextUrl,payload,this.options.thirdPartyCookiesSupport,leaveLocalStorageEmpty).then(function(data){return _this13.handleTicketSuccess(data)})["catch"](function(error){return _this13.handleTicketError(error,payload.isReInit)})}},{key:"handleCustomNextUrlFlowRedirect",value:function(){var formerUrl="";try{formerUrl=this.connectService.getItemFromLocalStorage(this.connectService.CONNECTFormerUrl)}catch(error){this.debugService.error(error)}return!(!this.options.nextUrl||"string"!=typeof this.options.nextUrl||window.location.href.indexOf(this.options.nextUrl)===-1||!formerUrl)&&(window.location.href=formerUrl,!0)}},{key:"handleTicketSuccess",value:function(data){return this.handleCustomNextUrlFlowRedirect()?Promise.resolve(data):data&&Object.keys(data).length?(this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_SUCESS,data),this.changeLoggedClassOnOverlayContainer(!0),Promise.resolve(data)):(this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR),this.changeLoggedClassOnOverlayContainer(!1),Promise.resolve(data))}},{key:"handleTicketError",value:function(error,isReInit){return this.handleCustomNextUrlFlowRedirect()?error:(error&&error.status&&error.status===__WEBPACK_IMPORTED_MODULE_4__authentication_entities_Window__.b.THIRD_PARTY_COOKIES_DISABLED&&!this.options.thirdPartyCookiesSupport&&isReInit&&this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_LOGIN,{status:!1}),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR,error),this.changeLoggedClassOnOverlayContainer(!1),Promise.reject(error))}},{key:"_401Flow",value:function(){var _this14=this;this.connectService._401Flow(this.getNextUrl(),function(){_this14.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_401_FLOW_NO_TICKET)},function(getTicketResponse){_this14.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_401_FLOW_GOT_TICKET,getTicketResponse)},this.options.thirdPartyCookiesSupport)}},{key:"getLoginNextUrl",value:function(lang,env){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__utils_getLoginNextUrl__.a)(env,{appId:this.options.appId,genomeId:this.options.genomeId,lang:lang,nextUrl:this.config.loginNextUrl},this.options.thirdPartyCookiesSupport)}},{key:"getSsoUrl",value:function(){return""+window.location.href.split("?")[0]+this.getQueryStringWithAddedParam("isSso","true")}},{key:"getNextUrl",value:function(){return this.options.nextUrl&&"string"==typeof this.options.nextUrl&&window.location.href.indexOf(this.options.nextUrl)===-1?encodeURIComponent(this.options.nextUrl):encodeURIComponent(this.getSsoUrl())}},{key:"getTicketCallback",value:function(callback){var _this15=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_TICKET);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_TICKET,function(identity){_this15.connectService.getTicket(_this15.getNextUrl(),callback,identity,_this15.options.thirdPartyCookiesSupport),_this15.channel.unsuscribe(subscribed)})}},{key:"getProfileCallback",value:function(callback){var _this16=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this16.connectService.getProfiles(obj.ticket,obj.sessionId,obj.userId,callback,_this16.getNextUrl(),_this16.options.thirdPartyCookiesSupport),_this16.channel.unsuscribe(subscribed)})}},{key:"debounce",value:function(callback,wait){var _this17=this,_arguments=arguments,timeout=null;return function(){var context=_this17,args=_arguments,later=function(){timeout=null,callback.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)}}},{key:"getEnv",value:function(){try{this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_ENV,localStorage.getItem("overlay-env-v3"))}catch(error){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_ENV,null)}}},{key:"getQueryString",value:function(){var deleteRefresStatus=arguments.length>0&&void 0!==arguments[0]&&arguments[0],changeRefresStatus=arguments.length>1&&void 0!==arguments[1]&&arguments[1],cleanQueryParams=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),cleanUrl="";return deleteRefresStatus&&delete cleanQueryParams.refreshStatus,changeRefresStatus&&(cleanQueryParams.refreshStatus="toDel"),cleanQueryParams.isSso&&delete cleanQueryParams.isSso,cleanQueryParams.lgdOut&&delete cleanQueryParams.lgdOut,cleanQueryParams.connectSsoId&&delete cleanQueryParams.connectSsoId,Object.keys(cleanQueryParams).length&&(cleanUrl+="?"+Object.keys(cleanQueryParams).map(function(item){return encodeURIComponent(item)+"="+encodeURIComponent(cleanQueryParams[item])}).join("&")),cleanUrl}},{key:"getQueryStringWithAddedParam",value:function(paramName,paramValue){return this.getQueryString(!0)?this.getQueryString(!0)+"&"+paramName+"="+paramValue:"?"+paramName+"="+paramValue}},{key:"handleGetIframeBoundingClientRect",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect()})}},{key:"getIframeBoundingClientRect",value:function(){var iframeBoundingClientRect=this.iframe.getBoundingClientRect();return 0==iframeBoundingClientRect.width&&(iframeBoundingClientRect=document.getElementById("overlay-container").getBoundingClientRect(),iframeBoundingClientRect="ar-ae"===this.locale.toLowerCase()?{bottom:iframeBoundingClientRect.bottom,height:iframeBoundingClientRect.height,left:iframeBoundingClientRect.left,right:iframeBoundingClientRect.left+954-334,top:iframeBoundingClientRect.top,width:iframeBoundingClientRect.width}:{bottom:iframeBoundingClientRect.bottom,height:iframeBoundingClientRect.height,left:iframeBoundingClientRect.left-954+334,right:iframeBoundingClientRect.right,top:iframeBoundingClientRect.top,width:iframeBoundingClientRect.width}),iframeBoundingClientRect}},{key:"getCustomScrollbarSpecs",value:function(){var scrollbarWidth=0;if("undefined"!=typeof document){var div=document.createElement("div");div.style.width="100px",div.style.height="100px",div.style.position="absolute",div.style.top="-9999",div.style.left="-9999",div.style.zIndex="-1000",div.style.overflow="scroll",div.style.MsOverflowStyle="scrollbar",document.body.appendChild(div),scrollbarWidth=div.offsetWidth-div.clientWidth,document.body.removeChild(div)}return{browserScrollbarWidth:scrollbarWidth||15,scrollbarNegativeMarginValue:scrollbarWidth||0}}},{key:"findByKey",value:function(obj,key){for(var found=!1,array=Object.keys(obj),i=0;i<array.length;i++)if(array[i]===key)return found=!0;return found}},{key:"getEmailVerificationStatusCallback",value:function(callback){var _this18=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this18.connectService.getUserData(obj.ticket,obj.sessionId,obj.userId,_this18.getNextUrl(),callback,_this18.options.thirdPartyCookiesSupport),_this18.channel.unsuscribe(subscribed)})}},{key:"triggerEmailVerificationCallback",value:function(callback){var _this19=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this19.connectService.triggerEmailActivation(obj.ticket,obj.sessionId,obj.userId,_this19.getNextUrl(),callback,function(){_this19.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_EMAIL_ACTIVATION)},_this19.options.thirdPartyCookiesSupport),_this19.channel.unsuscribe(subscribed)})}},{key:"handleLogin",value:function(config){var _this20=this;this.connectService.ubisoftConnectService.getThirdPartyStatus().then(function(status){_this20.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_LOGIN,{status:status,config:config})})}},{key:"handleLogout",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_LOGOUT)}},{key:"handleOpenPopupWindow",value:function(props){this.openPopupWindow({url:props.url,title:props.title,width:props.width,height:props.height,availWidth:window.top.screen.availWidth,availLeft:window.top.screen.availLeft?window.top.screen.availLeft:0,availHeight:window.top.screen.availHeight,availTop:window.top.screen.availTop?window.top.screen.availTop:0})}},{key:"addCrossDomainEventListenerWithTopic",value:function(topic,origin,callback){var listener=function(event){if(event&&event.origin&&event.origin==origin&&event.data&&event.data==topic){var payload=event.data.payload;void 0===payload&&(payload=null),callback(payload?"string"==typeof payload?JSON.parse(payload):payload:{})}},eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";return eventer(messageEvent,listener,!1),listener}},{key:"addCrossDomainEventListener",value:function(origin,key,value,callback){var listener=function(event){if(event&&event.origin&&event.origin==origin&&event.data&&event.data&&"string"==typeof event.data)try{JSON.parse(event.data)[key]&&JSON.parse(event.data)[key].indexOf(value)!==-1&&callback()}catch(error){}},eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";return eventer(messageEvent,listener,!1),listener}},{key:"removeEventListners",value:function(){var _this21=this;this.subscriptions.length&&this.subscriptions.forEach(function(subscription){_this21.channel.unsuscribe(subscription)}),this.listeners.length&&this.listeners.forEach(function(listener){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.removeCrossDomainEventListener)(listener)})}},{key:"toggleLoginType",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_LOGIN_TYPE,toggle)}},{key:"changeLocaleClassOnOverlayContainer",value:function(newLocale){var overlayContainer=document.getElementById("overlay-container");overlayContainer&&(__WEBPACK_IMPORTED_MODULE_5__locale_entities_LocalStrings__.a[newLocale]||(newLocale="en-GB"),__WEBPACK_IMPORTED_MODULE_5__locale_entities_LocalStrings__.b.map(function(locale){overlayContainer.classList.contains(locale)&&locale!==newLocale&&overlayContainer.classList.remove(locale)}),overlayContainer.classList.contains(newLocale)||overlayContainer.classList.add(newLocale))}},{key:"changeLoggedClassOnOverlayContainer",value:function(loggedIn){var overlayContainer=document.getElementById("overlay-container");overlayContainer&&(loggedIn?(overlayContainer.classList.add("logged-in"),overlayContainer.classList.remove("logged-out")):(overlayContainer.classList.add("logged-out"),overlayContainer.classList.remove("logged-in")))}},{key:"changeIsInDesktopResizeClassOnOverlayContainer",value:function(isInDesktopResize){var overlayContainer=document.getElementById("overlay-container");overlayContainer&&("true"==isInDesktopResize||1==isInDesktopResize?overlayContainer.classList.add("desktop-resize"):overlayContainer.classList.remove("desktop-resize"))}},{key:"changeShowSignInTextClassOnOverlayContainer",value:function(showSignInText){var overlayContainer=document.getElementById("overlay-container");overlayContainer&&(showSignInText==__WEBPACK_IMPORTED_MODULE_1_messages__.d.AVATAR_SIGN_IN||showSignInText==__WEBPACK_IMPORTED_MODULE_1_messages__.d.SIGN_IN||showSignInText==__WEBPACK_IMPORTED_MODULE_1_messages__.d.TRUE||1==showSignInText?overlayContainer.classList.add("with-login-text"):overlayContainer.classList.remove("with-login-text"),showSignInText==__WEBPACK_IMPORTED_MODULE_1_messages__.d.AVATAR_SIGN_IN||showSignInText==__WEBPACK_IMPORTED_MODULE_1_messages__.d.TRUE||1==showSignInText?overlayContainer.classList.add("with-avatar"):overlayContainer.classList.remove("with-avatar"))}},{key:"handleUpdateIntegratorConfiguration",value:function(options){var typeToCheck={appId:"string",zIndex:"string",trackingSiteType:"string",trackingSiteName:"string",trackingSiteSection:"string",genomeId:"string",container:"string",locale:"string",height:"number",mobileHeight:"number",themeColor:"string",darkBackground:"boolean",installmentId:"string",loginType:"string",loginExternalType:"string",customerSupportLinks:"Array",overwrittenLinks:"object",clickFriendsProfileType:"string",isInDesktopResize:"boolean",showSignInText:"string",thirdPartyCookiesSupport:"boolean",spaceId:"string",hasParentSiteTrackingIntegrate:"boolean",hasParentSiteTcOptoutSdkCookieSet:"boolean",browserScrollbarWidth:"number",scrollbarNegativeMarginValue:"number",enableDebug:"boolean",customStoreBuyButton:"boolean",onConnect:"function",onShowHide:"function",onShowHideScrollOnMobile:"function",onChangeLocale:"function",collapse:"function",expandFriends:"function",expandPlayerCard:"function",expandNotifications:"function",onFriendAction:"function"};if("object"===("undefined"==typeof options?"undefined":_typeof(options))){var isValid=!Object.keys(options).find(function(optionsKey){return!typeToCheck[optionsKey]||("Array"===typeToCheck[optionsKey]?!Array.isArray(options[optionsKey]):_typeof(options[optionsKey])!==typeToCheck[optionsKey])});isValid&&(this.options=__assign({},this.options,options),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_UPDATE_INTEGRATOR_CONFIG,this.options),Object.prototype.hasOwnProperty.call(options,"enableDebug")&&(this.connectService.debugService.setDebug(options.enableDebug),this.channel.setDebug(options.enableDebug)))}}},{key:"checkIfLoginParamsExist",value:function(payload){var hasLoginParams=!1;if(!payload.loginParams)return hasLoginParams;if(Object.keys(payload.loginParams).forEach(function(key){var webAuthLocalStorageKeys=["loginData","lastProfile","rememberMe","rememberDevice","errorRefreshData","lockRequestsKey","ssoCallBackStatusKey"];webAuthLocalStorageKeys.find(function(webAuthKey){return key.indexOf(webAuthKey)!==-1})&&(hasLoginParams=!0,localStorage.setItem(key,JSON.stringify(payload.loginParams[key])))}),Object.keys(payload.loginParams).indexOf(this.config.connectEnv.toUpperCase()+"loginData")!==-1&&Object.keys(payload.loginParams).indexOf(this.config.connectEnv.toUpperCase()+"ssoCallBackStatusKey")!==-1){this.connectService.removeAllOverlayDataFromLocaleStorage();var data=payload.loginParams[this.config.connectEnv.toUpperCase()+"loginData"];data.status&&"ok"===data.status&&this.connectService.setItemInLocalStorage(this.connectService.CONNECTloginData,{opId:data.opId,sessionId:data.payload.sessionId,ticket:data.payload.ticket,token:data.payload.token,user_id:data.payload.userId,expiration:data.payload.expiration||data.expirationDate}),this.connectService.setCONNECTssoExpirationInLocalStorage(__WEBPACK_IMPORTED_MODULE_4__authentication_entities_Window__.c.OK,payload.loginParams[this.config.connectEnv.toUpperCase()+"ssoCallBackStatusKey"].expirationDate),localStorage.getItem(this.config.connectEnv.toUpperCase()+"errorRefreshData")&&localStorage.removeItem(this.config.connectEnv.toUpperCase()+"errorRefreshData"),localStorage.getItem(this.connectService.CONNECTerror)&&localStorage.removeItem(this.connectService.CONNECTerror)}return hasLoginParams}},{key:"openPopupWindow",value:function(payload){var left=(payload.availWidth-payload.width)/2+payload.availLeft,top=(payload.availHeight-payload.height)/2+payload.availTop;this.debugService.log("openPopupWindow: left: "+left),this.debugService.log("openPopupWindow: top: "+top),this.debugService.log("openPopupWindow pop up features: toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width="+payload.width+",height="+payload.height+",left="+Math.ceil(left)+",top="+Math.ceil(top));try{var newWindow=window.open(payload.url,payload.title,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width="+payload.width+",height="+payload.height+",left="+Math.ceil(left)+",top="+Math.ceil(top));window.focus&&newWindow.focus()}catch(e){console.error(e)}}},{key:"getIsSsoPage",value:function(){return this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"isSso")||this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"refreshStatus")||this.findByKey(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__utils_getQueryParameters__.a)(),"connectSsoId")}},{key:"handleGetThirdPartyStatusForLogin",value:function(shouldLogin){var _this22=this;this.connectService.ubisoftConnectService.getThirdPartyStatus().then(function(thirdPartyCookiesSupport){_this22.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_THIRD_PARTY_COOKIES_SUPPORT,{thirdPartyCookiesSupport:thirdPartyCookiesSupport,shouldLogin:shouldLogin})})}},{key:"handleOnFriendAction",value:function(payload){this.options.onFriendAction&&this.options.onFriendAction(payload.pid,payload.state)}},{key:"cssUrl",get:function(){return this.config.assetsUrl+"/widget.css"}}],[{key:"isMobileDevice",value:function(){/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)}}]),WidgetService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedIntegratorConfigurationAction});var LoadedIntegratorConfigurationAction=function LoadedIntegratorConfigurationAction(configuration){_classCallCheck(this,LoadedIntegratorConfigurationAction),this.configuration=configuration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangedLocaleAction});var ChangedLocaleAction=function ChangedLocaleAction(locale){_classCallCheck(this,ChangedLocaleAction),this.locale=locale}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedLocaleAction});var LoadedLocaleAction=function LoadedLocaleAction(locale,catalog){_classCallCheck(this,LoadedLocaleAction),this.locale=locale,this.catalog=catalog}},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_ChangedLocaleAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),
__webpack_require__(606)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedLocaleAction__=__webpack_require__(607),__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return LocaleStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LocaleStore=function(_ReducerStore){function LocaleStore(){_classCallCheck(this,LocaleStore);var _this=_possibleConstructorReturn(this,(LocaleStore.__proto__||Object.getPrototypeOf(LocaleStore)).call(this));return _this.bind(null,function(){return{catalogs:{},currentLocale:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedLocaleAction__.a.name,_this.loadedLocale),_this.bind(__WEBPACK_IMPORTED_MODULE_1__actions_ChangedLocaleAction__.a.name,_this.changedLocale),_this}return _inherits(LocaleStore,_ReducerStore),_createClass(LocaleStore,[{key:"loadedLocale",value:function(state,payload){return Object.assign({},state,{catalogs:Object.assign({},state.catalogs||{},_defineProperty({},payload.locale,payload.catalog))})}},{key:"changedLocale",value:function(state,payload){return Object.assign({},state,{currentLocale:payload.locale})}}]),LocaleStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);LocaleStore=__decorate([__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__.a,__metadata("design:paramtypes",[])],LocaleStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__entities_Api__=__webpack_require__(215);__webpack_require__.d(exports,"a",function(){return GamesApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},GamesApi=function(_AbstractActions){function GamesApi(httpService){_classCallCheck(this,GamesApi);var _this=_possibleConstructorReturn(this,(GamesApi.__proto__||Object.getPrototypeOf(GamesApi)).call(this));return _this.httpService=httpService,_this}return _inherits(GamesApi,_AbstractActions),_createClass(GamesApi,[{key:"getUbisoftGamesList",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,spaceIds=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],platformType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],iterator=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,defaultOnly=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/global/ubiconnect/games/api/catalog").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())).query("defaultOnly",defaultOnly),spaceIds.length&&request.query("spaceIds",spaceIds.join(",")),spaceIds.length||request.query("offset",offset),spaceIds.length||request.query("limit",limit),platformType.length&&request.query("platformType",platformType.join(",")),_context.abrupt("return",this.httpService.send(request).then(function(result){return result.data.games.length>=limit&&!spaceIds.length&&iterator<__WEBPACK_IMPORTED_MODULE_7__entities_Api__.a?(iterator++,_this2.getUbisoftGamesList(offset+limit,limit,spaceIds,platformType,iterator).then(function(secondResult){return result.data.games.concat(secondResult)})):result.data.games||[]}));case 6:case"end":return _context.stop()}},_callee,this)}))}},{key:"getUbisoftGamesListBySpaceId",value:function(spaceIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var _spaceIds,requests,request,_this3=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:for(_spaceIds=spaceIds.slice(),requests=[];_spaceIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/global/ubiconnect/games/api/catalog").query("spaceIds",_spaceIds.splice(0,50).join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())),requests.push(request);return _context2.abrupt("return",Promise.all(requests.map(function(request){return _this3.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.games}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"getMyGamesPlayed",value:function(spaceIds,spacePlatformTypes,applicationPlatformTypes,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var request;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/me/gamesplayed").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId),spaceIds&&spaceIds.length&&request.query("spaceIds",spaceIds.join(",")),spacePlatformTypes&&spacePlatformTypes.length&&request.query("spacePlatformTypes",spacePlatformTypes.join(",")),applicationPlatformTypes&&applicationPlatformTypes.length&&request.query("applicationPlatformTypes",applicationPlatformTypes.join(",")),limit&&request.query("limit",limit),_context3.abrupt("return",this.httpService.send(request).then(function(response){return response.data.gamesPlayed||[]}));case 6:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"getGamesPlayedByProfilesIdsAndSpaceIds",value:function(profileIds,spaceIds,spacePlatformTypes,applicationPlatformTypes,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var _profileIds,requests,profiles,_spaceIds,request,_this4=this;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:for(_profileIds=profileIds.slice(),requests=[];_profileIds.length>0;)for(profiles=_profileIds.splice(0,20),_spaceIds=spaceIds.slice();_spaceIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/gamesplayed").query("profileIds",profiles.join(",")).query("spaceIds",_spaceIds.splice(0,5).join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId),spacePlatformTypes&&spacePlatformTypes.length&&request.query("spacePlatformTypes",spacePlatformTypes.join(",")),applicationPlatformTypes&&applicationPlatformTypes.length&&request.query("applicationPlatformTypes",applicationPlatformTypes.join(",")),limit&&request.query("limit",limit),requests.push(request);return _context4.abrupt("return",Promise.all(requests.map(function(request){return _this4.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.gamesPlayed}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"getGamesPlayedByProfilesIds",value:function(profileIds,spacePlatformTypes,applicationPlatformTypes,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var _profileIds,requests,profiles,request,_this5=this;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:for(_profileIds=profileIds.slice(),requests=[];_profileIds.length>0;)profiles=_profileIds.splice(0,20),request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/gamesplayed").query("profileIds",profiles.join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId),spacePlatformTypes&&spacePlatformTypes.length&&request.query("spacePlatformTypes",spacePlatformTypes.join(",")),applicationPlatformTypes&&applicationPlatformTypes.length&&request.query("applicationPlatformTypes",applicationPlatformTypes.join(",")),limit&&request.query("limit",limit),requests.push(request);return _context5.abrupt("return",Promise.all(requests.map(function(request){return _this5.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.gamesPlayed}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context5.stop()}},_callee5,this)}))}}]),GamesApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);GamesApi=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],GamesApi)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return REWARD_RARITY});var REWARD_RARITY;!function(REWARD_RARITY){REWARD_RARITY[REWARD_RARITY.EXOTIC="exotic"]="EXOTIC",REWARD_RARITY[REWARD_RARITY.COMMON="common"]="COMMON",REWARD_RARITY[REWARD_RARITY.RARE="rare"]="RARE",REWARD_RARITY[REWARD_RARITY.EPIC="epic"]="EPIC",REWARD_RARITY[REWARD_RARITY.LEGENDARY="legendary"]="LEGENDARY"}(REWARD_RARITY||(REWARD_RARITY={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6__stores_SocialNetworkStore__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__=__webpack_require__(91);__webpack_require__.d(exports,"a",function(){return PsnAccountsQueries});var PsnAccountsQueries=function PsnAccountsQueries(){_classCallCheck(this,PsnAccountsQueries)};PsnAccountsQueries.getPsnProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_2__selectors__.f,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_UserProfile__.a.PSN})}),PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__.a.getPsnFriends,PsnAccountsQueries.getPsnProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.user.onlineId==myProfile.nameOnPlatform}):[]}),PsnAccountsQueries.getPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.friends.friendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),PsnAccountsQueries.getNbOfPsnFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriendsInList",PsnAccountsQueries.getPsnFriends,function(friends){return friends.length}),PsnAccountsQueries.getNbOfPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].friends.totalResults:0}),PsnAccountsQueries.getOnlyPsnUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getOnlyPsnUserProfiles",__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_UserProfile__.a.PSN&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getPsnFriends,PsnAccountsQueries.getOnlyPsnUserProfiles,__WEBPACK_IMPORTED_MODULE_2__selectors__.v,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__.a.getById,function(friendsOnPsn,userProfilesById,friendsById,byId,metaProgressionProfiles){var friendsWithLinkedAccount=[];return friendsOnPsn.length&&Object.keys(userProfilesById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnPsn=friendsOnPsn.find(function(friend){return friend.onlineId==userProfileById.nameOnPlatform}),isFriend=!!friendsById[userId],pid=isFriend?friendsById[userId].pid:userProfileById.userId;friendOnPsn&&byId[userId]&&friendsWithLinkedAccount.push({pid:isFriend?friendsById[userId].pid:userProfileById.userId,userName:isFriend?friendsById[userId].nickname:byId[userId]?byId[userId].nameOnPlatform:friendOnPsn.onlineId,userAvatarUrl:friendOnPsn.avatarUrl,hasPsnProfile:!0,psnName:friendOnPsn.onlineId,hasXboxProfile:!1,xboxName:null,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null,userLevel:metaProgressionProfiles[pid]?metaProgressionProfiles[pid].level:0})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,function(friends){return friends.length}),PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn",PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn,function(nbFriends){return nbFriends>0}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,__WEBPACK_IMPORTED_MODULE_6__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,function(friends,show){return show?friends.slice(0,2):friends})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_UserProfile__=__webpack_require__(67);__webpack_require__.d(exports,"a",function(){return SocialNetworkQueries});var SocialNetworkQueries=function SocialNetworkQueries(){_classCallCheck(this,SocialNetworkQueries)};SocialNetworkQueries.getIsLinkedWithPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithPsn",__WEBPACK_IMPORTED_MODULE_1__selectors__.f,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_UserProfile__.a.PSN})}),SocialNetworkQueries.getIsLinkedWithXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithXbox",__WEBPACK_IMPORTED_MODULE_1__selectors__.f,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE})}),SocialNetworkQueries.getIsLinkedWithSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithSteam",__WEBPACK_IMPORTED_MODULE_1__selectors__.f,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_UserProfile__.a.STEAM})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(100));__webpack_require__.d(exports,"a",function(){return UserNameQueries});var UserNameQueries=function UserNameQueries(){_classCallCheck(this,UserNameQueries)};UserNameQueries.getHasAnyError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorAvailable,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasStartError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameLengthError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCharacterError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCompanyError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorTimeLimit,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorGeneral,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameUbisoftError,function(hasUserNameUniqueError,hasUserNameStartError,hasUserNameLengthError,hasUserNameCharactersError,hasUserNameCompanyError,hasUserTimeLimitError,hasGeneralError,hasUserNameUbisoftError){return hasUserNameUniqueError||hasUserNameStartError||hasUserNameLengthError||hasUserNameCharactersError||hasUserNameCompanyError||hasUserTimeLimitError||hasGeneralError||hasUserNameUbisoftError}),UserNameQueries.getHasUserNameLengthError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameLengthError,function(hasError,hasUserNameLengthError){return hasUserNameLengthError}),UserNameQueries.getHasStartError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasStartError,function(hasError,hasStartErrorsError){return hasStartErrorsError}),UserNameQueries.getHasCharacterError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCharacterError,function(hasError,hasCharacterErroror){return hasCharacterErroror}),UserNameQueries.getHasCompanyError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCompanyError,function(hasError,hasCompanyErrorrror){return hasCompanyErrorrror}),UserNameQueries.getHasUserNameErrorAvailable=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorAvailable,function(hasError,hasUserNameErrorAvailable){return hasUserNameErrorAvailable}),UserNameQueries.getHasUserNameErrorRequired=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorRequired,function(hasError,hasUserNameErrorRequired){return hasUserNameErrorRequired}),UserNameQueries.getHasUserNameErrorRestricted=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorRestricted,function(hasError,hasUserNameErrorRestricted){return hasUserNameErrorRestricted}),UserNameQueries.getHasUserNameErrorLocalized=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorLocalized,function(hasError,hasUserNameErrorLocalized){return hasUserNameErrorLocalized}),UserNameQueries.getHasUserNameErrorGeneral=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorGeneral,function(hasError,hasUserNameErrorGeneral){return hasUserNameErrorGeneral}),UserNameQueries.getHasUserNameErrorTimeLimit=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorTimeLimit,function(hasError,hasUserNameErrorTimeLimit){return hasUserNameErrorTimeLimit}),UserNameQueries.getHasUserNameUbisoftError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameUbisoftError,function(hasError,hasUserNameUbisoftError){return hasUserNameUbisoftError})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6__stores_SocialNetworkStore__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__=__webpack_require__(91);__webpack_require__.d(exports,"a",function(){return XboxAccountsQueries});var XboxAccountsQueries=function XboxAccountsQueries(){_classCallCheck(this,XboxAccountsQueries)};XboxAccountsQueries.getXboxProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_2__selectors__.f,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE})}),XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__.a.getXboxFriends,XboxAccountsQueries.getXboxProfileForCurrentUser,function(xboxFriends,myProfile){return myProfile?xboxFriends.filter(function(friend){return friend.user.xuid==myProfile.idOnPlatform}):[]}),XboxAccountsQueries.getXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){
return friends.length?friends.map(function(friend){return friend.friends.friendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),XboxAccountsQueries.getNbOfXboxFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriendsInList",XboxAccountsQueries.getXboxFriends,function(friends){return friends.length}),XboxAccountsQueries.getNbOfXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].friends.totalResults:0}),XboxAccountsQueries.getOnlyXboxUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getOnlyXboxUserProfiles",__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_7__modules_serviceApis_entities_UserProfile__.a.XBOX_LIVE&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),XboxAccountsQueries.getUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getXboxFriends,XboxAccountsQueries.getOnlyXboxUserProfiles,__WEBPACK_IMPORTED_MODULE_2__selectors__.v,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_9__stores_MetaProgressionProfileStore__.a.getById,function(friendsOnXbox,userProfilesById,friendsById,byId,metaProgressionProfiles){var friendsWithLinkedAccount=[];return friendsOnXbox.length&&Object.keys(userProfilesById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnXbox=friendsOnXbox.find(function(friend){return friend.xuid==userProfileById.idOnPlatform}),isFriend=!!friendsById[userId],pid=isFriend?friendsById[userId].pid:userProfileById.userId;friendOnXbox&&byId[userId]&&friendsWithLinkedAccount.push({pid:pid,userName:isFriend?friendsById[userId].nickname:byId[userId].nameOnPlatform,userAvatarUrl:friendOnXbox.avatarUrl,hasPsnProfile:!1,psnName:null,hasXboxProfile:!0,xboxName:friendOnXbox.gamerTag,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_8__modules_serviceApis_entities_Friend__.a.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null,userLevel:metaProgressionProfiles[pid]?metaProgressionProfiles[pid].level:0})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,function(friends){return friends.length}),XboxAccountsQueries.getHasUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox,function(nbFriends){return nbFriends>0}),XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,__WEBPACK_IMPORTED_MODULE_6__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,function(friends,show){return show?friends.slice(0,2):friends})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(286)),__WEBPACK_IMPORTED_MODULE_3__AvatarService__=__webpack_require__(313),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__=__webpack_require__(509),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__=__webpack_require__(510),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__=__webpack_require__(859),__WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__=__webpack_require__(573),__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__=__webpack_require__(292),__WEBPACK_IMPORTED_MODULE_11__actions_UploadAvatarAction__=__webpack_require__(295),__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(287),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(293),__WEBPACK_IMPORTED_MODULE_15__actions_ToggleStopAvatarEventPropagationAction__=__webpack_require__(571),__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_17__actions_ToggleShowAvatarSelectorAction__=__webpack_require__(566),__WEBPACK_IMPORTED_MODULE_18__actions_ToggleAvatarTabsAction__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_19__entities_Avatar__=__webpack_require__(599),__WEBPACK_IMPORTED_MODULE_20__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_21__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowAvatarRulesAction__=__webpack_require__(565),__WEBPACK_IMPORTED_MODULE_24__actions_AvatarGalleryFailedAction__=__webpack_require__(506),__WEBPACK_IMPORTED_MODULE_25__actions_LoadedAvatarAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_26__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_27__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_28__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_29__actions_CheckIntervalAction__=__webpack_require__(523),__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_NameChangeService__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_31__queries_UserQueries__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_32__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_33__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return ChangeAvatarService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},blueimpLoadImage=__webpack_require__(991),ChangeAvatarService=function(_AbstractActions){function ChangeAvatarService(avatarService,communicationService,analyticsService,nameChangeService,commonActionsService){_classCallCheck(this,ChangeAvatarService);var _this=_possibleConstructorReturn(this,(ChangeAvatarService.__proto__||Object.getPrototypeOf(ChangeAvatarService)).call(this));return _this.avatarService=avatarService,_this.communicationService=communicationService,_this.analyticsService=analyticsService,_this.nameChangeService=nameChangeService,_this.commonActionsService=commonActionsService,_this}return _inherits(ChangeAvatarService,_AbstractActions),_createClass(ChangeAvatarService,[{key:"handleGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())){_context.next=2;break}return _context.abrupt("return");case 2:return this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","close edit avatar popup"),this.analyticsService.trackPage("user tab","player card"),_context.next=6,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 6:this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_UploadAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleAvatarTabsAction__.a((!0),(!1)));case 14:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleShowAvatarComponent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var promises;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())){_context2.next=4;break}return _context2.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 3:return _context2.abrupt("return");case 4:return this.analyticsService.trackEvent("user tab","player card","global nav","interaction","edit your avatar"),this.analyticsService.trackPage("user tab","player card : avatar"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0)))],__WEBPACK_IMPORTED_MODULE_20__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&promises.push(this.commonActionsService.hideOverviewDetailsGameContent()),__WEBPACK_IMPORTED_MODULE_21__stores_UserNameStore__.a.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),promises.push(this.commonActionsService.hideOverviewDetailsUserNameContent())),promises.length&&Promise.all(promises),__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getFilteredAvatarsFromGallery(this.getState())?this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_ToggleShowAvatarSelectorAction__.a((!1))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_ToggleShowAvatarSelectorAction__.a((!0))),_context2.next=13,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a(__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getIsMyAvatarBaned(this.getState())||__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getIsPlayerBanned(this.getState())));case 15:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"loadAvatarsFromGallery",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.avatarService.loadAvatarsFromGallery();case 3:return _context3.abrupt("return",_context3.sent);case 6:return _context3.prev=6,_context3.t0=_context3["catch"](0),_context3.abrupt("return",Promise.resolve());case 9:case"end":return _context3.stop()}},_callee3,this,[[0,6]])}))}},{key:"onChangeGame",value:function(gameCode){this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__.a(gameCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__.a(null))}},{key:"onTypeGameName",value:function(value){var _this2=this,debounceFunction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.debounce)(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__.a(value))},100);debounceFunction()}},{key:"onSlectAvatar",value:function(avatarId){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||(this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(avatarId)))}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","choose from gallery : cancel editing"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null));case 3:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_24__actions_AvatarGalleryFailedAction__.a((!1))),this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","choose from gallery : save editing"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),_context5.prev=3,_context5.next=6,this.avatarService.saveAvatarFromGallery(__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getAvatarId(this.getState()));case 6:return _context5.next=8,this.handleGoBack();case 8:_context5.next=15;break;case 10:return _context5.prev=10,_context5.t0=_context5["catch"](3),this.dispatch(new __WEBPACK_IMPORTED_MODULE_24__actions_AvatarGalleryFailedAction__.a((!0))),_context5.next=15,this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_LoadedAvatarAction__.a(_defineProperty({},__WEBPACK_IMPORTED_MODULE_26__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarData(this.getState())),_defineProperty({},__WEBPACK_IMPORTED_MODULE_26__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarDataDetails(this.getState())),_defineProperty({},__WEBPACK_IMPORTED_MODULE_26__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarDataImages(this.getState())),_defineProperty({},__WEBPACK_IMPORTED_MODULE_26__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),0)));case 15:case"end":return _context5.stop()}},_callee5,this,[[3,10]])}))}},{key:"onDropAvatar",value:function(files){var _this3=this;if(files.length<=0)return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!0),(!1),(!1),(!0),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!0)));var file=files[0];if(file.preview=URL.createObjectURL(file),!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.includes)(["image/png","image/jpg","image/jpeg"],file.type)||file.name.toLowerCase().indexOf(".jpeg")!==-1)return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!0),(!0),(!1),(!1),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!0)));var image=document.createElement("img");image.id="img-avatar-upload",image.style.visibility="hidden",image.style.opacity="0",image.style.height="0",image.style.position="fixed",image.style.top="0",image.style.zIndex="-1000",image.style.setProperty("image-orientation","from-image"),document.body.appendChild(image),image.onload=function(){image.naturalWidth<__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__.a||image.naturalHeight<__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__.a?(_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!0),(!1),(!0),(!1),(!1),null)),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!0))),document.body.removeChild(image)):blueimpLoadImage.parseMetaData(file,function(data){if(data.exif&&data.exif.get("Orientation")&&!image.style.getPropertyValue("image-orientation")){var canvas=blueimpLoadImage.scale(image,{canvas:!0,orientation:data.exif.get("Orientation")});file.preview=canvas.toDataURL()}document.body.removeChild(image),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!1),(!1),(!1),(!1),(!1),file)),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!0))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null))})},image.src=file.preview}},{key:"onLoadFailure",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!0),(!1),(!1),(!0),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!0)))}},{key:"onClickCancelUploadAvatarToService",value:function(){this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","upload your avatar : cancel editing");var filePreview=__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview(this.getState());this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!1),(!1),(!1),(!1),(!1),null)),filePreview&&URL.revokeObjectURL(filePreview),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1)))}},{key:"onClickUploadAvatarToService",value:function(avatarEditorRef){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var fileName,fileType,img,image,_this4=this;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_UploadAvatarAction__.a((!0))),fileName=__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getFileName(this.getState()),fileType=__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getFileType(this.getState()),img=avatarEditorRef.getImage().toDataURL(),image=new Image,_context6.next=7,new Promise(function(resolve){image.onload=function(){var canvas=document.createElement("canvas");canvas.width=500,canvas.height=500,canvas.getContext("2d").drawImage(image,0,0,500,500);var save=canvas.toDataURL(fileType);resolve(_this4.saveAvatarUpload(save,fileName))},image.src=img});case 7:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"saveAvatarUpload",value:function(dataURL,fileName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var filePreview,_filePreview;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","upload your avatar : save editing"),_context7.prev=1,_context7.next=4,this.avatarService.saveUploadedAvatar(dataURL);case 4:return _context7.next=6,this.handleGoBack();case 6:filePreview=__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview(this.getState()),filePreview&&URL.revokeObjectURL(filePreview),_context7.next=18;break;case 10:_context7.prev=10,_context7.t0=_context7["catch"](1),_filePreview=__WEBPACK_IMPORTED_MODULE_12__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview(this.getState()),_filePreview&&URL.revokeObjectURL(_filePreview),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_UploadImageAction__.a((!0),(!1),(!1),(!1),(!0),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_UploadAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!0)));case 18:case"end":return _context7.stop()}},_callee7,this,[[1,10]])}))}},{key:"handleClickCloseAvatarTooltip",value:function(showTooltip){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarTooltipAction__.a((!showTooltip)))}},{key:"handleClickCloseRules",value:function(showRules){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||this.dispatch(new __WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowAvatarRulesAction__.a((!showRules)))}},{key:"onToggleStopEventPropagation",value:function(stopEventPropagation){this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleStopAvatarEventPropagationAction__.a(stopEventPropagation))}},{key:"onToggleShowAvatarSelector",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_ToggleShowAvatarSelectorAction__.a((!toggle)))}},{key:"onClickChangeTab",value:function(avatarTab){if(!__WEBPACK_IMPORTED_MODULE_31__queries_UserQueries__.a.getMyMinorStatus(this.getState())||avatarTab!=__WEBPACK_IMPORTED_MODULE_19__entities_Avatar__.a.UPLOAD_AVATAR_TAB)return avatarTab==__WEBPACK_IMPORTED_MODULE_19__entities_Avatar__.a.GALLERY_AVATAR_TAB?(this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","choose from gallery"),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleAvatarTabsAction__.a((!0),(!1)))):avatarTab==__WEBPACK_IMPORTED_MODULE_19__entities_Avatar__.a.UPLOAD_AVATAR_TAB?(this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","upload your avatar"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleAvatarTabsAction__.a((!1),(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null))):void this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleAvatarTabsAction__.a((!0),(!1)))}},{key:"checkInterval",value:function(changeTooltipState){if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_29__actions_CheckIntervalAction__.a),__WEBPACK_IMPORTED_MODULE_28__modules_configuration_queries_ConfigurationQueries__.a.getAreAvatarsInMaintenance(this.getState())&&__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&(this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect()),changeTooltipState)){changeTooltipState({showTooltip:!0});var setTimeoutId=setTimeout(function(){changeTooltipState({showTooltip:!1}),clearTimeout(setTimeoutId)},5e3)}}}]),ChangeAvatarService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ChangeAvatarService=__decorate([__WEBPACK_IMPORTED_MODULE_32__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__AvatarService__.a,__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_27__modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_NameChangeService__.a,__WEBPACK_IMPORTED_MODULE_33__modules_integrator_communication_services_CommonActionsService__.a])],ChangeAvatarService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(198)),__WEBPACK_IMPORTED_MODULE_3__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_4__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_api_GamesApi__=__webpack_require__(609),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return FriendsPlayingGameService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value));
}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsPlayingGameService=function(_AbstractActions){function FriendsPlayingGameService(gamesApi){_classCallCheck(this,FriendsPlayingGameService);var _this=_possibleConstructorReturn(this,(FriendsPlayingGameService.__proto__||Object.getPrototypeOf(FriendsPlayingGameService)).call(this));return _this.gamesApi=gamesApi,_this}return _inherits(FriendsPlayingGameService,_AbstractActions),_createClass(FriendsPlayingGameService,[{key:"loadFriendsPlayingGame",value:function(instalmentId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var friendsUserProfilesIds,spaceIdsKey,expiration,spaceId,game,siblings,spaceIds,friendsPlayingGame;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(friendsUserProfilesIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.n)(this.getState()),spaceIdsKey=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__selectors__.g)(this.getState()),expiration=__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState())[instalmentId]&&__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState())[instalmentId][spaceIdsKey]?__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState())[instalmentId][spaceIdsKey]:0,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_9__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=6;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a({},{})),_context.abrupt("return");case 6:if(_context.prev=6,spaceId=__WEBPACK_IMPORTED_MODULE_3__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId(this.getState())[instalmentId]){_context.next=11;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},instalmentId,_defineProperty({},spaceIdsKey,null)),__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState()))),_context.abrupt("return");case 11:if(game=__WEBPACK_IMPORTED_MODULE_3__stores_UbisoftGamesStore__.a.getBySpaceId(this.getState())[__WEBPACK_IMPORTED_MODULE_3__stores_UbisoftGamesStore__.a.getByInstallmentSpaceId(this.getState())[instalmentId]]){_context.next=15;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},instalmentId,_defineProperty({},spaceIdsKey,null)),__WEBPACK_IMPORTED_MODULE_8__stores_FriendsGamesPlayedStore__.a.getExpiration(this.getState()))),_context.abrupt("return");case 15:return siblings=__WEBPACK_IMPORTED_MODULE_3__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId(this.getState())[game.spaceId],siblings||(siblings=[]),spaceIds=siblings.concat([spaceId]),_context.next=20,this.gamesApi.getGamesPlayedByProfilesIdsAndSpaceIds(friendsUserProfilesIds,spaceIds);case 20:friendsPlayingGame=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},instalmentId,_defineProperty({},spaceIdsKey,friendsPlayingGame)),_defineProperty({},instalmentId,_defineProperty({},spaceIdsKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())))),_context.next=27;break;case 24:_context.prev=24,_context.t0=_context["catch"](6),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},instalmentId,null),_defineProperty({},instalmentId,_defineProperty({},spaceIdsKey,0))));case 27:case"end":return _context.stop()}},_callee,this,[[6,24]])}))}}]),FriendsPlayingGameService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsPlayingGameService=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_api_GamesApi__.a])],FriendsPlayingGameService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(77)),__WEBPACK_IMPORTED_MODULE_2__RewardsService__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_4__GamesService__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_5__actions_LoadingRewardsAction__=__webpack_require__(203),__WEBPACK_IMPORTED_MODULE_6__actions_LoadingGameStatsAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_7__actions_ChangeLPGPlatformAction__=__webpack_require__(194),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeCarouselLPGAction__=__webpack_require__(258),__WEBPACK_IMPORTED_MODULE_9__StatsComparisonService__=__webpack_require__(320),__WEBPACK_IMPORTED_MODULE_10__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_12__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_13__queries_FriendsOwnedGamesQueries__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(289),__WEBPACK_IMPORTED_MODULE_15__modules_integrator_communication_services_NameChangeService__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_16__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_17__RewardsViewService__=__webpack_require__(318),__WEBPACK_IMPORTED_MODULE_18__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_19__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_20__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},OtherGamesCarouselService=function(_AbstractActions){function OtherGamesCarouselService(rewardsService,communicationService,gamesService,statsComparisonService,nameChangeService,rewardsViewService,analyticsService,commonActionsService){_classCallCheck(this,OtherGamesCarouselService);var _this=_possibleConstructorReturn(this,(OtherGamesCarouselService.__proto__||Object.getPrototypeOf(OtherGamesCarouselService)).call(this));return _this.rewardsService=rewardsService,_this.communicationService=communicationService,_this.gamesService=gamesService,_this.statsComparisonService=statsComparisonService,_this.nameChangeService=nameChangeService,_this.rewardsViewService=rewardsViewService,_this.analyticsService=analyticsService,_this.commonActionsService=commonActionsService,_this}return _inherits(OtherGamesCarouselService,_AbstractActions),_createClass(OtherGamesCarouselService,[{key:"onClickGame",value:function(offset,id,spaceId,appId,platformCode){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var realSpaceId,promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId(this.getState())||__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId(this.getState())!=id||!__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())){_context.next=4;break}return _context.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 3:return _context.abrupt("return");case 4:return realSpaceId=__WEBPACK_IMPORTED_MODULE_16__queries_OtherGamesCarouselQueries__.a.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:id,appId:appId}),this.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : "+__WEBPACK_IMPORTED_MODULE_16__queries_OtherGamesCarouselQueries__.a.getGameNameByGameId(this.getState(),{gameId:id})),this.analyticsService.trackPage("user tab","game panel"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0))),this.statsComparisonService.resetComponent(),this.rewardsViewService.resetComponent(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadingRewardsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ChangeLPGPlatformAction__.a(id,realSpaceId,appId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeCarouselLPGAction__.a(offset,id,realSpaceId,appId,platformCode))],__WEBPACK_IMPORTED_MODULE_10__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&promises.push(this.commonActionsService.hideOverviewDetailsAvatarContent()),__WEBPACK_IMPORTED_MODULE_11__stores_UserNameStore__.a.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),promises.push(this.commonActionsService.hideOverviewDetailsUserNameContent())),_context.next=12,Promise.all(promises);case 12:return _context.next=14,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 14:return _context.next=16,Promise.all([this.commonActionsService.loadFriendsPalyingGame().then(function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(realSpaceId)})["catch"](function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(realSpaceId)}),this.rewardsService.loadUserRewards(realSpaceId)]);case 16:__WEBPACK_IMPORTED_MODULE_13__queries_FriendsOwnedGamesQueries__.a.getNbOfFriendsPlaying(this.getState())<=0?this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!1)));case 17:case"end":return _context.stop()}},_callee,this)}))}}]),OtherGamesCarouselService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);OtherGamesCarouselService=__decorate([__WEBPACK_IMPORTED_MODULE_19__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__RewardsService__.a,__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_4__GamesService__.a,__WEBPACK_IMPORTED_MODULE_9__StatsComparisonService__.a,__WEBPACK_IMPORTED_MODULE_15__modules_integrator_communication_services_NameChangeService__.a,__WEBPACK_IMPORTED_MODULE_17__RewardsViewService__.a,__WEBPACK_IMPORTED_MODULE_18__modules_analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_20__modules_integrator_communication_services_CommonActionsService__.a])],OtherGamesCarouselService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__queries_RecentlyMetQueries__=__webpack_require__(218),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedRecentlyMetAction__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_api_RecentlyMetApi__=__webpack_require__(890),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_8__stores_RecentlyMetStore__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return RecentlyMetService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RecentlyMetService=function(_AbstractActions){function RecentlyMetService(profilesService,recentlyMetApi){_classCallCheck(this,RecentlyMetService);var _this=_possibleConstructorReturn(this,(RecentlyMetService.__proto__||Object.getPrototypeOf(RecentlyMetService)).call(this));return _this.profilesService=profilesService,_this.recentlyMetApi=recentlyMetApi,_this}return _inherits(RecentlyMetService,_AbstractActions),_createClass(RecentlyMetService,[{key:"loadRecentlyMet",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var entities,recentlyMetProfilePromises,profileIds,expirationKey,expiration,recentlyMetProfileIds,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(entities=[],recentlyMetProfilePromises=[],profileIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.u)(this.getState()),expirationKey=profileIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_8__stores_RecentlyMetStore__.a.getExpiration(this.getState())[expirationKey]?__WEBPACK_IMPORTED_MODULE_8__stores_RecentlyMetStore__.a.getExpiration(this.getState())[expirationKey]:0,__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_10__modules_configuration_entities_CachingTime__.a.FRIENDS_CACHE_TIME)){_context.next=8;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedRecentlyMetAction__.a([],{})),_context.abrupt("return");case 8:return _context.prev=8,profileIds.forEach(function(profileId){return recentlyMetProfilePromises.push(_this2.recentlyMetApi.getRecentlyMetByProfileId(profileId))}),_context.next=12,Promise.all(recentlyMetProfilePromises);case 12:if(entities=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedRecentlyMetAction__.a(entities,_defineProperty({},expirationKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),recentlyMetProfileIds=__WEBPACK_IMPORTED_MODULE_4__queries_RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()),!(recentlyMetProfileIds.length>0)){_context.next=19;break}return _context.next=18,this.profilesService.loadFriendsProfilesByIds(recentlyMetProfileIds);case 18:return _context.abrupt("return",entities);case 19:_context.next=24;break;case 21:_context.prev=21,_context.t0=_context["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedRecentlyMetAction__.a(entities,_defineProperty({},expirationKey,0)));case 24:return _context.abrupt("return",entities);case 25:case"end":return _context.stop()}},_callee,this,[[8,21]])}))}}]),RecentlyMetService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RecentlyMetService=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_api_RecentlyMetApi__.a])],RecentlyMetService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFilterFriendsByNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(511)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FilterFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FilterFriendStore=function(_ReducerStore){function FilterFriendStore(){_classCallCheck(this,FilterFriendStore);var _this=_possibleConstructorReturn(this,(FilterFriendStore.__proto__||Object.getPrototypeOf(FilterFriendStore)).call(this));return _this.bind(null,function(){return{userNameToFilterBy:""}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFilterFriendsByNameAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(FilterFriendStore,_ReducerStore),_createClass(FilterFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToFilterBy:""}}},{key:"handleChangeFriendSateAction",value:function(state,action){return __assign({},state,{userNameToFilterBy:action.userNameToFilterBy})}}]),FilterFriendStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);FilterFriendStore.getState=function(state){return state.FilterFriendStore},FilterFriendStore.getUserNameToFilterBy=function(state){return state.FilterFriendStore.userNameToFilterBy},FilterFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],FilterFriendStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedIpLocationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(534)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return IpLocationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IpLocationStore=function(_ReducerStore){function IpLocationStore(){_classCallCheck(this,IpLocationStore);var _this=_possibleConstructorReturn(this,(IpLocationStore.__proto__||Object.getPrototypeOf(IpLocationStore)).call(this));return _this.bind(null,function(){return{byIp:null,byProfileId:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedIpLocationAction__.a.name,_this.handleLoadedIpLocationAction),_this}return _inherits(IpLocationStore,_ReducerStore),_createClass(IpLocationStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byIp:null,byProfileId:null}}},{key:"handleLoadedIpLocationAction",value:function(state,action){return __assign({},state,{byIp:__assign({},state.byIp,action.byIp),byProfileId:__assign({},state.byProfileId,action.byProfileId)})}}]),IpLocationStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);IpLocationStore.getState=function(state){return state.IpLocationStore},IpLocationStore.getByIp=function(state){return state.IpLocationStore.byIp},IpLocationStore.getByProfileId=function(state){return state.IpLocationStore.byProfileId},IpLocationStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],IpLocationStore)},function(module,exports,__webpack_require__){"use strict";function getMountPoint(){return MOUNT_POINT}function overlayReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultState,action=arguments[1];switch(action.type){case __WEBPACK_IMPORTED_MODULE_0__actions_OverlayOpenAction__.a.name:return handleOverlayOpenEvent(state,action);case __WEBPACK_IMPORTED_MODULE_1__actions_OverlayCloseAction__.a.name:return handleOverlayCloseEvent(state,action)}return state}function handleOverlayOpenEvent(state,payload){return __assign({},state,{isActive:!0})}function handleOverlayCloseEvent(state,payload){return __assign({},state,{isActive:!1})}var __WEBPACK_IMPORTED_MODULE_0__actions_OverlayOpenAction__=__webpack_require__(548),__WEBPACK_IMPORTED_MODULE_1__actions_OverlayCloseAction__=__webpack_require__(547);exports.a=getMountPoint,exports.b=overlayReducer;var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},defaultState={isActive:!1},MOUNT_POINT="OverlayStore"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),
__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(296)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UserEmailVerificationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserEmailVerificationStore=function(_ReducerStore){function UserEmailVerificationStore(){_classCallCheck(this,UserEmailVerificationStore);var _this=_possibleConstructorReturn(this,(UserEmailVerificationStore.__proto__||Object.getPrototypeOf(UserEmailVerificationStore)).call(this));return _this.bind(null,function(){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a.name,_this.handleUserEmailVerificationAction),_this}return _inherits(UserEmailVerificationStore,_ReducerStore),_createClass(UserEmailVerificationStore,[{key:"handleLoggedOutAction",value:function(state,action){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}},{key:"handleUserEmailVerificationAction",value:function(state,action){return Object.assign({},state,{showUserEmailVerificationButton:action.showUserEmailVerificationButton,isEmailVerificationSent:action.isEmailVerificationSent})}}]),UserEmailVerificationStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);UserEmailVerificationStore.getState=function(state){return state.UserEmailVerificationStore},UserEmailVerificationStore.getShowUserEmailVerificationButton=function(state){return state.UserEmailVerificationStore.showUserEmailVerificationButton},UserEmailVerificationStore.getIsEmailVerificationSent=function(state){return state.UserEmailVerificationStore.isEmailVerificationSent},UserEmailVerificationStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],UserEmailVerificationStore)},function(module,exports,__webpack_require__){"use strict";function getLoginNextUrl(env,options,thirdPartyCookiesSupport){var params={appId:options.appId,lang:options.lang};"genomeId"in options&&(params=__assign({},params,{genomeId:options.genomeId})),void 0!==thirdPartyCookiesSupport&&null!==thirdPartyCookiesSupport&&(params=__assign({},params,{thirdPartyCookiesSupport:thirdPartyCookiesSupport}));var queryParams=Object.keys(params).reduce(function(previousValue,currentValue){return previousValue?previousValue+"&"+currentValue+"="+params[currentValue]:currentValue+"="+params[currentValue]},"");return options.nextUrl+"?"+queryParams}exports.a=getLoginNextUrl;var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t}},function(module,exports,__webpack_require__){"use strict";function getLoginUrl(loginUrl,connectEndpoint,options,externalLoginType,isInternetExplorer){var connectUrl=loginUrl;if(externalLoginType||externalLoginType!==__WEBPACK_IMPORTED_MODULE_0__modules_authentication_entities_Window__.a.LOGIN_NONE)switch(externalLoginType){case __WEBPACK_IMPORTED_MODULE_0__modules_authentication_entities_Window__.a.LOGIN_PSN:connectUrl=connectEndpoint+"/psn-external";break;case __WEBPACK_IMPORTED_MODULE_0__modules_authentication_entities_Window__.a.LOGIN_XBOX:connectUrl=connectEndpoint+"/xbox-external";break;case __WEBPACK_IMPORTED_MODULE_0__modules_authentication_entities_Window__.a.LOGIN_TWITCH:connectUrl=connectEndpoint+"/twitch-external";break;default:connectUrl=loginUrl}var url=connectUrl+"?appId="+options.appId+"&lang="+options.lang+"&nextUrl="+encodeURIComponent(options.nextUrl);return options.genomeId&&(url=connectUrl+"?appId="+options.appId+"&genomeId="+options.genomeId+"&lang="+options.lang+"&nextUrl="+encodeURIComponent(options.nextUrl)),url}var __WEBPACK_IMPORTED_MODULE_0__modules_authentication_entities_Window__=__webpack_require__(109);exports.a=getLoginUrl},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stejar_application__=__webpack_require__(972),__WEBPACK_IMPORTED_MODULE_1__stejar_cache__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_application__),__webpack_require__(657)),__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_cache__),__webpack_require__(177)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(903)),__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__=__webpack_require__(900),__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__=__webpack_require__(904),__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__=__webpack_require__(869),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__=__webpack_require__(864),__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__=__webpack_require__(876),__WEBPACK_IMPORTED_MODULE_10_app_components_Application_controllers_ApplicationController__=__webpack_require__(783),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__=__webpack_require__(872),__WEBPACK_IMPORTED_MODULE_13_app_providers_AnalyticsProvider__=__webpack_require__(899),__WEBPACK_IMPORTED_MODULE_14_app_factories_401Factory__=__webpack_require__(860),__WEBPACK_IMPORTED_MODULE_15__providers_WidgetChannelProvider__=__webpack_require__(905),__WEBPACK_IMPORTED_MODULE_16__providers_GeneralChannelProvider__=__webpack_require__(902),__WEBPACK_IMPORTED_MODULE_17__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_18__providers_DebugServiceProvider__=__webpack_require__(901),application=(new __WEBPACK_IMPORTED_MODULE_0__stejar_application__.BrowserApplication).provider(__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__.a,__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__.a,__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__.a,__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__.a,__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__.a,__WEBPACK_IMPORTED_MODULE_13_app_providers_AnalyticsProvider__.a,__WEBPACK_IMPORTED_MODULE_15__providers_WidgetChannelProvider__.a,__WEBPACK_IMPORTED_MODULE_16__providers_GeneralChannelProvider__.a,__WEBPACK_IMPORTED_MODULE_18__providers_DebugServiceProvider__.a).factory(__WEBPACK_IMPORTED_MODULE_14_app_factories_401Factory__.a).bindToMethod("setStore",__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Store).bindToMethod("setCacheService",__WEBPACK_IMPORTED_MODULE_1__stejar_cache__.CacheService);application.get(__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__.a).startCommunication().then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__.a).startCommunication()}).then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__.ConfigurationService).loadConfiguration()}).then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_17__modules_analytics_services_AnalyticsService__.a).boot()}).then(function(){return application.render(__WEBPACK_IMPORTED_MODULE_10_app_components_Application_controllers_ApplicationController__.a,document.getElementById("root")||void 0)})["catch"](function(error){console.error(error)})},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return AvatarImageLoadingAction});var AvatarImageLoadingAction=function AvatarImageLoadingAction(isAvatarImageLoadin){_classCallCheck(this,AvatarImageLoadingAction),this.isAvatarImageLoadin=isAvatarImageLoadin}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeleteLoadKeyMetaProgressionProfileAction});var DeleteLoadKeyMetaProgressionProfileAction=function DeleteLoadKeyMetaProgressionProfileAction(key){_classCallCheck(this,DeleteLoadKeyMetaProgressionProfileAction),this.key=key}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedPsnAction});var IsReloadFailedPsnAction=function IsReloadFailedPsnAction(error){_classCallCheck(this,IsReloadFailedPsnAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedXboxAction});var IsReloadFailedXboxAction=function IsReloadFailedXboxAction(error){_classCallCheck(this,IsReloadFailedXboxAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesAction});var LoadedGamesAction=function LoadedGamesAction(gamesByIds,gamesIds,platformsBySpaceId,platformsSpaceIds,platformsByGameId,platformsByUserId,lastSessionDates,gamesByPlatformId,byUserId,expiration){_classCallCheck(this,LoadedGamesAction),this.gamesByIds=gamesByIds,this.gamesIds=gamesIds,this.platformsBySpaceId=platformsBySpaceId,this.platformsSpaceIds=platformsSpaceIds,this.platformsByGameId=platformsByGameId,this.platformsByUserId=platformsByUserId,this.lastSessionDates=lastSessionDates,this.gamesByPlatformId=gamesByPlatformId,this.byUserId=byUserId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowRewardsHeader});var ToggleShowRewardsHeader=function ToggleShowRewardsHeader(toggle){_classCallCheck(this,ToggleShowRewardsHeader),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleVisitedNotificationsAction});var ToggleVisitedNotificationsAction=function ToggleVisitedNotificationsAction(visited){_classCallCheck(this,ToggleVisitedNotificationsAction),this.visited=visited}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_controllers_BootstrapController__=__webpack_require__(788);__webpack_require__.d(exports,"a",function(){return ApplicationController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApplicationController=function(_PureComponent){function ApplicationController(){return _classCallCheck(this,ApplicationController),_possibleConstructorReturn(this,(ApplicationController.__proto__||Object.getPrototypeOf(ApplicationController)).apply(this,arguments))}return _inherits(ApplicationController,_PureComponent),_createClass(ApplicationController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.ServiceProvider,{serviceManager:this.props.serviceManager},React.createElement(__WEBPACK_IMPORTED_MODULE_3_react_redux__.b,{store:this.props.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store)},React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_controllers_BootstrapController__.a,null))))}}]),ApplicationController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function ChangeAvatarFromGalleryView(props){return React.createElement("div",{className:"choose-from-gallery-container"},props.isInMobileView?React.createElement("h2",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Choose from gallery")):null,props.hasServiceError?React.createElement(__WEBPACK_IMPORTED_MODULE_3__AvatarInfoDropdownView__.a,{hasUploadError:props.hasServiceError,hasFileTypeError:!1,hasImageSizeError:!1,hasImageError:!1,hasServiceError:!1,hasGalleryServiceError:props.hasServiceError}):null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__Platform_views_SearchElementsSelectorView__.a,{selectedOptionKey:props.selectedGameCode,selectedOption:props.selectedGameName,elementsForSelect:props.avatarsForSelect,onChangeElement:props.onChangeGame,onTypeOption:props.onTypeGameName,loadedElements:props.loadedAvatars,onToggleStopEventPropagation:props.onToggleStopEventPropagation,showTooltip:props.showGameSelectorTooltip,locale:props.locale,onClickCloseTooltip:props.onClickCloseGameSelectorTooltip,tooltipText:React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{gamesOwned:0},"%(gamesOwned) games owned")}),React.createElement("div",{className:"avatars-container"},props.avatarsFromGalleryByGameCode.map(function(avatar){return React.createElement("div",{key:avatar.avatarId,className:__WEBPACK_IMPORTED_MODULE_2_classnames___default()("avatar-img-container",{"is-selected":avatar.avatarId==props.selectedAvatarId}),onClick:props.onClickAvatar.bind(null,avatar.avatarId)},React.createElement("img",{src:avatar.imageVariations.find(function(img){return 146===img.width}).url}))})),props.selectedAvatarId?React.createElement("div",{className:"avatars-confirmation-container"},React.createElement("h1",null,"Placeholder"),React.createElement("div",{className:"decline-btn cta"},"Placeholder")):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__Platform_views_SearchElementsSelectorView__=__webpack_require__(597),__WEBPACK_IMPORTED_MODULE_2_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_classnames__),__WEBPACK_IMPORTED_MODULE_3__AvatarInfoDropdownView__=__webpack_require__(299);exports.a=ChangeAvatarFromGalleryView},function(module,exports,__webpack_require__){"use strict";function ChangeAvatarFromUploadDesktopView(props){var avatarText=React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"We could not import your picture.");return props.isMyAvatarBaned&&!props.isPlayerBanned&&(avatarText=React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Avatar rejected")),props.isPlayerBanned&&(avatarText=React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"You are banned from uploading an image as your avatar")),React.createElement("div",{className:"choose-from-upload-container"},React.createElement("div",{className:"avatars-container"},props.isMyAvatarBaned&&!props.isPlayerBanned?React.createElement(__WEBPACK_IMPORTED_MODULE_1__Username_views_InfoDropdownView__.a,{showDropdown:props.showTooltip,warningTypeDropdown:!0,arrowIconTypeDropdown:!0,onClickToggleShowDropdown:props.onClickCloseAvatarTooltip,dropdownText:avatarText,rejectedTypeDropdown:props.isMyAvatarBaned&&!props.isPlayerBanned,bannedTypeDropdown:props.isPlayerBanned},React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__IsMyAvatarBanedView__.a,null))):null,props.isPlayerBanned?[React.createElement("div",{className:"bannedTitle",key:"0"},React.createElement("i",null),React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"You're banned from uploading an image as your avatar.")),React.createElement(__WEBPACK_IMPORTED_MODULE_3__IsUserBanedView__.a,{key:"1"})]:null,props.hasUploadError&&!props.isPlayerBanned?React.createElement(__WEBPACK_IMPORTED_MODULE_4__AvatarInfoDropdownView__.a,{hasUploadError:props.hasUploadError,hasFileTypeError:props.hasFileTypeError,hasImageSizeError:props.hasImageSizeError,hasImageError:props.hasImageError,hasServiceError:props.hasServiceError}):null,props.isPlayerBanned?null:props.dropZoneComponent,props.isPlayerBanned?null:React.createElement("ul",{className:"rules"},React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"File format must be JPG or PNG (8Mb max).")),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Picture must be between 500*500 and 3840*3840 px max.")),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Image must not contain violence, child abuse, racism, terrorism, or nudity.")))))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__Username_views_InfoDropdownView__=__webpack_require__(210),__WEBPACK_IMPORTED_MODULE_2__IsMyAvatarBanedView__=__webpack_require__(585),__WEBPACK_IMPORTED_MODULE_3__IsUserBanedView__=__webpack_require__(586),__WEBPACK_IMPORTED_MODULE_4__AvatarInfoDropdownView__=__webpack_require__(299);exports.a=ChangeAvatarFromUploadDesktopView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_3__Username_views_InfoDropdownView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__),__webpack_require__(210)),__WEBPACK_IMPORTED_MODULE_4__IsMyAvatarBanedView__=__webpack_require__(585),__WEBPACK_IMPORTED_MODULE_5__IsUserBanedView__=__webpack_require__(586),__WEBPACK_IMPORTED_MODULE_6__AvatarInfoDropdownView__=__webpack_require__(299);__webpack_require__.d(exports,"a",function(){return ChooseFromYourPicturesButtonView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Dropzone=__webpack_require__(1404)["default"],ChooseFromYourPicturesButtonView=function(_PureComponent){function ChooseFromYourPicturesButtonView(){_classCallCheck(this,ChooseFromYourPicturesButtonView);var _this=_possibleConstructorReturn(this,(ChooseFromYourPicturesButtonView.__proto__||Object.getPrototypeOf(ChooseFromYourPicturesButtonView)).apply(this,arguments));return _this.state={isDragOver:!1},_this}return _inherits(ChooseFromYourPicturesButtonView,_PureComponent),_createClass(ChooseFromYourPicturesButtonView,[{key:"render",value:function(){var _this2=this,avatarText=React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"We could not import your picture."),rejected=!1;return this.props.isMyAvatarBaned&&!this.props.isPlayerBanned&&(avatarText=React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Avatar rejected"),rejected=!0),React.createElement("div",{className:"choose-from-your-pictures-button-container"},this.props.isInMobileView?[React.createElement("h1",{key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Avatar edit")),React.createElement("h2",{key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Upload an avatar"))]:null,this.props.isInMobileView&&this.props.isMyAvatarBaned&&!this.props.isPlayerBanned?React.createElement(__WEBPACK_IMPORTED_MODULE_3__Username_views_InfoDropdownView__.a,{showDropdown:this.props.showTooltip,warningTypeDropdown:!1,arrowIconTypeDropdown:!1,onClickToggleShowDropdown:this.props.onClickCloseAvatarTooltip,dropdownText:avatarText,rejectedTypeDropdown:rejected},React.createElement("li",null,this.props.isMyAvatarBaned&&!this.props.isPlayerBanned?React.createElement(__WEBPACK_IMPORTED_MODULE_4__IsMyAvatarBanedView__.a,null):null)):null,this.props.isInMobileView&&this.props.isPlayerBanned?[React.createElement("div",{className:"bannedTitle",key:"0"},React.createElement("i",null),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You're banned from uploading an image as your avatar.")),React.createElement(__WEBPACK_IMPORTED_MODULE_5__IsUserBanedView__.a,{key:"1"})]:null,React.createElement(Dropzone,{ref:this.props.dropZoneRef,disableClick:!0,multiple:!1,onDragEnter:function(){_this2.setState({isDragOver:!0})},onDragLeave:function(){_this2.setState({isDragOver:!1})},onDragOver:function(){_this2.setState({isDragOver:!0})},onDrop:function(event){_this2.setState({isDragOver:!1}),_this2.props.onDropAvatar(event)}},function(dropProps){return React.createElement("div",dropProps.getRootProps({className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("avatar-dropzone",{"is-drag-over":_this2.state.isDragOver,"is-in-mobile-view":_this2.props.isInMobileView})}),React.createElement("input",dropProps.getInputProps()),_this2.props.isInMobileView?null:[React.createElement("div",{className:"upload-image-container",key:"0"},React.createElement("i",{className:"upload-image icon-upload"})),React.createElement("p",{className:"drag-and-drop-text bold-text",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Drag and drop your image")),React.createElement("p",{className:"drag-and-drop-text uppercase-text",key:"2"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"or")),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("btn primary latPadding",{"no-pointer-events":_this2.props.isPlayerBanned}),onClick:_this2.props.onClickUploadFile.bind(null),key:"3"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Upload image"))])}),this.props.isInMobileView?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("btn primary latPadding",{"no-pointer-events":this.props.isPlayerBanned}),onClick:this.props.onClickUploadFile.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Upload image")):null,this.props.hasUploadError&&!this.props.isPlayerBanned&&this.props.isInMobileView?React.createElement(__WEBPACK_IMPORTED_MODULE_6__AvatarInfoDropdownView__.a,{hasUploadError:this.props.hasUploadError,hasFileTypeError:this.props.hasFileTypeError,hasImageSizeError:this.props.hasImageSizeError,hasImageError:this.props.hasImageError,hasServiceError:this.props.hasServiceError}):null,!this.props.isInMobileView||this.props.hasUploadError&&!this.props.isPlayerBanned?null:React.createElement("div",{className:"uploadRules"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Username_views_InfoDropdownView__.a,{showDropdown:this.props.showRules,warningTypeDropdown:!1,arrowIconTypeDropdown:!1,onClickToggleShowDropdown:this.props.onClickCloseRules,dropdownText:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Rules")},React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"File format must be JPG or PNG (8Mb max).")),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Picture must be between 500*500 and 3840*3840 px max.")),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Image must not contain violence, child abuse, racism, terrorism, or nudity.")))))}}]),ChooseFromYourPicturesButtonView}(__WEBPACK_IMPORTED_MODULE_2_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(7)),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_4__modules_swiper_services_Swiper__=__webpack_require__(167);__webpack_require__.d(exports,"a",function(){return ResizeAvatarView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AvatarEditor=__webpack_require__(1337),Slider=__webpack_require__(1325)["default"],ResizeAvatarView=function(_PureComponent){function ResizeAvatarView(){return _classCallCheck(this,ResizeAvatarView),_possibleConstructorReturn(this,(ResizeAvatarView.__proto__||Object.getPrototypeOf(ResizeAvatarView)).apply(this,arguments))}return _inherits(ResizeAvatarView,_PureComponent),_createClass(ResizeAvatarView,[{key:"setResizeRef",value:function(view){this._resizeRef=view;
}},{key:"render",value:function(){var paddingLeftRightDesktop=Math.floor(2.6*this.props.remCoefSize),paddingLeftRightMobile=Math.floor(1.3*this.props.remCoefSize),paddingLeftRight=this.props.isInMobileView||this.props.showMobileViewOnDesktop?paddingLeftRightMobile:paddingLeftRightDesktop,borderTopBottom=Math.floor(3*this.props.remCoefSize),width=this.props.isInMobileView||this.props.showMobileViewOnDesktop?!this.props.isInMobileView&&this.props.showMobileViewOnDesktop?334-paddingLeftRight-borderTopBottom:window.innerWidth>300+2*paddingLeftRight+2*borderTopBottom?300:window.innerWidth-2*paddingLeftRight-2*borderTopBottom:300,height=width,borderLeftRight=this.props.isInMobileView||this.props.showMobileViewOnDesktop?!this.props.isInMobileView&&this.props.showMobileViewOnDesktop?borderTopBottom:window.innerWidth>300+2*paddingLeftRight+2*borderTopBottom?(window.innerWidth-width-2*paddingLeftRight)/2:borderTopBottom:(620-width-2*paddingLeftRight)/2;return React.createElement("div",{className:"choose-from-upload-container",ref:this.setResizeRef},React.createElement("h1",{className:"choose-from-upload-title"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Position and size your avatar"),this.props.isInMobileView?React.createElement("i",{className:"icon-close",onClick:this.props.onClickCancelUploadAvatarToService.bind(null)}):null),React.createElement("div",{className:"avatars-container"},React.createElement("div",{className:"avatar-editor-content"},React.createElement("div",{className:"grid-line horizontal thick",style:{width:width,top:borderTopBottom+"px",left:borderLeftRight+"px"}}),React.createElement("div",{className:"grid-line horizontal",style:{width:width,top:"calc("+1/3*width+"px + "+borderTopBottom+"px)",left:borderLeftRight+"px"}}),React.createElement("div",{className:"grid-line horizontal",style:{width:width,top:"calc("+2/3*width+"px + "+borderTopBottom+"px)",left:borderLeftRight+"px"}}),React.createElement("div",{className:"grid-line horizontal thick",style:{width:width,top:"calc("+width+"px + "+borderTopBottom+"px - 4px)",left:borderLeftRight+"px"}}),React.createElement("div",{className:"grid-line vertical thick",style:{height:height,top:borderTopBottom+"px",left:borderLeftRight+"px"}}),React.createElement("div",{className:"grid-line vertical",style:{height:height,top:borderTopBottom+"px",left:"calc("+1/3*width+"px + "+borderLeftRight+"px)"}}),React.createElement("div",{className:"grid-line vertical",style:{height:height,top:borderTopBottom+"px",left:"calc("+2/3*width+"px + "+borderLeftRight+"px)"}}),React.createElement("div",{className:"grid-line vertical thick",style:{height:height,top:borderTopBottom+"px",left:"calc("+width+"px + "+borderLeftRight+"px)"}}),React.createElement(AvatarEditor,{ref:this.props.avatarEditorRef,scale:this.props.uploadScale,width:width,height:height,color:[59,59,59,.7],border:[borderLeftRight,borderTopBottom],image:this.props.avatarImagePreview,onLoadFailure:this.props.onLoadFailure,onLoadSuccess:this.props.onLoadSuccess,onImageReady:this.props.onImageReady,onImageChange:this.props.onImageChange})),React.createElement("div",{className:"custom-avatar-slider"},React.createElement("div",{className:"btn sizeMinus",onClick:this.props.onScaleDownAvatar},React.createElement("i",{className:"icon-less"})),React.createElement(Slider,{onChange:this.props.onChangeUploadScale,className:"custom-avatar-slider-bar",min:1,max:2,step:.01,defaultValue:1,value:this.props.uploadScale}),React.createElement("div",{className:"btn sizePlus",onClick:this.props.onScaleUpAvatar},React.createElement("i",{className:"icon-add"}))),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("avatars-confirmation-container always-display resizeCta in-back load-element",{"in":this.props.uploadingAvatarToService})},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__.a,{loaded:!this.props.uploadingAvatarToService}),this.props.uploadingAvatarToService?null:React.createElement("div",{className:"btns-container"},React.createElement("div",{className:"btn secondary latPadding",onClick:this.props.onClickCancelUploadAvatarToService.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Back")),React.createElement("div",{className:"btn primary latPadding",onClick:this.props.onClickUploadAvatarToService.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Save"))))))}},{key:"componentDidMount",value:function(){this._resizeRef&&(this.swiper=new __WEBPACK_IMPORTED_MODULE_4__modules_swiper_services_Swiper__.a(this._resizeRef,this.handleStartSwipe.bind(this),this.handleEndSwipe.bind(this)))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleStartSwipe",value:function(){this.props.onSwipeAvatar(!0)}},{key:"handleEndSwipe",value:function(){this.props.onSwipeAvatar(!1)}}]),ResizeAvatarView}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__=__webpack_require__(315),__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_controllers_LayoutController__=__webpack_require__(840),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__=__webpack_require__(877),__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_9_lodash__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_lodash__),__webpack_require__(8)),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_13__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_14__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_15__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_16__services_WebsocketService__=__webpack_require__(321);__webpack_require__.d(exports,"a",function(){return BootstrapController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BootstrapController=function(_PureComponent){function BootstrapController(){_classCallCheck(this,BootstrapController);var _this=_possibleConstructorReturn(this,(BootstrapController.__proto__||Object.getPrototypeOf(BootstrapController)).apply(this,arguments));return _this.resizeDebounce=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_lodash__.debounce)(_this.onResize.bind(_this),50,!1),_this.timeouts=[],_this.messageListener=function(event){event.origin===window.self.location.origin&&event.data===__WEBPACK_IMPORTED_MODULE_14__messages__.c.ANALYTICS_SDK_LOADED&&(_this.props.debugService.log("[Ubisoft Analytics] Caught Analytics sdk loaded event"),_this.timeouts.push(setTimeout(function(){_this.state.sCodeReady||_this.state.sCodeRemoved||_this.props.analyticsService.loadSCodeScript()},2e3))),event.origin===window.self.location.origin&&event.data===__WEBPACK_IMPORTED_MODULE_14__messages__.c.S_CODE_READY&&(_this.props.debugService.log("[Ubisoft Analytics] Caught sCode ready event"),_this.setState({sCodeReady:!0})),event.origin===window.self.location.origin&&event.data===__WEBPACK_IMPORTED_MODULE_14__messages__.c.S_CODE_REMOVED&&(_this.props.debugService.log("[Ubisoft Analytics] Caught sCode removed event"),_this.setState({sCodeRemoved:!0}))},_this.state={sCodeReady:!1,sCodeRemoved:!1},_this}return _inherits(BootstrapController,_PureComponent),_createClass(BootstrapController,[{key:"render",value:function(){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"widget-in-mobile-view":this.props.isInMobileView,"dark-background":this.props.hasDarkBackground,"arab-language":this.props.isOnArabLocale,"desktop-resize":this.props.isInDesktopResize&&!this.props.isInMobileView,"show-mobile-view-on-desktop":this.props.showMobileViewOnDesktop})},React.createElement(__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__.a,null),this.props.booted?React.createElement(__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_controllers_LayoutController__.a,null):null)}},{key:"componentDidMount",value:function(){return this.props.bootstrapService.initialize(!1),window.addEventListener("resize",this.resizeDebounce),window.addEventListener("message",this.messageListener),this.onResize(),null}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce),window.removeEventListener("message",this.messageListener),this.props.websocketService.close(),this.timeouts.forEach(function(timer){return clearTimeout(timer)})}},{key:"onResize",value:function(){var width=document.querySelector("html").offsetWidth;if(0==width)return null;if(this.props.isInMobileView&&this.props.showMobileTabs){var coefSize=width/320;document.querySelector("html").style.fontSize=10*coefSize+"px"}else document.querySelector("html").style.fontSize=null}}]),BootstrapController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);BootstrapController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({bootstrapService:__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_13__modules_analytics_services_AnalyticsService__.a,debugService:__WEBPACK_IMPORTED_MODULE_15__services_DebugService__.a,websocketService:__WEBPACK_IMPORTED_MODULE_16__services_WebsocketService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({booted:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getBooted,isInMobileView:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getShowMobileTabs,isOnArabLocale:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsOnArabLocale,hasDarkBackground:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasDarkBackground,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop,hasIdentity:__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getHasIdentity})),__metadata("design:paramtypes",[])],BootstrapController)},function(module,exports,__webpack_require__){"use strict";function CollapsedView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_container_content_user",{"no-upper-blue-line":props.isInDesktopResize&&(props.showPlayerCard||props.showFriends||props.showNotifications),active:props.isActive||props.isInMobileView&&props.showMobileTabs||props.isInDesktopResize&&(props.showPlayerCard||props.showFriends||props.showNotifications)})},React.createElement("div",{onClick:props.onClick,style:{height:"100%",display:"flex",position:"relative"}},React.createElement(__WEBPACK_IMPORTED_MODULE_1__Avatar_views_AvatarView__.a,{avatarUrl:props.avatarUrl}),props.hasNotifications&&props.isInMobileView&&!props.showMobileTabs||props.hasNotifications&&props.isInDesktopResize&&!props.showPlayerCard&&!props.showFriends&&!props.showNotifications?React.createElement("div",{className:"user-notif-container"},React.createElement("div",{className:"user-notif"})):null))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Avatar_views_AvatarView__=__webpack_require__(131);exports.a=CollapsedView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2__utils_isString__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(793)),__WEBPACK_IMPORTED_MODULE_3__utils_returnFalse__=__webpack_require__(794),__WEBPACK_IMPORTED_MODULE_4__utils_getInnerWidth__=__webpack_require__(792),__WEBPACK_IMPORTED_MODULE_5__utils_getInnerHeight__=__webpack_require__(791),__WEBPACK_IMPORTED_MODULE_6__utils_styles__=__webpack_require__(795);__webpack_require__.d(exports,"a",function(){return CustomScrollbarController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]]);return t},_raf=__webpack_require__(726),caf=__webpack_require__(726).cancel,css=__webpack_require__(1252),CustomScrollbarController=function(_PureComponent){function CustomScrollbarController(props,context){_classCallCheck(this,CustomScrollbarController);var _this=_possibleConstructorReturn(this,(CustomScrollbarController.__proto__||Object.getPrototypeOf(CustomScrollbarController)).call(this,props,context));return _this.getScrollLeft=_this.getScrollLeft.bind(_this),_this.getScrollTop=_this.getScrollTop.bind(_this),_this.getScrollWidth=_this.getScrollWidth.bind(_this),_this.getScrollHeight=_this.getScrollHeight.bind(_this),_this.getClientWidth=_this.getClientWidth.bind(_this),_this.getClientHeight=_this.getClientHeight.bind(_this),_this.getValues=_this.getValues.bind(_this),_this.getThumbHorizontalWidth=_this.getThumbHorizontalWidth.bind(_this),_this.getThumbVerticalHeight=_this.getThumbVerticalHeight.bind(_this),_this.getScrollLeftForOffset=_this.getScrollLeftForOffset.bind(_this),_this.getScrollTopForOffset=_this.getScrollTopForOffset.bind(_this),_this.scrollLeft=_this.scrollLeft.bind(_this),_this.scrollTop=_this.scrollTop.bind(_this),_this.scrollToLeft=_this.scrollToLeft.bind(_this),_this.scrollToTop=_this.scrollToTop.bind(_this),_this.scrollToRight=_this.scrollToRight.bind(_this),_this.scrollToBottom=_this.scrollToBottom.bind(_this),_this.handleTrackMouseEnter=_this.handleTrackMouseEnter.bind(_this),_this.handleTrackMouseLeave=_this.handleTrackMouseLeave.bind(_this),_this.handleHorizontalTrackMouseDown=_this.handleHorizontalTrackMouseDown.bind(_this),_this.handleVerticalTrackMouseDown=_this.handleVerticalTrackMouseDown.bind(_this),_this.handleHorizontalThumbMouseDown=_this.handleHorizontalThumbMouseDown.bind(_this),_this.handleVerticalThumbMouseDown=_this.handleVerticalThumbMouseDown.bind(_this),_this.handleWindowResize=_this.handleWindowResize.bind(_this),_this.handleScroll=_this.handleScroll.bind(_this),_this.handleDrag=_this.handleDrag.bind(_this),_this.handleDragEnd=_this.handleDragEnd.bind(_this),_this.state={didMountUniversal:!1},_this}return _inherits(CustomScrollbarController,_PureComponent),_createClass(CustomScrollbarController,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),caf(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"componentDidMountUniversal",value:function(){var universal=this.props.universal;universal&&this.setState({didMountUniversal:!0})}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var _ref=this.view||{},_ref$scrollLeft=_ref.scrollLeft,scrollLeft=void 0===_ref$scrollLeft?0:_ref$scrollLeft,_ref$scrollTop=_ref.scrollTop,scrollTop=void 0===_ref$scrollTop?0:_ref$scrollTop,_ref$scrollWidth=_ref.scrollWidth,scrollWidth=void 0===_ref$scrollWidth?0:_ref$scrollWidth,_ref$scrollHeight=_ref.scrollHeight,scrollHeight=void 0===_ref$scrollHeight?0:_ref$scrollHeight,_ref$clientWidth=_ref.clientWidth,clientWidth=void 0===_ref$clientWidth?0:_ref$clientWidth,_ref$clientHeight=_ref.clientHeight,clientHeight=void 0===_ref$clientHeight?0:_ref$clientHeight;return{left:scrollLeft/(scrollWidth-clientWidth)||0,top:scrollTop/(scrollHeight-clientHeight)||0,scrollLeft:scrollLeft,scrollTop:scrollTop,scrollWidth:scrollWidth,scrollHeight:scrollHeight,clientWidth:clientWidth,clientHeight:clientHeight}}},{key:"getThumbHorizontalWidth",value:function(){var _props=this.props,thumbSize=_props.thumbSize,thumbMinSize=_props.thumbMinSize,_view=this.view,scrollWidth=_view.scrollWidth,clientWidth=_view.clientWidth,trackWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getInnerWidth__.a)(this.trackHorizontal),width=Math.ceil(clientWidth/scrollWidth*trackWidth);return trackWidth===width?0:thumbSize?thumbSize:Math.max(width,thumbMinSize)}},{key:"getThumbVerticalHeight",value:function(){var _props2=this.props,thumbSize=_props2.thumbSize,thumbMinSize=_props2.thumbMinSize,_view2=this.view,scrollHeight=_view2.scrollHeight,clientHeight=_view2.clientHeight,trackHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__utils_getInnerHeight__.a)(this.trackVertical),height=Math.ceil(clientHeight/scrollHeight*trackHeight);return trackHeight===height?0:thumbSize?thumbSize:Math.max(height,thumbMinSize)}},{key:"getScrollLeftForOffset",value:function(offset){var _view3=this.view,scrollWidth=_view3.scrollWidth,clientWidth=_view3.clientWidth,trackWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getInnerWidth__.a)(this.trackHorizontal),thumbWidth=this.getThumbHorizontalWidth();return offset/(trackWidth-thumbWidth)*(scrollWidth-clientWidth)}},{key:"getScrollTopForOffset",value:function(offset){var _view4=this.view,scrollHeight=_view4.scrollHeight,clientHeight=_view4.clientHeight,trackHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__utils_getInnerHeight__.a)(this.trackVertical),thumbHeight=this.getThumbVerticalHeight();return offset/(trackHeight-thumbHeight)*(scrollHeight-clientHeight)}},{key:"scrollLeft",value:function(){var left=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=left)}},{key:"scrollTop",value:function(){var top=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=top)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var view=this.view,trackHorizontal=this.trackHorizontal,trackVertical=this.trackVertical,thumbHorizontal=this.thumbHorizontal,thumbVertical=this.thumbVertical;view.addEventListener("scroll",this.handleScroll),this.props.scrollbarWidth&&(trackHorizontal.addEventListener("mouseenter",this.handleTrackMouseEnter),trackHorizontal.addEventListener("mouseleave",this.handleTrackMouseLeave),trackHorizontal.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),trackVertical.addEventListener("mouseenter",this.handleTrackMouseEnter),trackVertical.addEventListener("mouseleave",this.handleTrackMouseLeave),trackVertical.addEventListener("mousedown",this.handleVerticalTrackMouseDown),thumbHorizontal.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),thumbVertical.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var view=this.view,trackHorizontal=this.trackHorizontal,trackVertical=this.trackVertical,thumbHorizontal=this.thumbHorizontal,thumbVertical=this.thumbVertical;view.removeEventListener("scroll",this.handleScroll),this.props.scrollbarWidth&&(trackHorizontal.removeEventListener("mouseenter",this.handleTrackMouseEnter),trackHorizontal.removeEventListener("mouseleave",this.handleTrackMouseLeave),trackHorizontal.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),trackVertical.removeEventListener("mouseenter",this.handleTrackMouseEnter),trackVertical.removeEventListener("mouseleave",this.handleTrackMouseLeave),trackVertical.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),thumbHorizontal.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),thumbVertical.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(event){var _this2=this,_props3=this.props,onScroll=_props3.onScroll,onScrollFrame=_props3.onScrollFrame;onScroll&&onScroll(event),this.update(function(values){var scrollLeft=values.scrollLeft,scrollTop=values.scrollTop;_this2.viewScrollLeft=scrollLeft,_this2.viewScrollTop=scrollTop,onScrollFrame&&onScrollFrame(values)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var onScrollStart=this.props.onScrollStart;onScrollStart&&onScrollStart(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var autoHide=this.props.autoHide;autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var onScrollStop=this.props.onScrollStop;onScrollStop&&onScrollStop(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var autoHide=this.props.autoHide;autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(event){event.preventDefault();var target=event.target,clientX=event.clientX,_target$getBoundingCl=target.getBoundingClientRect(),targetLeft=_target$getBoundingCl.left,thumbWidth=this.getThumbHorizontalWidth(),offset=Math.abs(targetLeft-clientX)-thumbWidth/2;this.view.scrollLeft=this.getScrollLeftForOffset(offset)}},{key:"handleVerticalTrackMouseDown",value:function(event){event.preventDefault();var target=event.target,clientY=event.clientY,_target$getBoundingCl2=target.getBoundingClientRect(),targetTop=_target$getBoundingCl2.top,thumbHeight=this.getThumbVerticalHeight(),offset=Math.abs(targetTop-clientY)-thumbHeight/2;this.view.scrollTop=this.getScrollTopForOffset(offset)}},{key:"handleHorizontalThumbMouseDown",value:function(event){event.preventDefault(),this.handleDragStart(event);var target=event.target,clientX=event.clientX,offsetWidth=target.offsetWidth,_target$getBoundingCl3=target.getBoundingClientRect(),left=_target$getBoundingCl3.left;this.prevPageX=offsetWidth-(clientX-left)}},{key:"handleVerticalThumbMouseDown",value:function(event){event.preventDefault(),this.handleDragStart(event);var target=event.target,clientY=event.clientY,offsetHeight=target.offsetHeight,_target$getBoundingCl4=target.getBoundingClientRect(),top=_target$getBoundingCl4.top;this.prevPageY=offsetHeight-(clientY-top)}},{key:"setupDragging",value:function(){css(document.body,__WEBPACK_IMPORTED_MODULE_6__utils_styles__.a),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=__WEBPACK_IMPORTED_MODULE_3__utils_returnFalse__.a}},{key:"teardownDragging",value:function(){css(document.body,__WEBPACK_IMPORTED_MODULE_6__utils_styles__.b),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(event){this.dragging=!0,event.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(event){if(this.prevPageX){var clientX=event.clientX,_trackHorizontal$getB=this.trackHorizontal.getBoundingClientRect(),trackLeft=_trackHorizontal$getB.left,thumbWidth=this.getThumbHorizontalWidth(),clickPosition=thumbWidth-this.prevPageX,offset=-trackLeft+clientX-clickPosition;this.view.scrollLeft=this.getScrollLeftForOffset(offset)}if(this.prevPageY){var clientY=event.clientY,_trackVertical$getBou=this.trackVertical.getBoundingClientRect(),trackTop=_trackVertical$getBou.top,thumbHeight=this.getThumbVerticalHeight(),_clickPosition=thumbHeight-this.prevPageY,_offset=-trackTop+clientY-_clickPosition;this.view.scrollTop=this.getScrollTopForOffset(_offset)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var autoHide=this.props.autoHide;autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var autoHide=this.props.autoHide;autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var autoHide=this.props.autoHide;autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),css(this.trackHorizontal,{opacity:1}),css(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var _this3=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var autoHideTimeout=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){css(_this3.trackHorizontal,{opacity:0}),css(_this3.trackVertical,{opacity:0})},autoHideTimeout)}}},{key:"detectScrolling",value:function(){var _this4=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){_this4.lastViewScrollLeft===_this4.viewScrollLeft&&_this4.lastViewScrollTop===_this4.viewScrollTop&&(clearInterval(_this4.detectScrollingInterval),_this4.scrolling=!1,_this4.handleScrollStop()),_this4.lastViewScrollLeft=_this4.viewScrollLeft,_this4.lastViewScrollTop=_this4.viewScrollTop},100))}},{key:"raf",value:function(callback){var _this5=this;this.requestFrame&&_raf.cancel(this.requestFrame),this.requestFrame=_raf(function(){_this5.requestFrame=void 0,callback()})}},{key:"update",value:function(callback){var _this6=this;this.raf(function(){return _this6.updateTracksAndThumbs(callback)})}},{key:"updateTracksAndThumbs",value:function(callback){var _props4=this.props,onUpdate=_props4.onUpdate,hideTracksWhenNotNeeded=_props4.hideTracksWhenNotNeeded,values=this.getValues();if(this.props.scrollbarWidth){var scrollLeft=values.scrollLeft,clientWidth=values.clientWidth,scrollWidth=values.scrollWidth,trackHorizontalWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getInnerWidth__.a)(this.trackHorizontal),thumbHorizontalWidth=this.getThumbHorizontalWidth(),thumbHorizontalX=scrollLeft/(scrollWidth-clientWidth)*(trackHorizontalWidth-thumbHorizontalWidth),thumbHorizontalStyle={
width:thumbHorizontalWidth,transform:"translateX("+thumbHorizontalX+"px)"},scrollTop=values.scrollTop,clientHeight=values.clientHeight,scrollHeight=values.scrollHeight,trackVerticalHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__utils_getInnerHeight__.a)(this.trackVertical),thumbVerticalHeight=this.getThumbVerticalHeight(),thumbVerticalY=scrollTop/(scrollHeight-clientHeight)*(trackVerticalHeight-thumbVerticalHeight),thumbVerticalStyle={height:thumbVerticalHeight,transform:"translateY("+thumbVerticalY+"px)"};if(hideTracksWhenNotNeeded){var trackHorizontalStyle={visibility:scrollWidth>clientWidth?"visible":"hidden"},trackVerticalStyle={visibility:scrollHeight>clientHeight?"visible":"hidden"};css(this.trackHorizontal,trackHorizontalStyle),css(this.trackVertical,trackVerticalStyle)}css(this.thumbHorizontal,thumbHorizontalStyle),css(this.thumbVertical,thumbVerticalStyle)}onUpdate&&onUpdate(values),"function"==typeof callback&&callback(values)}},{key:"render",value:function(){var _this7=this,scrollbarNegativeMargin=this.props.scrollbarNegativeMargin,_a=this.props,renderView=(_a.onScroll,_a.onScrollFrame,_a.onScrollStart,_a.onScrollStop,_a.onUpdate,_a.renderView),renderTrackHorizontal=_a.renderTrackHorizontal,renderTrackVertical=_a.renderTrackVertical,renderThumbHorizontal=_a.renderThumbHorizontal,renderThumbVertical=_a.renderThumbVertical,tagName=_a.tagName,autoHide=(_a.hideTracksWhenNotNeeded,_a.autoHide),autoHideDuration=(_a.autoHideTimeout,_a.autoHideDuration),universal=(_a.thumbSize,_a.thumbMinSize,_a.universal),autoHeight=_a.autoHeight,autoHeightMin=_a.autoHeightMin,autoHeightMax=_a.autoHeightMax,style=_a.style,children=_a.children,props=__rest(_a,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]);delete props.scrollbarWidth,delete props.scrollbarNegativeMargin;var didMountUniversal=this.state.didMountUniversal,containerStyle=__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.c,autoHeight&&__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.d,{minHeight:autoHeightMin,maxHeight:autoHeightMax}),style),viewStyle=__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.e,{marginRight:scrollbarNegativeMargin?-scrollbarNegativeMargin:0,marginBottom:scrollbarNegativeMargin?-scrollbarNegativeMargin:0},autoHeight&&__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.f,{minHeight:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils_isString__.a)(autoHeightMin)?"calc("+autoHeightMin+" + "+scrollbarNegativeMargin+"px)":autoHeightMin+scrollbarNegativeMargin,maxHeight:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils_isString__.a)(autoHeightMax)?"calc("+autoHeightMax+" + "+scrollbarNegativeMargin+"px)":autoHeightMax+scrollbarNegativeMargin}),autoHeight&&universal&&!didMountUniversal&&{minHeight:autoHeightMin,maxHeight:autoHeightMax},universal&&!didMountUniversal&&__WEBPACK_IMPORTED_MODULE_6__utils_styles__.g),trackAutoHeightStyle={transition:"opacity "+autoHideDuration+"ms",opacity:0},trackHorizontalStyle=__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.h,autoHide&&trackAutoHeightStyle,universal&&!didMountUniversal&&{display:"none"}),trackVerticalStyle=__assign({},__WEBPACK_IMPORTED_MODULE_6__utils_styles__.i,autoHide&&trackAutoHeightStyle,universal&&!didMountUniversal&&{display:"none"});return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.createElement)(tagName,__assign({},props,{style:containerStyle,ref:function(_ref2){_this7.container=_ref2}}),[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.cloneElement)(renderView({style:viewStyle}),{key:"view",ref:function(_ref3){_this7.view=_ref3}},children),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.cloneElement)(renderTrackHorizontal({style:trackHorizontalStyle}),{key:"trackHorizontal",ref:function(_ref4){_this7.trackHorizontal=_ref4}},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.cloneElement)(renderThumbHorizontal({style:__WEBPACK_IMPORTED_MODULE_6__utils_styles__.j}),{ref:function(_ref5){_this7.thumbHorizontal=_ref5}})),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.cloneElement)(renderTrackVertical({style:trackVerticalStyle}),{key:"trackVertical",ref:function(_ref6){_this7.trackVertical=_ref6}},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react__.cloneElement)(renderThumbVertical({style:__WEBPACK_IMPORTED_MODULE_6__utils_styles__.k}),{ref:function(_ref7){_this7.thumbVertical=_ref7}}))])}}]),CustomScrollbarController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function getInnerHeight(el){var clientHeight=el.clientHeight,_getComputedStyle=getComputedStyle(el),paddingTop=_getComputedStyle.paddingTop,paddingBottom=_getComputedStyle.paddingBottom;return clientHeight-parseFloat(paddingTop)-parseFloat(paddingBottom)}exports.a=getInnerHeight},function(module,exports,__webpack_require__){"use strict";function getInnerWidth(el){var clientWidth=el.clientWidth,_getComputedStyle=getComputedStyle(el),paddingLeft=_getComputedStyle.paddingLeft,paddingRight=_getComputedStyle.paddingRight;return clientWidth-parseFloat(paddingLeft)-parseFloat(paddingRight)}exports.a=getInnerWidth},function(module,exports,__webpack_require__){"use strict";function isString(maybe){return"string"==typeof maybe}exports.a=isString},function(module,exports,__webpack_require__){"use strict";function returnFalse(){return!1}exports.a=returnFalse},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"c",function(){return containerStyleDefault}),__webpack_require__.d(exports,"d",function(){return containerStyleAutoHeight}),__webpack_require__.d(exports,"e",function(){return viewStyleDefault}),__webpack_require__.d(exports,"f",function(){return viewStyleAutoHeight}),__webpack_require__.d(exports,"g",function(){return viewStyleUniversalInitial}),__webpack_require__.d(exports,"h",function(){return trackHorizontalStyleDefault}),__webpack_require__.d(exports,"i",function(){return trackVerticalStyleDefault}),__webpack_require__.d(exports,"j",function(){return thumbHorizontalStyleDefault}),__webpack_require__.d(exports,"k",function(){return thumbVerticalStyleDefault}),__webpack_require__.d(exports,"a",function(){return disableSelectStyle}),__webpack_require__.d(exports,"b",function(){return disableSelectStyleReset});var containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},containerStyleAutoHeight={height:"auto"},viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},trackHorizontalStyleDefault={position:"absolute",height:6},trackVerticalStyleDefault={position:"absolute",width:6},thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},disableSelectStyle={userSelect:"none"},disableSelectStyleReset={userSelect:""}},function(module,exports,__webpack_require__){"use strict";function RenderThumbHorizontalDefault(props){var finalStyle=__assign({},props.style,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return React.createElement("div",_extends({style:finalStyle},props))}exports.a=RenderThumbHorizontalDefault;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__views_ChangeAvatarView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(805)),__WEBPACK_IMPORTED_MODULE_5__services_ChangeAvatarService__=__webpack_require__(615),__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_8__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_12__services_AvatarService__=__webpack_require__(313),__WEBPACK_IMPORTED_MODULE_13__stores_UserStore__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_14__queries_UserQueries__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__=__webpack_require__(69);__webpack_require__.d(exports,"a",function(){return ChangeAvatarController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ChangeAvatarController=function(_PureComponent){function ChangeAvatarController(){_classCallCheck(this,ChangeAvatarController);var _this=_possibleConstructorReturn(this,(ChangeAvatarController.__proto__||Object.getPrototypeOf(ChangeAvatarController)).apply(this,arguments));return _this.state={uploadScale:1},_this.dropZoneRef=null,_this.avatarEditorRef=null,_this}return _inherits(ChangeAvatarController,_PureComponent),_createClass(ChangeAvatarController,[{key:"setDropZoneRef",value:function(view){this.dropZoneRef=view}},{key:"setAvatarEditorRef",value:function(view){this.avatarEditorRef=view}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__views_ChangeAvatarView__.a,{showAvatarComponent:this.props.showAvatarComponent,locale:this.props.locale,showTooltip:this.props.showTooltip,hasUploadError:this.props.hasUploadError,hasFileTypeError:this.props.hasFileTypeError,hasImageSizeError:this.props.hasImageSizeError,hasImageError:this.props.hasImageError,hasServiceError:this.props.hasServiceError,isMyAvatarBaned:this.props.isMyAvatarBaned,isPlayerBanned:this.props.isPlayerBanned,onClickGoBack:this.onClickGoBack,onClickCloseAvatarTooltip:this.onClickCloseAvatarTooltip,avatarsForSelect:this.props.avatarsFromGallery,selectedGameCode:this.props.selectedGameCode,selectedGameName:this.props.selectedGameName,onChangeGame:this.onChangeGame,onTypeGameName:this.onTypeGameName,loadedAvatars:this.props.loadedAvatars,avatarsFromGalleryByGameCode:this.props.avatarsFromGalleryByGameCode,onClickAvatar:this.onClickAvatar,selectedAvatarId:this.props.selectedAvatarId,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,loadedAvatar:this.props.loadedAvatar,dropZoneRef:this.setDropZoneRef,onDropAvatar:this.onDropAvatar,onClickUploadFile:this.onClickUploadFile,showResizeAvatar:this.props.showResizeAvatar,avatarEditorRef:this.setAvatarEditorRef,avatarImagePreview:this.props.avatarImagePreview,uploadScale:this.state.uploadScale,onLoadFailure:this.onLoadFailure,onLoadSuccess:this.onLoadSuccess,onImageReady:this.onImageReady,onImageChange:this.onImageChange,onChangeUploadScale:this.onChangeUploadScale,remCoefSize:this.props.remCoefSize,uploadingAvatarToService:this.props.uploadingAvatarToService,onClickCancelUploadAvatarToService:this.onClickCancelUploadAvatarToService,onClickUploadAvatarToService:this.onClickUploadAvatarToService,onScaleDownAvatar:this.onScaleDownAvatar,onScaleUpAvatar:this.onScaleUpAvatar,showSelectedAvatarOverlay:this.props.showSelectedAvatarOverlay,onToggleStopEventPropagation:this.onToggleStopEventPropagation,isInMobileView:this.props.isInMobileView,showGameSelectorTooltip:this.props.showGameSelectorTooltip,onClickCloseGameSelectorTooltip:this.onClickCloseGameSelectorTooltip,showChooseFromGalleryTab:this.props.showChooseFromGalleryTab,showUploadAnAvatarTab:this.props.showUploadAnAvatarTab,onClickChangeTab:this.onClickChangeTab,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showRules:this.props.showRules,onClickCloseRules:this.onClickCloseRules,hasGalleryServiceError:this.props.hasGalleryServiceError,isMinor:this.props.isMinor,onSwipeAvatar:this.props.onSwipeAvatar})}},{key:"componentDidMount",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.props.showAvatarComponent){_context.next=5;break}return _context.next=3,this.props.avatarService.getMyAvatar();case 3:return _context.next=5,this.props.changeAvatarService.loadAvatarsFromGallery();case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this.props.showAvatarComponent||prevProps.showAvatarComponent===this.props.showAvatarComponent){_context2.next=3;break}return _context2.next=3,this.props.changeAvatarService.loadAvatarsFromGallery();case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"componentWillUnmount",value:function(){this.props.showAvatarComponent||this.revokeAvatrImgURL()}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context3.next=3,this.props.changeAvatarService.handleGoBack();case 3:this.revokeAvatrImgURL();case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickCloseAvatarTooltip",value:function(showTooltip){this.props.changeAvatarService.handleClickCloseAvatarTooltip(showTooltip)}},{key:"onClickCloseRules",value:function(showRules){this.props.changeAvatarService.handleClickCloseRules(showRules)}},{key:"onChangeGame",value:function(gameCode){this.props.changeAvatarService.onChangeGame(gameCode)}},{key:"onTypeGameName",value:function(event){this.props.changeAvatarService.onTypeGameName(event.target.value)}},{key:"onClickAvatar",value:function(avatarId){this.props.changeAvatarService.onSlectAvatar(avatarId)}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.props.changeAvatarService.onClickCancelSaveAvatar();case 2:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context5.next=3,this.props.changeAvatarService.onClickSaveAvatar();case 3:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onDropAvatar",value:function(files){this.props.changeAvatarService.onDropAvatar(files)}},{key:"onClickUploadFile",value:function(){this.props.isPlayerBanned||this.props.stopEventPropagation||this.dropZoneRef.open()}},{key:"onLoadFailure",value:function(props){this.props.changeAvatarService.onLoadFailure()}},{key:"onLoadSuccess",value:function(props){}},{key:"onImageReady",value:function(props){}},{key:"onImageChange",value:function(props){}},{key:"onChangeUploadScale",value:function(scale){this.setState({uploadScale:scale})}},{key:"onClickCancelUploadAvatarToService",value:function(){this.props.changeAvatarService.onClickCancelUploadAvatarToService()}},{key:"onClickUploadAvatarToService",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.props.changeAvatarService.onClickUploadAvatarToService(this.avatarEditorRef);case 2:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onScaleDownAvatar",value:function(){var newScale=this.state.uploadScale;newScale-.1>=1&&(newScale=Math.round(10*(newScale-.1))/10,this.setState({uploadScale:newScale}))}},{key:"onScaleUpAvatar",value:function(){var newScale=this.state.uploadScale;newScale+.1<=2&&(newScale=Math.round(10*(newScale+.1))/10,this.setState({uploadScale:newScale}))}},{key:"onToggleStopEventPropagation",value:function(stopEventPropagation){this.props.changeAvatarService.onToggleStopEventPropagation(stopEventPropagation)}},{key:"onClickCloseGameSelectorTooltip",value:function(){this.props.changeAvatarService.onToggleShowAvatarSelector(this.props.showGameSelectorTooltip)}},{key:"onClickChangeTab",value:function(avatarTab){this.props.changeAvatarService.onClickChangeTab(avatarTab)}},{key:"revokeAvatrImgURL",value:function(){this.props.avatarImagePreview&&URL.revokeObjectURL(this.props.avatarImagePreview)}}]),ChangeAvatarController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);ChangeAvatarController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({changeAvatarService:__WEBPACK_IMPORTED_MODULE_5__services_ChangeAvatarService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__.a,avatarService:__WEBPACK_IMPORTED_MODULE_12__services_AvatarService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({avatarsFromGallery:[],avatarsFromGalleryByGameCode:[],showAvatarComponent:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowAvatarComponent,locale:__WEBPACK_IMPORTED_MODULE_8__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,loadedAvatars:__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoadedGalleryAvatars,loadedAvatar:__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoaded,showResizeAvatar:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowResizeAvatar,hasUploadError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasUploadError,hasFileTypeError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasFileTypeError,hasImageSizeError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasImageSizeError,hasImageError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasImageError,hasServiceError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasServiceError,avatarImagePreview:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview,remCoefSize:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getRemCoefSize,uploadingAvatarToService:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getUploadingAvatarToService,showTooltip:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowTooltip,showRules:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowRules,showSelectedAvatarOverlay:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowSelectedAvatarOverlay,stopEventPropagation:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getStopEventPropagation,isInMobileView:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getIsInMobileView,showGameSelectorTooltip:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowGameSelectorTooltip,showChooseFromGalleryTab:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowChooseFromGalleryTab,showUploadAnAvatarTab:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowUploadAnAvatarTab,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,hasGalleryServiceError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasGalleryServiceError},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoaded,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isMyAvatarBaned:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getIsMyAvatarBaned,isPlayerBanned:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getIsPlayerBanned})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoadedGalleryAvatars,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({avatarsFromGallery:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getFilteredAvatarsFromGallery,selectedGameCode:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getDefaultInstallmentSpaceIdFromGallery,selectedGameName:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getDefaultGameNameFromGallery,avatarsFromGalleryByGameCode:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getAvatarsFromGalleryByInstallmentSpaceId,selectedAvatarId:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getAvatarId})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_13__stores_UserStore__.a.loadedUser,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isMinor:__WEBPACK_IMPORTED_MODULE_14__queries_UserQueries__.a.getMyMinorStatus})))),__metadata("design:paramtypes",[])],ChangeAvatarController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__Username_views_UserNameChangeView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(856)),__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__=__webpack_require__(613),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_communication_services_NameChangeService__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_10__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_11__utils_scrollToTop__=__webpack_require__(69);__webpack_require__.d(exports,"a",function(){return ChangeUserNameController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ChangeUserNameController=function(_PureComponent){function ChangeUserNameController(){return _classCallCheck(this,ChangeUserNameController),_possibleConstructorReturn(this,(ChangeUserNameController.__proto__||Object.getPrototypeOf(ChangeUserNameController)).apply(this,arguments))}return _inherits(ChangeUserNameController,_PureComponent),_createClass(ChangeUserNameController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__Username_views_UserNameChangeView__.a,{callingValidation:this.props.callingValidation,hasUserTimeLimitError:this.props.hasUserTimeLimitError,showRules:this.props.showRules,hasError:this.props.hasError,errorType:this.props.errorType,localizedMessage:this.props.localizedMessage,onClickToggleShowRules:this.onClickToggleShowRules,hasUserNameLengthError:this.props.hasUserNameLengthError,hasUserNameStartError:this.props.hasUserNameStartError,hasUserNameCharactersError:this.props.hasUserNameCharactersError,hasUserNameCompanyError:this.props.hasUserNameCompanyError,hasUserNameUniqueError:this.props.hasUserNameUniqueError,hasUserNameRequiredError:this.props.hasUserNameRequiredError,hasUserNameRestrictedError:this.props.hasUserNameRestrictedError,hasUserNameUbisoftError:this.props.hasUserNameUbisoftError,hasUserNameLocalizedError:this.props.hasUserNameLocalizedError,hasUserNameGeneralError:this.props.hasUserNameGeneralError,onClose:this.onClose,onClickSaveUserName:this.onClickSaveUserName,userName:this.props.userName,checkIfUserNameIsValid:this.checkIfUserNameIsValid,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,handleChangeUserName:this.handleChangeUserName})}},{key:"onClickToggleShowRules",value:function(showRules,e){e.preventDefault(),this.props.nameChangeService.handleToggleShowRules(showRules)}},{key:"onClose",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.nameChangeService.goBackToValidateState(),_context.next=5,this.props.nameChangeService.handleCloseUserName();case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickSaveUserName",value:function(userName,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),
_context2.next=4,this.props.nameChangeService.saveUserName(userName);case 4:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"checkIfUserNameIsValid",value:function(userName){this.props.nameChangeService.checkIfUserNameIsValid(userName)}},{key:"handleChangeUserName",value:function(userName){this.props.nameChangeService.handleChangeUserName(userName)}}]),ChangeUserNameController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);ChangeUserNameController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({nameChangeService:__WEBPACK_IMPORTED_MODULE_8__modules_integrator_communication_services_NameChangeService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_10__modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({callingValidation:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getIsCallingValidation,isValidating:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getIsValidating,showRules:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getShowRules,hasError:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getHasError,errorType:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getErrorType,localizedMessage:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getValidationErrorLocalizedMessage,userName:__WEBPACK_IMPORTED_MODULE_7__selectors__.t,hasUserNameLengthError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameLengthError,hasUserNameStartError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasStartError,hasUserNameCharactersError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasCharacterError,hasUserNameCompanyError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasCompanyError,hasUserNameUniqueError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorAvailable,hasUserNameRequiredError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorRequired,hasUserNameRestrictedError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorRestricted,hasUserNameLocalizedError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorLocalized,hasUserNameGeneralError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorGeneral,hasUserTimeLimitError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorTimeLimit,hasUserNameUbisoftError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameUbisoftError,isInMobileView:__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__.a.getShowMobileViewOnDesktop})}),__metadata("design:paramtypes",[])],ChangeUserNameController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_2__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_3__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_4__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_react_di__),__webpack_require__(114)),__WEBPACK_IMPORTED_MODULE_5__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_9_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_12_app_modules_swiper_services_Swiper__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_13__views_ExpandedView__=__webpack_require__(807),__WEBPACK_IMPORTED_MODULE_14_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(214),__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(213),__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_NameChangeService__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_17__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_18__ChangeAvatarController__=__webpack_require__(797),__WEBPACK_IMPORTED_MODULE_19__services_ChangeAvatarService__=__webpack_require__(615),__WEBPACK_IMPORTED_MODULE_20__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_21__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_23__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_24__services_OtherGamesCarouselService__=__webpack_require__(617),__WEBPACK_IMPORTED_MODULE_25__SelectedGameController__=__webpack_require__(802),__WEBPACK_IMPORTED_MODULE_26__ChangeUserNameController__=__webpack_require__(798),__WEBPACK_IMPORTED_MODULE_27__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_28__queries_MetaProgressionProfileQueries__=__webpack_require__(310),__WEBPACK_IMPORTED_MODULE_29__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__=__webpack_require__(906),__WEBPACK_IMPORTED_MODULE_31__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_32__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_33__queries_UserQueries__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_34__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_35__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_36__modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(164),__WEBPACK_IMPORTED_MODULE_37__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_38__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return ExpandedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ExpandedController=function(_Component){function ExpandedController(){_classCallCheck(this,ExpandedController);var _this=_possibleConstructorReturn(this,(ExpandedController.__proto__||Object.getPrototypeOf(ExpandedController)).apply(this,arguments));return _this.state={isSwipeOtherGames:!1,isSwipeRewards:!1,isSwipeAvatar:!1},_this.scrollableRef=function(el){return _this._scrollableRef=el},_this.detailsScrollableRef=function(el){return _this._detailsScrollableRef=el},_this.intervalIds=[],_this.changeTooltipState=null,_this}return _inherits(ExpandedController,_Component),_createClass(ExpandedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_13__views_ExpandedView__.a,{show:this.props.show,swipeRef:this.setSwipeRef,isInMobileView:this.props.isInMobileView,avatarUrl:this.props.avatarUrl,username:this.props.username,level:this.props.level,loadedGames:this.props.loadedGames,locale:this.props.locale,isLocaleXpTranslationTooLong:this.props.isLocaleXpTranslationTooLong,accountUrl:this.props.accountUrl,customerSupportUrl:this.props.customerSupportUrl,storeUrl:this.props.storeUrl,integratorCustomerSupportUrls:this.props.integratorCustomerSupportUrls||[],youMightLikeGamePlatformsMapedNames:this.props.youMightLikeGamePlatformsMapedNames,onClickAccountInformation:this.handleOnClickAccountInformation,onClickHelpAndSupport:this.handleOnClickHelpAndSupport,onClickStore:this.handleOnClickStore,onClickYouMightAlsoLikeGame:this.onClickYouMightAlsoLikeGame,onClickLogout:this.handleOnClickLogout,onClickCustomLink:this.onClickCustomLink,hasProfileCallError:this.props.hasProfileCallError,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onClickChangeUserName:this.onClickChangeUserName,showChangeUserName:this.props.showChangeUserName,onClickAvatar:this.onClickAvatar,showAvatarComponent:this.props.showAvatarComponent,scrollableRef:this.scrollableRef,onSwipeOtherGames:this.onSwipeOtherGames,myNbOfGamesOwned:this.props.myNbOfGamesOwned,myNbOfYearsOfMemebership:this.props.myNbOfYearsOfMemebership,twoFactorAuthStatus:this.props.twoFactorAuthStatus,selectedAvatarId:this.props.selectedAvatarId,loadedAvatar:this.props.loadedAvatar,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,showPlayerCardDetails:this.props.showPlayerCardDetails,showDetailsView:this.props.showDetailsView,hasYouMightLikeGame:this.props.hasYouMightLikeGame,youMightLikeGame:this.props.youMightLikeGame,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showGameContent:this.props.showGameContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,avatarMaintenance:this.props.areAvatarsInMaintenance,changeTooltipState:this.changeAvatarTooltipState,collapsedHeight:this.props.collapsedHeight,hasNoGamesPlayed:this.props.hasNoGamesPlayed,hasYouMightAlsoLikeGames:this.props.hasYouMightAlsoLikeGames,youMightAlsoLikeGames:this.props.youMightAlsoLikeGames,ubiStoreUrl:this.props.ubiStoreUrl,windowInnerHeight:this.props.windowInnerHeight,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,isAccountLinkOverwritten:this.props.isAccountLinkOverwritten,isSupportLinkOverwritten:this.props.isSupportLinkOverwritten,isStoreLinkOverwritten:this.props.isStoreLinkOverwritten,overwrittenAccountLinkUrl:this.props.overwrittenAccountLinkUrl,overwrittenSupportLinkUrl:this.props.overwrittenSupportLinkUrl,overwrittenStoreLinkUrl:this.props.overwrittenStoreLinkUrl,hasCustomStoreBuyButton:this.props.hasCustomStoreBuyButton,overwrittenAccountLinkAction:this.props.overwrittenAccountLinkAction,overwrittenSupportLinkAction:this.props.overwrittenSupportLinkAction,overwrittenStoreLinkAction:this.props.overwrittenStoreLinkAction,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef},this.props.showGameContent?React.createElement(__WEBPACK_IMPORTED_MODULE_25__SelectedGameController__.a,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef,onSwipeRewards:this.onSwipeRewards}):this.props.showAvatarComponent?React.createElement(__WEBPACK_IMPORTED_MODULE_18__ChangeAvatarController__.a,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef,onSwipeAvatar:this.onSwipeAvatar}):this.props.showChangeUserName?React.createElement(__WEBPACK_IMPORTED_MODULE_26__ChangeUserNameController__.a,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):React.createElement("noscript",null))}},{key:"componentDidMount",value:function(){this._swipeRef&&(this.swiper=new __WEBPACK_IMPORTED_MODULE_12_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:prevProps.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAvatarComponent===prevProps.showAvatarComponent&&this.props.showGameContent===prevProps.showGameContent&&this.props.showChangeUserName===prevProps.showChangeUserName||!this.props.isInMobileView&&!this.props.showMobileViewOnDesktop||!this._scrollableRef||this._scrollableRef.scrollToTop(),prevProps.show!==this.props.show&&this.props.show&&this.clearIntervals(),prevProps.show===this.props.show||this.props.show||this.clearIntervals();case 4:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentWillUnmount",value:function(){this.clearIntervals(),this.swiper&&this.swiper.removeEvents()}},{key:"handleOnClickAccountInformation",value:function(e){e.preventDefault(),this.props.overwrittenAccountLinkAction?this.onClickCustomLink(this.props.accountUrl,this.props.overwrittenAccountLinkAction,e):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(this.props.accountUrl)}},{key:"handleOnClickHelpAndSupport",value:function(e){e.preventDefault(),this.props.overwrittenSupportLinkAction?this.onClickCustomLink(this.props.customerSupportUrl,this.props.overwrittenSupportLinkAction,e):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(this.props.customerSupportUrl)}},{key:"handleOnClickStore",value:function(e){e.preventDefault(),this.props.overwrittenStoreLinkAction?this.onClickCustomLink(this.props.storeUrl,this.props.overwrittenStoreLinkAction,e):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(this.props.storeUrl)}},{key:"onClickYouMightAlsoLikeGame",value:function(lastPlayedGameShopUrl,e){return e.preventDefault(),this.props.hasCustomStoreBuyButton?void(window.top.location.href=lastPlayedGameShopUrl):void __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(lastPlayedGameShopUrl)}},{key:"onClickCustomLink",value:function(link,action,e){switch(e.preventDefault(),action){case __WEBPACK_IMPORTED_MODULE_36__modules_integrator_configuration_entities_IntegratorConfig__.c.REDIRECT:window.top.location.href=link;break;case __WEBPACK_IMPORTED_MODULE_36__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_POPUP:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.popupWindow)(link);break;case __WEBPACK_IMPORTED_MODULE_36__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB:default:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(link)}}},{key:"handleOnClickLogout",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return e.preventDefault(),_context2.next=3,this.props.communicationService.clickedOnLogout();case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"handleSwipe",value:function(payload){this.state.isSwipeOtherGames||this.state.isSwipeRewards||this.state.isSwipeAvatar||payload.swipeRight&&this.props.communicationService.clickedOnMobileFriends()}},{key:"onClickChangeUserName",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_37__utils_scrollToTop__.a)(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context3.next=4,this.props.nameChangeService.handleClickChangeUserName(this.props.username);case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!this.props.areAvatarsInMaintenance){_context4.next=2;break}return _context4.abrupt("return");case 2:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_37__utils_scrollToTop__.a)(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context4.next=5,this.props.changeAvatarService.handleShowAvatarComponent();case 5:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onSwipeOtherGames",value:function(isSwipeOtherGames){this.setState({isSwipeOtherGames:isSwipeOtherGames})}},{key:"onSwipeRewards",value:function(isSwipeRewards){this.setState({isSwipeRewards:isSwipeRewards})}},{key:"onSwipeAvatar",value:function(isSwipeAvatar){this.setState({isSwipeAvatar:isSwipeAvatar})}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!this.props.areAvatarsInMaintenance){_context5.next=2;break}return _context5.abrupt("return");case 2:return _context5.next=4,this.props.changeAvatarService.onClickCancelSaveAvatar();case 4:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!this.props.areAvatarsInMaintenance){_context6.next=2;break}return _context6.abrupt("return");case 2:return _context6.next=4,this.props.changeAvatarService.onClickSaveAvatar();case 4:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onClickGame",value:function(offset,id,spaceId,appId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_37__utils_scrollToTop__.a)(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context7.next=3,this.props.otherGamesCarouselService.onClickGame(offset,id,spaceId,appId,platformCode);case 3:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"onClickCloseDetailsTabView",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return this.props.showAvatarComponent&&this.props.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","close edit avatar popup"),this.props.showChangeUserName&&this.props.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","close edit username popup"),this.props.showGameContent&&this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","close game panel popup"),this.props.analyticsService.trackPage("user tab","player card"),this.props.nameChangeService.goBackToValidateState(),_context8.next=7,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 7:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),(this.props.showAvatarComponent||this.props.showChangeUserName||this.props.showGameContent)&&!this.props.showMobileViewOnDesktop||this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate",value:function(value){this.props.commonActionsService.handleOnScrollUpdate(value,__WEBPACK_IMPORTED_MODULE_27__entities_OverviewTabDetails__.a.OVERVIEW_VIEW)}},{key:"setIntervals",value:function(){var _this2=this;this.props.changeAvatarService.checkInterval(this.changeTooltipState),__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().isBetween(__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(this.props.avatarsMaintenanceStartDate).subtract("3","h"),__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(this.props.avatarsMaintenanceEndDate))&&this.intervalIds.push(setInterval(function(){_this2.props.changeAvatarService.checkInterval(_this2.changeTooltipState),__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().isAfter(__WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(_this2.props.avatarsMaintenanceEndDate))&&_this2.clearIntervals()},6e4))}},{key:"clearIntervals",value:function(){this.intervalIds.length&&this.intervalIds.forEach(function(intervalId){return clearInterval(intervalId)})}},{key:"changeAvatarTooltipState",value:function(changeTooltipState){this.changeTooltipState=changeTooltipState}}]),ExpandedController}(__WEBPACK_IMPORTED_MODULE_2__stejar_react__.Component);ExpandedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_communication_services_EmailVerificationService__.a,nameChangeService:__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_NameChangeService__.a,changeAvatarService:__WEBPACK_IMPORTED_MODULE_19__services_ChangeAvatarService__.a,otherGamesCarouselService:__WEBPACK_IMPORTED_MODULE_24__services_OtherGamesCarouselService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_35__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_38__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__.a)(function(state,props){return __WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({show:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.r,clubUrl:__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,accountUrl:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getAccountUrl,customerSupportUrl:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getCustomerSupportUrl,storeUrl:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getStoreUrl,locale:__WEBPACK_IMPORTED_MODULE_29__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,isLocaleXpTranslationTooLong:__WEBPACK_IMPORTED_MODULE_14_app_modules_locale_queries_CustomTranslateQueries__.a.getIsLocaleXpTranslationTooLong,integratorCustomerSupportUrls:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomerSupportLinks,lastPlayedGamePlatforms:[],youMightLikeGamePlatformsMapedNames:[],hasOverwrittenLinks:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,overwrittenAccountLink:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLink,overwrittenSupportLink:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLink,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,showChangeUserName:__WEBPACK_IMPORTED_MODULE_17__stores_UserNameStore__.a.getShowChangeUserName,showUserNameRules:__WEBPACK_IMPORTED_MODULE_17__stores_UserNameStore__.a.getShowRules,showAvatarComponent:__WEBPACK_IMPORTED_MODULE_20__stores_ChangeAvatarStore__.a.getShowAvatarComponent,selectedAvatarId:__WEBPACK_IMPORTED_MODULE_20__stores_ChangeAvatarStore__.a.getAvatarId,loadedAvatar:__WEBPACK_IMPORTED_MODULE_21__stores_AvatarStore__.a.getLoaded,lastPlayedGameCarouselOffset:__WEBPACK_IMPORTED_MODULE_23__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameOffset,showPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails,showDetailsView:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowDetailsView,showGameContent:__WEBPACK_IMPORTED_MODULE_23__stores_OtherGamesCarouselStore__.a.getShowGameContent,loadedGames:!1,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,noActiveClickOnMenu:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getNoActiveClickOnMenu,showStatsHeaderOnPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails,otherGames:[],areAvatarsInMaintenance:__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAreAvatarsInMaintenance,avatarsMaintenanceStartDate:__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsMaintenanceStartDate,avatarsMaintenanceEndDate:__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsMaintenanceEndDate,collapsedHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getCollapsedHeight,ubiStoreUrl:__WEBPACK_IMPORTED_MODULE_10_app_modules_configuration_queries_ConfigurationQueries__.a.getUbiStoreUrl,windowInnerHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getWindowInnerHeight,scrollbarNegativeMargin:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarNegativeMargin,isAccountLinkOverwritten:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.isAccountLinkOverwritten,isSupportLinkOverwritten:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.isSupportLinkOverwritten,isStoreLinkOverwritten:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.isStoreLinkOverwritten,overwrittenAccountLinkUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLinkString,overwrittenSupportLinkUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLinkString,overwrittenStoreLinkUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenStoreLinkString,overwrittenAccountLinkAction:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLinkAction,overwrittenSupportLinkAction:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLinkAction,overwrittenStoreLinkAction:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenStoreLinkAction,isInMobileView:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsInMobileView,hasCustomStoreBuyButton:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasCustomStoreBuyButton,height:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getScrollbarContainerHeightForExpandedView,maxHeight:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getScrollbarContainerMaxHeightForExpandeView,top:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getTopPositionForScrollbarContainer,scrollbarHeight:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.getScrollbarHeightForExpandedView},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({userId:__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,username:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.i,twoFactorAuthStatus:__WEBPACK_IMPORTED_MODULE_17__stores_UserNameStore__.a.getTwoFactorAuthStatus},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_28__queries_MetaProgressionProfileQueries__.a.getIsMyPlayerProfileLoaded(state)},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({level:__WEBPACK_IMPORTED_MODULE_28__queries_MetaProgressionProfileQueries__.a.getMyLevel,myNbOfYearsOfMemebership:__WEBPACK_IMPORTED_MODULE_33__queries_UserQueries__.a.getMyNbOfYearsWithUbi,hasProfileCallError:__WEBPACK_IMPORTED_MODULE_28__queries_MetaProgressionProfileQueries__.a.getHasProfileCallError})),__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_31__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_34__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_32__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({
customerSupportUrl:__WEBPACK_IMPORTED_MODULE_30__queries_ExpandedQueries__.a.gameCustomerSupport})),__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_31__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_34__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_32__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({loadedGames:!0,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getHasYouMightLikeGameOnlyOnePlatform,hasNoGamesPlayed:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getHasNoGamesPlayed,youMightLikeGamePlatformsMapedNames:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getYouMightLikeGamePlatformsMapedNames,hasYouMightLikeGame:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getHasYouMightLikeGame,youMightLikeGame:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getYouMightLikeGame,otherGames:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed,hasYouMightAlsoLikeGames:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getHasYouMightAlsoLikeGames,youMightAlsoLikeGames:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getYouMightAlsoLikeGames,myNbOfGamesOwned:__WEBPACK_IMPORTED_MODULE_22__queries_OtherGamesCarouselQueries__.a.getMyNbOfGamesOwned})))))}),__metadata("design:paramtypes",[])],ExpandedController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__Games_views_OtherGamesView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(838)),__WEBPACK_IMPORTED_MODULE_5__services_OtherGamesCarouselService__=__webpack_require__(617),__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_7__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_8__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_9__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_10__queries_ChangePlatformsQueries__=__webpack_require__(309),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_12__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_13__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_14__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_15__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return OtherGamesController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},OtherGamesController=function(_PureComponent){function OtherGamesController(){return _classCallCheck(this,OtherGamesController),_possibleConstructorReturn(this,(OtherGamesController.__proto__||Object.getPrototypeOf(OtherGamesController)).apply(this,arguments))}return _inherits(OtherGamesController,_PureComponent),_createClass(OtherGamesController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__Games_views_OtherGamesView__.a,{otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,currentLastPlayedGameId:this.props.currentLastPlayedGameId,hasOnlyOneGame:this.props.hasOnlyOneGame,gamePlayed:this.props.gamePlayed,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOwnedPlatforms:this.props.hasOwnedPlatforms,onChangePlatform:this.onChangePlatform,onSlidePrev:this.onSlidePrev,onSlideNext:this.onSlideNext,onSlideToFirst:this.onSlideToFirst,onSlideToLast:this.onSlideToLast,hasNoSessionData:this.props.hasNoSessionData,onSwipeOtherGames:this.props.onSwipeOtherGames})}},{key:"onClickGameImage",value:function(offset,id,spaceId,appId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context.next=3,this.props.otherGamesCarouselService.onClickGame(offset,id,spaceId,appId,platformCode);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"onChangePlatform",value:function(gameId,appId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.commonActionsService.onChangeLPGPltform(gameId,appId);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onSlidePrev",value:function(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : previous")}},{key:"onSlideNext",value:function(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : next")}},{key:"onSlideToFirst",value:function(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : go to first")}},{key:"onSlideToLast",value:function(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : go to last")}}]),OtherGamesController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);OtherGamesController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({otherGamesCarouselService:__WEBPACK_IMPORTED_MODULE_5__services_OtherGamesCarouselService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_13__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_16__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_15__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_15__queries_WidgetQueries__.a.getShowMobileViewOnDesktop},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_8__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_12__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_9__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({otherGames:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed,hasOtherGamesPlayed:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed,hasComputedGameByInstallmentId:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasComputedGameByInstallmentId,loadedLastPlayedGame:function(state){return __WEBPACK_IMPORTED_MODULE_8__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_12__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_9__stores_GamesPlayedStore__.a.loaded(state)},currentLastPlayedGameId:__WEBPACK_IMPORTED_MODULE_7__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,hasOnlyOneGame:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasOnlyOneGame,gamePlayed:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getOnlyGamePlayed,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_10__queries_ChangePlatformsQueries__.a.getHasOnlyOneOwnedPlatform,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_10__queries_ChangePlatformsQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_10__queries_ChangePlatformsQueries__.a.getMyLastPlayedGameFilteredOwnedPlatfroms,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_10__queries_ChangePlatformsQueries__.a.getHasOwnedPlatforms,hasNoSessionData:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasNoSessionData}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({loadedLastPlayedGame:!1,hasOtherGamesPlayed:!1,otherGames:[],currentLastPlayedGameId:null,hasOnlyOneGame:!1})))),__metadata("design:paramtypes",[])],OtherGamesController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_ProfileReward__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(308)),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__=__webpack_require__(610),__WEBPACK_IMPORTED_MODULE_4__Carousel_views_CarosuelView__=__webpack_require__(587),__WEBPACK_IMPORTED_MODULE_5__Rewards_views_RewardsSlideView__=__webpack_require__(851),__WEBPACK_IMPORTED_MODULE_6__modules_analytics_services_AnalyticsService__=__webpack_require__(19);__webpack_require__.d(exports,"a",function(){return RewardsSliderController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RewardsSliderController=function(_PureComponent){function RewardsSliderController(){_classCallCheck(this,RewardsSliderController);var _this=_possibleConstructorReturn(this,(RewardsSliderController.__proto__||Object.getPrototypeOf(RewardsSliderController)).apply(this,arguments));return _this.userSearchRefHasEventListener=!1,_this.addKeyEvent=function(e){81==e.keyCode&&(e.preventDefault(),_this.swiper&&_this.swiper.slidePrev&&_this.swiper.slidePrev()),69==e.keyCode&&(e.preventDefault(),_this.swiper&&_this.swiper.slideNext&&_this.swiper.slideNext())},_this.swiper=null,_this}return _inherits(RewardsSliderController,_PureComponent),_createClass(RewardsSliderController,[{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:"rewards-slider"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Carousel_views_CarosuelView__.a,{slidesPerView:1,slidesPerGroup:1,initialSlide:this.props.initialSlide,className:"reward-slider",onChangeSlide:this.props.onChangeSlide,keyboardEnabled:!0,hideNavigationAndPagination:this.props.rewards&&this.props.rewards.length<=1,setSwiper:this.setSwiper,onSwipeCallback:this.props.onSwipeRewards},this.props.rewards.map(function(reward){return React.createElement("div",{className:"swiper-slide",key:reward.rewardId},React.createElement(__WEBPACK_IMPORTED_MODULE_5__Rewards_views_RewardsSlideView__.a,{key:reward.rewardId,rewardId:reward.rewardId,spaceId:reward.spaceId,rewardImg:reward.imageUrls.image,title:reward.displayName,isFree:reward.units<=0,hasUnits:reward.units>0,units:reward.units,hasTags:reward.tags.length>0,tags:reward.tags,description:reward.displayDescription,isLocked:reward.status===__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_entities_ProfileReward__.a.LOCKED||!!reward.displayLockedStatusDescription,isRedeemed:reward.purchaseQuantity>=1,isLegendary:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__.a.LEGENDARY,isEpic:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__.a.EPIC,isRare:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__.a.RARE,isCommon:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__.a.COMMON,isExotic:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_entities_Reward__.a.EXOTIC,rarityDisplayName:reward.rarity.displayName,displayLockedStatusDescription:reward.displayLockedStatusDescription,hasFriendsOwningReward:_this2.props.hasFriendsOwningReward,nbFriendsOwningReward:_this2.props.nbFriendsOwningReward,friendsOwningReward:_this2.props.friendsOwningReward,multipleBuys:reward.purchaseLimit>1,purchaseLimit:reward.purchaseLimit,purchaseQuantity:reward.purchaseQuantity,canRedeemSeveralTimesMore:reward.purchaseQuantity<reward.purchaseLimit,notEnoughUnits:_this2.props.nbOfUnits<reward.units,loadedFriendsRewards:_this2.props.loadedFriendsRewards,rewardsPurchaseState:_this2.props.rewardsPurchaseState,onClickGetIt:_this2.props.onClickGetIt,profilePlatformDisplayName:reward.profilePlatformDisplayName,isInMobileView:_this2.props.isInMobileView,showMobileViewOnDesktop:_this2.props.showMobileViewOnDesktop}))})))}},{key:"componentDidMount",value:function(){this.userSearchRefHasEventListener=!0,document.addEventListener("keyup",this.addKeyEvent)}},{key:"componentDidUpdate",value:function(prevProps){return this.userSearchRefHasEventListener===!1&&(this.userSearchRefHasEventListener=!0,document.addEventListener("keyup",this.addKeyEvent)),null}},{key:"componentWillUnmount",value:function(){this.userSearchRefHasEventListener=!1,document.removeEventListener("keyup",this.addKeyEvent)}},{key:"setSwiper",value:function(swiper){this.swiper=swiper}}]),RewardsSliderController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);RewardsSliderController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.inject)({analyticsService:__WEBPACK_IMPORTED_MODULE_6__modules_analytics_services_AnalyticsService__.a}),__metadata("design:paramtypes",[])],RewardsSliderController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(23)),__WEBPACK_IMPORTED_MODULE_5__Games_views_SelectedGameView__=__webpack_require__(839),__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_7__queries_ChangePlatformsQueries__=__webpack_require__(309),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_9__queries_FriendsOwnedGamesQueries__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_10__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_11__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_12__stores_RewardsStore__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_13__queries_UserRewardsQueries__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_14__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__=__webpack_require__(217),__WEBPACK_IMPORTED_MODULE_16__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_17__services_StatsComparisonService__=__webpack_require__(320),__WEBPACK_IMPORTED_MODULE_18__SelectedGameStatsController__=__webpack_require__(804),__WEBPACK_IMPORTED_MODULE_19__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_20__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_21__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_22__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_23__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_24__services_RewardsViewService__=__webpack_require__(318),__WEBPACK_IMPORTED_MODULE_25__stores_RewardsViewStore__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_26__SelectedGameRewardsController__=__webpack_require__(803),__WEBPACK_IMPORTED_MODULE_27__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_28__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return SelectedGameController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedGameController=function(_PureComponent){function SelectedGameController(){return _classCallCheck(this,SelectedGameController),_possibleConstructorReturn(this,(SelectedGameController.__proto__||Object.getPrototypeOf(SelectedGameController)).apply(this,arguments))}return _inherits(SelectedGameController,_PureComponent),_createClass(SelectedGameController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_5__Games_views_SelectedGameView__.a,{gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,friendsPlaying:this.props.friendsPlaying,loadedGameStats:this.props.loadedGameStats,hasGameStats:this.props.hasGameStats,gameStats:this.props.gameStats,statsCDNUrl:this.props.statsCDNUrl,gameCoverUrl:this.props.gameCoverUrl,gameImageUrl:this.props.gameImageUrl,clubUrl:this.props.clubUrl,locale:this.props.locale,gameCleanUrl:this.props.gameCleanUrl,nbOfRewardsOwned:this.props.nbOfRewardsOwned,nbOfRewards:this.props.nbOfRewards,loadedFriends:this.props.loadedFriends,loadedRewards:this.props.loadedRewards,onClickGameStats:this.onClickGameStats,onClickGameRewards:this.onClickGameRewards,isShownGameStats:this.props.isShownGameStats,isInMobileView:this.props.isInMobileView,onClickGoBack:this.onClickGoBack,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,isShownGameRewards:this.props.isShownGameRewards,nbOfUnits:this.props.nbOfUnits,hasNoSessionData:this.props.hasNoSessionData},this.props.isShownGameStats?React.createElement(__WEBPACK_IMPORTED_MODULE_18__SelectedGameStatsController__.a,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef}):this.props.isShownGameRewards?React.createElement(__WEBPACK_IMPORTED_MODULE_26__SelectedGameRewardsController__.a,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef,onSwipeRewards:this.props.onSwipeRewards}):React.createElement("noscript",null))}},{key:"onChangePlatform",value:function(gameId,appId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction",this.props.gameTitle+" : game card : platform selector: "+(this.props.platformsByApplicationId[appId]?this.props.platformsByApplicationId[appId].displayName:null)),_context.next=3,this.props.commonActionsService.onChangeLPGPltform(gameId,appId);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickGameStats",value:function(){this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction",this.props.gameTitle+" : game card : show more stats"),this.props.analyticsService.trackPage("user tab","game panel : stats"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.statsComparisonService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickGameRewards",value:function(){this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction",this.props.gameTitle+" : game card : manage rewards"),this.props.analyticsService.trackPage("user tab","game panel : rewards"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onToggleShowGameRewards(!0,this.props._detailsScrollableRef)}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction",this.props.gameTitle+" : game card : close panel"),this.props.analyticsService.trackPage("user tab","player card"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context2.next=5,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 5:case"end":return _context2.stop()}},_callee2,this)}))}}]),SelectedGameController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);SelectedGameController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,statsComparisonService:__WEBPACK_IMPORTED_MODULE_17__services_StatsComparisonService__.a,rewardsViewService:__WEBPACK_IMPORTED_MODULE_24__services_RewardsViewService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_28__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({loadedGame:!1,loadedFriends:!1,loadedGameStats:!1,loadedRewards:!1,statsCDNUrl:__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clubUrl:__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_21__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,isShownGameStats:__WEBPACK_IMPORTED_MODULE_16__stores_StatsComparisonStore__.a.getIsShownGameStats,isShownGameRewards:__WEBPACK_IMPORTED_MODULE_25__stores_RewardsViewStore__.a.getIsShownGameRewards,isInMobileView:__WEBPACK_IMPORTED_MODULE_19__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_19__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showGameContent:__WEBPACK_IMPORTED_MODULE_20__stores_OtherGamesCarouselStore__.a.getShowGameContent,gameStats:[]},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_22__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_27__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_23__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({
loadedGame:!0,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_7__queries_ChangePlatformsQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_7__queries_ChangePlatformsQueries__.a.getMyLastPlayedGameFilteredOwnedPlatfroms,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_7__queries_ChangePlatformsQueries__.a.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_7__queries_ChangePlatformsQueries__.a.getHasOwnedPlatforms,gameDate:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedDate,gameTitle:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentGameName,gameId:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentGameId,gameCoverUrl:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentCoverUrl,gameImageUrl:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentImageUrl,gameCleanUrl:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getCurrentGameCleanUrl,platformsByApplicationId:__WEBPACK_IMPORTED_MODULE_22__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId,hasNoSessionData:__WEBPACK_IMPORTED_MODULE_6__queries_OtherGamesCarouselQueries__.a.getHasNoSessionData},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_11__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_10__stores_FriendsGamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({friendsPlaying:__WEBPACK_IMPORTED_MODULE_9__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGameNames,loadedFriends:!0},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_14__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_GameStatsStore__.a.loadedFriendsStats(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasGameStats:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.hasLastPlayedGameStats,gameStats:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.getLastPlayedGameStatsWithRank,loadedGameStats:!0})))),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_12__stores_RewardsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({nbOfRewardsOwned:__WEBPACK_IMPORTED_MODULE_13__queries_UserRewardsQueries__.a.getNbRewardsOwned,nbOfRewards:__WEBPACK_IMPORTED_MODULE_13__queries_UserRewardsQueries__.a.getNbOfTotalRewards,nbOfUnits:__WEBPACK_IMPORTED_MODULE_13__queries_UserRewardsQueries__.a.getNbOfUnits,loadedRewards:!0})))))))),__metadata("design:paramtypes",[])],SelectedGameController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__services_RewardsViewService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(318)),__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_6__views_RewardsView__=__webpack_require__(810),__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_8__stores_RewardsStore__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__=__webpack_require__(219),__WEBPACK_IMPORTED_MODULE_11__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_14__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__=__webpack_require__(69);__webpack_require__.d(exports,"a",function(){return SelectedGameRewardsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SelectedGameRewardsController=function(_PureComponent){function SelectedGameRewardsController(){return _classCallCheck(this,SelectedGameRewardsController),_possibleConstructorReturn(this,(SelectedGameRewardsController.__proto__||Object.getPrototypeOf(SelectedGameRewardsController)).apply(this,arguments))}return _inherits(SelectedGameRewardsController,_PureComponent),_createClass(SelectedGameRewardsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_6__views_RewardsView__.a,{isLoadedGameRewards:this.props.isLoadedGameRewards,onClickGoBack:this.onClickGoBack,gameTitle:this.props.gameTitle,nbOfUnits:this.props.nbOfUnits,rarities:this.props.rarities,rewards:this.props.rewards,showSingleReward:this.props.showSingleReward,onClickReward:this.onClickReward,onClickGoBackFromSelectedReward:this.onClickGoBackFromSelectedReward,initialSlide:this.props.initialSlide,onChangeSlide:this.onChangeSlide,hasFriendsOwningReward:this.props.hasFriendsOwningReward,nbFriendsOwningReward:this.props.nbFriendsOwningReward,friendsOwningReward:this.props.friendsOwningReward,loadedFriendsRewards:this.props.loadedFriendsRewards,rewardsPurchaseState:this.props.rewardsPurchaseState,onClickGetIt:this.onClickGetIt,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,onSwipeRewards:this.props.onSwipeRewards})}},{key:"onClickGoBack",value:function(){this.props.analyticsService.trackEvent("user tab","game panel : rewards","global nav","interaction",this.props.gameTitle+" : game card : rewards : close panel"),this.props.analyticsService.trackPage("user tab","game panel"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onToggleShowGameRewards(!1)}},{key:"onClickReward",value:function(rewardId,spaceId,offset,e){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onClickReward(rewardId,spaceId,offset)}},{key:"onClickGoBackFromSelectedReward",value:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onClickGoBackFromSelectedReward()}},{key:"onChangeSlide",value:function(offset){offset<this.props.initialSlide&&this.props.analyticsService.trackEvent("user tab","game panel : reward details","global nav","interaction",this.props.gameTitle+" : game card : manage rewards : previous reward"),offset>this.props.initialSlide&&this.props.analyticsService.trackEvent("user tab","game panel : reward details","global nav","interaction",this.props.gameTitle+" : game card : manage rewards : next reward"),this.props.rewardsViewService.onChangeSlide(offset)}},{key:"onClickGetIt",value:function(rewardId,spaceId,e){this.props.analyticsService.trackEvent("user tab","game panel : rewards","global nav","interaction",this.props.gameTitle+" : game card : manage rewards : get reward"),this.props.rewardsViewService.onClickGetIt(rewardId,spaceId)}}]),SelectedGameRewardsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SelectedGameRewardsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({rewardsViewService:__WEBPACK_IMPORTED_MODULE_4__services_RewardsViewService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_14__modules_analytics_services_AnalyticsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isShownGameRewards:__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__.a.getIsShownGameRewards,showSingleReward:__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__.a.getShowSingleReward,initialSlide:__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__.a.getOffset,loadedFriendsRewards:__WEBPACK_IMPORTED_MODULE_8__stores_RewardsStore__.a.getLoadedFriendsRewards,rewardsPurchaseState:__WEBPACK_IMPORTED_MODULE_5__stores_RewardsViewStore__.a.getPurchase,isInMobileView:__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__.a.getShowMobileViewOnDesktop},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_11__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_8__stores_RewardsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedGameRewards:!0,gameTitle:__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__.a.getCurrentGameName,nbOfUnits:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getNbOfUnits,rarities:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getGameRewaredsRarityNumbers,rewards:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getGameRewards},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_11__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_8__stores_RewardsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFriendsOwningReward:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getHasFriendsOwningReward,nbFriendsOwningReward:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getNbFriendsOwningReward,friendsOwningReward:__WEBPACK_IMPORTED_MODULE_10__queries_UserRewardsQueries__.a.getFriendsOwningReward}),{hasFriendsOwningReward:!1,nbFriendsOwningReward:0,friendsOwningReward:[]})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedGameRewards:!1,gameTitle:null,nbOfUnits:0,rarities:[],rewards:[]})))),__metadata("design:paramtypes",[])],SelectedGameRewardsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(23)),__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_6__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_7__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_8__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_9__Stats_views_SelectedGameStatsView__=__webpack_require__(854),__WEBPACK_IMPORTED_MODULE_10__queries_OtherGamesCarouselQueries__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_11__queries_FriendsOwnedGamesQueries__=__webpack_require__(134),__WEBPACK_IMPORTED_MODULE_12__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_13__queries_ChangePlatformsQueries__=__webpack_require__(309),__WEBPACK_IMPORTED_MODULE_14__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__=__webpack_require__(217),__WEBPACK_IMPORTED_MODULE_16__services_StatsComparisonService__=__webpack_require__(320),__WEBPACK_IMPORTED_MODULE_17__modules_locale_queries_CustomTranslateQueries__=__webpack_require__(214),__WEBPACK_IMPORTED_MODULE_18__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_20__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_21__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_22__modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_23__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_24__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_25__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_26__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return SelectedGameStatsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedGameStatsController=function(_PureComponent){function SelectedGameStatsController(){return _classCallCheck(this,SelectedGameStatsController),_possibleConstructorReturn(this,(SelectedGameStatsController.__proto__||Object.getPrototypeOf(SelectedGameStatsController)).apply(this,arguments))}return _inherits(SelectedGameStatsController,_PureComponent),_createClass(SelectedGameStatsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_9__Stats_views_SelectedGameStatsView__.a,{gameName:this.props.gameName,friendsPlayingGame:this.props.friendsPlayingGame,selectedFriendId:this.props.selectedFriendId,selectedFriendName:this.props.selectedFriendName,onChangeFriend:this.onChangeFriend,onTypeFriendName:this.onTypeFriendName,loadedFriends:this.props.loadedFriends,onToggleStopEventPropagation:this.onToggleStopEventPropagation,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,clubUrl:this.props.clubUrl,locale:this.props.locale,onClickGameStats:this.onClickGameStats,onClickGoBack:this.onClickGoBack,showFriendSelectorTooltip:this.props.showFriendSelectorTooltip,onClickCloseFriendTooltip:this.onClickCloseFriendTooltip,friendsSelectorPlaceholder:this.props.friendsSelectorPlaceholder,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,isFriendGame:!1,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,onClickClose:this.onClickClose,myAvatarUrl:this.props.myAvatarUrl,friendAvatarUrl:this.props.friendAvatarUrl})}},{key:"onChangeFriend",value:function(friendId){this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction",this.props.gameName+" : game card : stats : stats details"),this.props.statsComparisonService.onChangeFriend(friendId)}},{key:"onTypeFriendName",value:function(event){this.props.statsComparisonService.onTypeFriendName(event.target.value)}},{key:"onToggleStopEventPropagation",value:function(){}},{key:"onChangePlatform",value:function(gameId,appId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction",this.props.gameName+" : game card : stats : platform selector : "+(this.props.platformsByApplicationId[appId]?this.props.platformsByApplicationId[appId].displayName:null)),_context.next=3,this.props.commonActionsService.onChangeLPGPltform(gameId,appId);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickGameStats",value:function(){}},{key:"onClickGoBack",value:function(){this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction",this.props.gameName+" : game card : stats : go back to main panel"),this.props.analyticsService.trackPage("user tab","game panel"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.statsComparisonService.onToggleShowGameStats(!1)}},{key:"onClickCloseFriendTooltip",value:function(){this.props.statsComparisonService.onToggleShowFriendsSelectorTooltipWarning(this.props.showFriendSelectorTooltip)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction",this.props.gameName+" : game card : stats : close panel"),this.props.analyticsService.trackPage("user tab","player card"),_context2.next=4,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 4:case"end":return _context2.stop()}},_callee2,this)}))}}]),SelectedGameStatsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SelectedGameStatsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,statsComparisonService:__WEBPACK_IMPORTED_MODULE_16__services_StatsComparisonService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_24__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_26__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isShownGameStats:__WEBPACK_IMPORTED_MODULE_12__stores_StatsComparisonStore__.a.getIsShownGameStats,isLoadedGameStats:!1,friendsPlayingGame:[],selectedFriendId:__WEBPACK_IMPORTED_MODULE_12__stores_StatsComparisonStore__.a.getSelectedFriendId,selectedFriendName:__WEBPACK_IMPORTED_MODULE_12__stores_StatsComparisonStore__.a.getSelectedFriendName,loadedFriends:!1,lastPlayedGameId:__WEBPACK_IMPORTED_MODULE_14__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,hasLastPlayedGameStats:!1,lastPlayedGameStats:[],statsCDNUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clubUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,friendsSelectorPlaceholder:__WEBPACK_IMPORTED_MODULE_17__modules_locale_queries_CustomTranslateQueries__.a.getFriendsSelectorTranslatedText,showFriendSelectorTooltip:__WEBPACK_IMPORTED_MODULE_12__stores_StatsComparisonStore__.a.getShowFriendSelectorTooltip,gameStatsToCompareWithAFriend:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_18__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_18__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_18__queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_20__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_23__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_21__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_6__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_6__stores_GameStatsStore__.a.loadedFriendsStats(state)&&__WEBPACK_IMPORTED_MODULE_8__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_7__stores_FriendsGamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedGameStats:!0,gameName:__WEBPACK_IMPORTED_MODULE_10__queries_OtherGamesCarouselQueries__.a.getCurrentGameName,friendsPlayingGame:__WEBPACK_IMPORTED_MODULE_11__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGameForSelect,loadedFriends:!0,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_13__queries_ChangePlatformsQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_13__queries_ChangePlatformsQueries__.a.getMyLastPlayedGameFilteredOwnedPlatfroms,loadedLastPlayedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_10__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_13__queries_ChangePlatformsQueries__.a.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_13__queries_ChangePlatformsQueries__.a.getHasOwnedPlatforms,hasLastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.hasLastPlayedGameStats,lastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.getGameStatsWithRank,statsCDNUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clubUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,gameStatsToCompareWithAFriend:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.getGameStatsToCompareWithAFriend,myAvatarUrl:__WEBPACK_IMPORTED_MODULE_22__modules_avatars_queries_AvatarsQueries__.a.getMyAvatar,friendAvatarUrl:__WEBPACK_IMPORTED_MODULE_15__queries_GameStatsQueries__.a.getFriendAvatarUrl,platformsByApplicationId:__WEBPACK_IMPORTED_MODULE_20__stores_UbisoftGamesStore__.a.getPlatformsByApplicationId})))),__metadata("design:paramtypes",[])],SelectedGameStatsController)},function(module,exports,__webpack_require__){"use strict";function ChangeAvatarView(props){var dropZone=React.createElement(__WEBPACK_IMPORTED_MODULE_5__Avatar_views_ChooseFromYourPicturesButtonView__.a,{dropZoneRef:props.dropZoneRef,onDropAvatar:props.onDropAvatar,isPlayerBanned:props.isPlayerBanned,isMyAvatarBaned:props.isMyAvatarBaned,onClickUploadFile:props.onClickUploadFile,isInMobileView:props.isInMobileView||props.showMobileViewOnDesktop,showTooltip:props.showTooltip,onClickCloseAvatarTooltip:props.onClickCloseAvatarTooltip,showRules:props.showRules,onClickCloseRules:props.onClickCloseRules,hasUploadError:props.hasUploadError,hasFileTypeError:props.hasFileTypeError,hasImageSizeError:props.hasImageSizeError,hasImageError:props.hasImageError,hasServiceError:props.hasServiceError}),resizeView=React.createElement(__WEBPACK_IMPORTED_MODULE_3__Avatar_views_ResizeAvatarView__.a,{avatarEditorRef:props.avatarEditorRef,uploadScale:props.uploadScale,onChangeUploadScale:props.onChangeUploadScale,avatarImagePreview:props.avatarImagePreview,onLoadFailure:props.onLoadFailure,onLoadSuccess:props.onLoadSuccess,onImageReady:props.onImageReady,onImageChange:props.onImageChange,remCoefSize:props.remCoefSize,uploadingAvatarToService:props.uploadingAvatarToService,onClickUploadAvatarToService:props.onClickUploadAvatarToService,onClickCancelUploadAvatarToService:props.onClickCancelUploadAvatarToService,onScaleDownAvatar:props.onScaleDownAvatar,onScaleUpAvatar:props.onScaleUpAvatar,isInMobileView:props.isInMobileView,showMobileViewOnDesktop:props.showMobileViewOnDesktop,onSwipeAvatar:props.onSwipeAvatar});return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock avatarEdit",{"no-boreder-botttom":props.isInMobileView&&props.showResizeAvatar})},props.isInMobileView||props.showMobileViewOnDesktop?React.createElement("div",{className:"change-avatar-mobile"},React.createElement("div",{className:"change-avatar-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBack,showChangeAvatarText:!1}),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__.a,null,"Avatar edition"))),props.showResizeAvatar||props.isMinor?null:dropZone,props.showResizeAvatar?null:React.createElement(__WEBPACK_IMPORTED_MODULE_2__Avatar_views_ChangeAvatarFromGalleryView__.a,{selectedGameCode:props.selectedGameCode,selectedGameName:props.selectedGameName,avatarsForSelect:props.avatarsForSelect,onChangeGame:props.onChangeGame,onTypeGameName:props.onTypeGameName,loadedAvatars:props.loadedAvatars,avatarsFromGalleryByGameCode:props.avatarsFromGalleryByGameCode,onClickAvatar:props.onClickAvatar,selectedAvatarId:props.selectedAvatarId,onClickCancelSaveAvatar:props.onClickCancelSaveAvatar,onClickSaveAvatar:props.onClickSaveAvatar,loadedAvatar:props.loadedAvatar,showSelectedAvatarOverlay:props.showSelectedAvatarOverlay,onToggleStopEventPropagation:props.onToggleStopEventPropagation,showGameSelectorTooltip:props.showGameSelectorTooltip,locale:props.locale,onClickCloseGameSelectorTooltip:props.onClickCloseGameSelectorTooltip,isInMobileView:props.isInMobileView||props.showMobileViewOnDesktop,hasServiceError:props.hasGalleryServiceError}),props.showResizeAvatar?resizeView:null):null,props.isInMobileView||props.showMobileViewOnDesktop?null:React.createElement("div",{className:"change-avatar-desktop"},React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__.a,null,"Avatar edition")),props.isMinor?null:React.createElement("div",{className:"change-avatar-tabs"},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("change-avatar-tab",{"is-active":props.showChooseFromGalleryTab}),onClick:props.onClickChangeTab.bind(null,__WEBPACK_IMPORTED_MODULE_7__entities_Avatar__.a.GALLERY_AVATAR_TAB)},React.createElement(__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__.a,null,"Choose from gallery")),React.createElement("div",{
className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("change-avatar-tab",{"is-active":props.showUploadAnAvatarTab}),onClick:props.onClickChangeTab.bind(null,__WEBPACK_IMPORTED_MODULE_7__entities_Avatar__.a.UPLOAD_AVATAR_TAB)},React.createElement(__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__.a,null,"Upload your avatar"))),props.isMinor?React.createElement("div",{className:"change-avatar-tabs"},React.createElement("div",{className:"change-avatar-tab is-active",style:{width:"100%",cursor:"auto"}},React.createElement(__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__.a,null,"Choose from gallery"))):null,props.showChooseFromGalleryTab||props.isMinor?React.createElement(__WEBPACK_IMPORTED_MODULE_2__Avatar_views_ChangeAvatarFromGalleryView__.a,{selectedGameCode:props.selectedGameCode,selectedGameName:props.selectedGameName,avatarsForSelect:props.avatarsForSelect,onChangeGame:props.onChangeGame,onTypeGameName:props.onTypeGameName,loadedAvatars:props.loadedAvatars,avatarsFromGalleryByGameCode:props.avatarsFromGalleryByGameCode,onClickAvatar:props.onClickAvatar,selectedAvatarId:props.selectedAvatarId,onClickCancelSaveAvatar:props.onClickCancelSaveAvatar,onClickSaveAvatar:props.onClickSaveAvatar,loadedAvatar:props.loadedAvatar,showSelectedAvatarOverlay:props.showSelectedAvatarOverlay,onToggleStopEventPropagation:props.onToggleStopEventPropagation,showGameSelectorTooltip:props.showGameSelectorTooltip,locale:props.locale,onClickCloseGameSelectorTooltip:props.onClickCloseGameSelectorTooltip,isInMobileView:props.isInMobileView||props.showMobileViewOnDesktop,hasServiceError:props.hasGalleryServiceError}):null,!props.showUploadAnAvatarTab||props.showResizeAvatar||props.isMinor?null:React.createElement(__WEBPACK_IMPORTED_MODULE_4__Avatar_views_ChangeAvatarFromUploadDesktopView__.a,{dropZoneComponent:dropZone,isPlayerBanned:props.isPlayerBanned,isMyAvatarBaned:props.isMyAvatarBaned,hasUploadError:props.hasUploadError,showTooltip:props.showTooltip,onClickCloseAvatarTooltip:props.onClickCloseAvatarTooltip,hasFileTypeError:props.hasFileTypeError,hasImageSizeError:props.hasImageSizeError,hasImageError:props.hasImageError,hasServiceError:props.hasServiceError}),props.showUploadAnAvatarTab&&props.showResizeAvatar?resizeView:null))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_2__Avatar_views_ChangeAvatarFromGalleryView__=__webpack_require__(784),__WEBPACK_IMPORTED_MODULE_3__Avatar_views_ResizeAvatarView__=__webpack_require__(787),__WEBPACK_IMPORTED_MODULE_4__Avatar_views_ChangeAvatarFromUploadDesktopView__=__webpack_require__(785),__WEBPACK_IMPORTED_MODULE_5__Avatar_views_ChooseFromYourPicturesButtonView__=__webpack_require__(786),__WEBPACK_IMPORTED_MODULE_6__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_7__entities_Avatar__=__webpack_require__(599);exports.a=ChangeAvatarView},function(module,exports,__webpack_require__){"use strict";function ExpandedContentView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("content content-start")},(props.showAvatarComponent||props.showGameContent||props.showChangeUserName)&&(props.isInMobileView||props.showMobileViewOnDesktop)?null:[React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock playerCard",{"is-xp-translation-too-long":props.isLocaleXpTranslationTooLong}),key:"0"},React.createElement("div",{className:"for-mobile"},React.createElement("div",{className:"menu_container_user-info"},React.createElement("div",{className:"img-holder"},props.avatarUrl?React.createElement(__WEBPACK_IMPORTED_MODULE_2__Avatar_views_AvatarView__.a,{avatarUrl:props.avatarUrl,onClick:props.onClickAvatar,editAvatar:!0,isActive:props.showAvatarComponent,locale:props.locale,avatarMaintenance:props.avatarMaintenance,changeTooltipState:props.changeTooltipState}):null,props.avatarUrl?null:React.createElement("div",{className:"avatar empty"},React.createElement("img",{src:null})),React.createElement("div",{className:"username-view-wrapper"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Username_views_UserNameView__.a,{twoFactorAuthStatus:props.twoFactorAuthStatus,userName:props.username,onClickChangeUserName:props.onClickChangeUserName}),props.hasProfileCallError?null:React.createElement("div",{className:"level"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{level:props.level},"Level %(level)")))),props.hasProfileCallError?null:React.createElement("div",{className:"user-progression-details"},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("detail",{newPlayer:props.myNbOfYearsOfMemebership<=0})},props.myNbOfYearsOfMemebership<=0?[React.createElement("img",{src:swirl,className:"swirl-icon",alt:"swirl",key:"0"}),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"new player")))]:null,1==props.myNbOfYearsOfMemebership?[React.createElement("span",{className:"num",key:"0"},props.myNbOfYearsOfMemebership),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"year")),React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"with Ubi")))]:null,props.myNbOfYearsOfMemebership>1?[React.createElement("span",{className:"num",key:"0"},props.myNbOfYearsOfMemebership),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"years")),React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"with Ubi")))]:null),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("detail",{noGames:props.myNbOfGamesOwned<=0})},props.myNbOfGamesOwned<=0?[React.createElement("img",{src:gamesIcon,className:"games-icon",alt:"games",key:"0"}),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"No games yet")))]:null,1==props.myNbOfGamesOwned?[React.createElement("span",{className:"num",key:"0"},props.myNbOfGamesOwned),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"game")),React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"owned")))]:null,props.myNbOfGamesOwned>1?[React.createElement("span",{className:"num",key:"0"},props.myNbOfGamesOwned),React.createElement("span",{className:"textContainer",key:"1"},React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"games")),React.createElement("span",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"owned")))]:null))))),React.createElement(__WEBPACK_IMPORTED_MODULE_6__controllers_OtherGamesController__.a,{onSwipeOtherGames:props.onSwipeOtherGames,_detailsScrollableRef:props._detailsScrollableRef,_scrollableRef:props._scrollableRef,key:"1"}),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock","youMightAlsoLikeSection",{hidden:!props.loadedGames||!props.hasYouMightLikeGame}),key:"2"},props.hasYouMightLikeGame?React.createElement(__WEBPACK_IMPORTED_MODULE_5__YouMightLikeGameView__.a,{onClickYouMightAlsoLikeGame:props.onClickYouMightAlsoLikeGame,gameName:props.youMightLikeGame.gameName,gameImage:props.youMightLikeGame.imageUrl,hasOnlyOnePlatform:props.hasOnlyOnePlatform,gameShopUrl:props.youMightLikeGame.shopUrl,gamePlatforms:props.youMightLikeGamePlatformsMapedNames,hasNoGamesPlayed:props.hasNoGamesPlayed,hasCustomStoreBuyButton:props.hasCustomStoreBuyButton}):null),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock","youMightAlsoLikeSection",{hidden:!props.loadedGames||!props.hasYouMightAlsoLikeGames||!props.hasNoGamesPlayed}),key:"3"},props.hasYouMightAlsoLikeGames&&props.hasNoGamesPlayed?React.createElement(__WEBPACK_IMPORTED_MODULE_7__YouMightAlsoLikeGamesView__.a,{youMightAlsoLikeGames:props.youMightAlsoLikeGames,ubiStoreUrl:props.ubiStoreUrl,onClickYouMightAlsoLikeGame:props.onClickYouMightAlsoLikeGame}):null),React.createElement("section",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_container_user_section links",{"margin-bottom-mobile":props.isInMobileView}),key:"4"},React.createElement("ul",null,React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_analytics_components_TrackClick__.a,{element:"a",href:props.accountUrl,className:"arrow link-account-info",onClick:props.onClickAccountInformation,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to account management"},props.isAccountLinkOverwritten&&props.overwrittenAccountLinkUrl?React.createElement("span",null,props.overwrittenAccountLinkUrl):null,props.isAccountLinkOverwritten&&props.overwrittenAccountLinkUrl?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Account Information"),props.overwrittenAccountLinkAction&&props.overwrittenAccountLinkAction!==__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB?null:React.createElement("i",{className:"icon-external-link"}))),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_analytics_components_TrackClick__.a,{element:"a",className:"arrow link-help",href:props.customerSupportUrl,onClick:props.onClickHelpAndSupport,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to customer support"},props.isSupportLinkOverwritten&&props.overwrittenSupportLinkUrl?React.createElement("span",null,props.overwrittenSupportLinkUrl):null,props.isSupportLinkOverwritten&&props.overwrittenSupportLinkUrl?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Help and Support"),props.overwrittenSupportLinkAction&&props.overwrittenSupportLinkAction!==__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB?null:React.createElement("i",{className:"icon-external-link"}))),React.createElement("li",null,React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_analytics_components_TrackClick__.a,{element:"a",className:"arrow link-help",href:props.storeUrl,onClick:props.onClickStore,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to ubisoft store"},props.isStoreLinkOverwritten&&props.overwrittenStoreLinkUrl?React.createElement("span",null,props.overwrittenStoreLinkUrl):null,props.isStoreLinkOverwritten&&props.overwrittenStoreLinkUrl?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Ubisoft Store"),props.overwrittenStoreLinkAction&&props.overwrittenStoreLinkAction!==__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB?null:React.createElement("i",{className:"icon-external-link"}))),props.integratorCustomerSupportUrls.map(function(customLink){return React.createElement("li",{key:customLink.id},React.createElement("a",{className:"arrow",href:customLink.url,onClick:props.onClickCustomLink.bind(null,customLink.url,customLink.action)},customLink.name,customLink.action&&customLink.action!==__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_entities_IntegratorConfig__.c.OPEN_NEW_TAB?null:React.createElement("i",{className:"icon-external-link"})))}),React.createElement("li",{className:"logout"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_analytics_components_TrackClick__.a,{element:"div",className:"logout-button",onClick:props.onClickLogout,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"login",aaAction:"loging out"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Logout"),React.createElement("i",{className:"icon-logout"})))))],props.isInMobileView||props.showMobileViewOnDesktop?props.children:null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Avatar_views_AvatarView__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_3__modules_analytics_components_TrackClick__=__webpack_require__(212),__WEBPACK_IMPORTED_MODULE_4__Username_views_UserNameView__=__webpack_require__(858),__WEBPACK_IMPORTED_MODULE_5__YouMightLikeGameView__=__webpack_require__(812),__WEBPACK_IMPORTED_MODULE_6__controllers_OtherGamesController__=__webpack_require__(800),__WEBPACK_IMPORTED_MODULE_7__YouMightAlsoLikeGamesView__=__webpack_require__(811),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(164);exports.a=ExpandedContentView;var gamesIcon=__webpack_require__(936),swirl=__webpack_require__(937)},function(module,exports,__webpack_require__){"use strict";function ExpandedView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_user-panel-container panel-container expanding-details",{visible:props.show}),style:{height:props.height,maxHeight:props.maxHeight,top:props.top}},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_user-panel",{"is-in-mobile":props.isInMobileView}),ref:props.swipeRef},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_ScrollbarsView__.a,{scrollbarHeight:props.scrollbarHeight,scrollbarWidth:props.scrollbarWidth,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:props.scrollableRef,scrollbarNegativeMargin:props.scrollbarNegativeMargin},React.createElement(__WEBPACK_IMPORTED_MODULE_1__ExpandedContentView__.a,{avatarUrl:props.avatarUrl,username:props.username,level:props.level,onClickAccountInformation:props.onClickAccountInformation,onClickHelpAndSupport:props.onClickHelpAndSupport,onClickYouMightAlsoLikeGame:props.onClickYouMightAlsoLikeGame,onClickLogout:props.onClickLogout,onClickCustomLink:props.onClickCustomLink,onClickStore:props.onClickStore,loadedGames:props.loadedGames,isInMobileView:props.isInMobileView,locale:props.locale,customerSupportUrl:props.customerSupportUrl,accountUrl:props.accountUrl,integratorCustomerSupportUrls:props.integratorCustomerSupportUrls,youMightLikeGamePlatformsMapedNames:props.youMightLikeGamePlatformsMapedNames,isLocaleXpTranslationTooLong:props.isLocaleXpTranslationTooLong,hasProfileCallError:props.hasProfileCallError,hasOnlyOnePlatform:props.hasOnlyOnePlatform,onClickChangeUserName:props.onClickChangeUserName,showChangeUserName:props.showChangeUserName,onClickAvatar:props.onClickAvatar,showAvatarComponent:props.showAvatarComponent,onSwipeOtherGames:props.onSwipeOtherGames,twoFactorAuthStatus:props.twoFactorAuthStatus,hasYouMightLikeGame:props.hasYouMightLikeGame,youMightLikeGame:props.youMightLikeGame,myNbOfGamesOwned:props.myNbOfGamesOwned,myNbOfYearsOfMemebership:props.myNbOfYearsOfMemebership,showGameContent:props.showGameContent,showMobileViewOnDesktop:props.showMobileViewOnDesktop,avatarMaintenance:props.avatarMaintenance,changeTooltipState:props.changeTooltipState,storeUrl:props.storeUrl,hasNoGamesPlayed:props.hasNoGamesPlayed,hasYouMightAlsoLikeGames:props.hasYouMightAlsoLikeGames,youMightAlsoLikeGames:props.youMightAlsoLikeGames,ubiStoreUrl:props.ubiStoreUrl,isAccountLinkOverwritten:props.isAccountLinkOverwritten,isSupportLinkOverwritten:props.isSupportLinkOverwritten,isStoreLinkOverwritten:props.isStoreLinkOverwritten,overwrittenAccountLinkUrl:props.overwrittenAccountLinkUrl,overwrittenSupportLinkUrl:props.overwrittenSupportLinkUrl,overwrittenStoreLinkUrl:props.overwrittenStoreLinkUrl,hasCustomStoreBuyButton:props.hasCustomStoreBuyButton,overwrittenAccountLinkAction:props.overwrittenAccountLinkAction,overwrittenSupportLinkAction:props.overwrittenSupportLinkAction,overwrittenStoreLinkAction:props.overwrittenStoreLinkAction,_detailsScrollableRef:props._detailsScrollableRef,_scrollableRef:props._scrollableRef},props.children)),props.selectedAvatarId&&(props.showAvatarComponent&&props.isInMobileView||props.showMobileViewOnDesktop)?React.createElement(__WEBPACK_IMPORTED_MODULE_3__Avatar_views_AvatarsConfirmationContainerView__.a,{isPositionedAbsolute:!0,isPositionedFixed:!1,alwaysDisplay:!1,loadedAvatar:props.loadedAvatar,onClickCancelSaveAvatar:props.onClickCancelSaveAvatar,onClickSaveAvatar:props.onClickSaveAvatar}):null),React.createElement(__WEBPACK_IMPORTED_MODULE_2__OverviewTabDetailsView__.a,{show:props.showPlayerCardDetails,isInMobileView:props.isInMobileView,showDetailsView:props.showDetailsView,onClickCloseDetailsTabView:props.onClickCloseDetailsTabView,loadedAvatar:props.loadedAvatar,onClickCancelSaveAvatar:props.onClickCancelSaveAvatar,onClickSaveAvatar:props.onClickSaveAvatar,selectedAvatarId:props.selectedAvatarId,showAvatarComponent:props.showAvatarComponent,showMobileViewOnDesktop:props.showMobileViewOnDesktop,scrollableRef:props.detailsScrollableRef,handleOnClickMenu:props.handleOnClickMenu,scrollbarWidth:props.scrollbarWidth,handleOnScrollUpdate:props.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:props.showStatsHeaderOnPlayerCardDetails,scrollbarNegativeMargin:props.scrollbarNegativeMargin,height:props.height,maxHeight:props.maxHeight},props.children))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__ExpandedContentView__=__webpack_require__(806),__WEBPACK_IMPORTED_MODULE_2__OverviewTabDetailsView__=__webpack_require__(809),__WEBPACK_IMPORTED_MODULE_3__Avatar_views_AvatarsConfirmationContainerView__=__webpack_require__(584),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_ScrollbarsView__=__webpack_require__(208);exports.a=ExpandedView},function(module,exports,__webpack_require__){"use strict";function FriendsPlayingGameView(props){return React.createElement("div",{className:"friends-playing-game-view"},props.nbFriendsPlaying&&(!props.friends||props.friends&&0==props.friends.length)?[1==props.nbFriendsPlaying?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{key:"0"},"This is your only friend who plays this game."):null,props.nbFriendsPlaying>1?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{friends:props.nbFriendsPlaying,key:"1"},"%(friends) friends are also playing"):null]:1==props.friends.length?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{friendName:React.createElement("span",{className:"friend-playing-game-name"},props.friends[0],"")},"%(friendName) is also playing this game"):2==props.friends.length?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{firstFriend:React.createElement("span",{className:"friend-playing-game-name"},props.friends[0],""),secondFriend:React.createElement("span",{className:"friend-playing-game-name"},"",props.friends[1],"")},"%(firstFriend) and %(secondFriend) are also playing this game"):3==props.friends.length?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{firstFriend:React.createElement("span",{className:"friend-playing-game-name"},props.friends[0]),secondFriend:React.createElement("span",{className:"friend-playing-game-name"},"",props.friends[1],""),thirdFriend:React.createElement("span",{className:"friend-playing-game-name"},"",props.friends[2],"")},"%(firstFriend), %(secondFriend) and %(thirdFriend) are also playing this game"):props.friends.length>3?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{firstFriend:React.createElement("span",{className:"friend-playing-game-name"},props.friends[0]),secondFriend:React.createElement("span",{className:"friend-playing-game-name"},"",props.friends[1],""),remainingFriends:React.createElement("span",null,"",React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{numberOfOtherFriends:props.friends.length-2},"%(numberOfOtherFriends) other friends"),"")},"%(firstFriend), %(secondFriend) and %(remainingFriends) are also playing this game."):0==props.friends.length&&props.isFriendGame?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"This is your only friend who plays this game."):React.createElement("span",{className:"noFriendsPLaying"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"None of your friends have played this game yet. Sharing is caring!")))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7);exports.a=FriendsPlayingGameView},function(module,exports,__webpack_require__){"use strict";function OverviewTabDetailsView(props){var avatarComponent=props.selectedAvatarId&&props.showAvatarComponent?React.createElement(__WEBPACK_IMPORTED_MODULE_1__Avatar_views_AvatarsConfirmationContainerView__.a,{isPositionedAbsolute:!0,isPositionedFixed:!1,alwaysDisplay:!1,loadedAvatar:props.loadedAvatar,onClickCancelSaveAvatar:props.onClickCancelSaveAvatar,onClickSaveAvatar:props.onClickSaveAvatar}):null;return React.createElement(__WEBPACK_IMPORTED_MODULE_0__Overlay_views_TabDetailsView__.a,{isInMobileView:props.isInMobileView,show:props.show,showDetailsView:props.showDetailsView,className:"overview-tab-details",onClickClose:props.onClickCloseDetailsTabView,hasAvatarComponent:!0,avatarComponent:avatarComponent,showMobileViewOnDesktop:props.showMobileViewOnDesktop,scrollableRef:props.scrollableRef,scrollbarWidth:props.scrollbarWidth,handleOnClickMenu:props.handleOnClickMenu,handleOnScrollUpdate:props.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:props.showStatsHeaderOnPlayerCardDetails,showStatsHeaderOnFriendsDetails:!1,showNameHeaderOnFriendsDetails:!1,scrollbarNegativeMargin:props.scrollbarNegativeMargin,height:props.height,maxHeight:props.maxHeight},props.children)}var __WEBPACK_IMPORTED_MODULE_0__Overlay_views_TabDetailsView__=__webpack_require__(596),__WEBPACK_IMPORTED_MODULE_1__Avatar_views_AvatarsConfirmationContainerView__=__webpack_require__(584);exports.a=OverviewTabDetailsView},function(module,exports,__webpack_require__){"use strict";function RewardsView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("contentBlock load-element in-back",{"in":!props.isLoadedGameRewards})},React.createElement(__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__.a,{loaded:props.isLoadedGameRewards}),React.createElement("div",{className:"rewards-panel-header"},React.createElement("div",{className:"rewards-panel-header-content"},props.showSingleReward?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),props.showSingleReward?React.createElement(__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBackFromSelectedReward,showGoBackText:!1}):null,React.createElement("div",{className:"titles"},React.createElement("div",{className:"sectionSubtitle"},props.gameTitle),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"Rewards"))))),props.isLoadedGameRewards?React.createElement("div",{className:"balance-container"},React.createElement("span",{className:"balance-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,{nbOfUnits:React.createElement("span",{className:"balance-unit-container"},React.createElement("span",{className:"balance-icon"}),React.createElement("span",{classID:"balance-units"},props.nbOfUnits))},"Balance: %(nbOfUnits)"))):null,!props.showSingleReward&&props.isLoadedGameRewards?React.createElement("div",{className:"rewards-legend-container"},props.rarities.map(function(rarity){return React.createElement("div",{key:rarity.id,className:"rewards-legend-item"},rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.EXOTIC?React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("rewards-legend-item-icon","rewards-legend-item-icon--"+rarity.id)},React.createElement("span",{className:"reward-exotic-icon"})):null,rarity.id!==__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.EXOTIC?React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("rewards-legend-item-icon","rewards-legend-item-icon--"+rarity.id)}):null,React.createElement("div",{className:"rewards-legend-items-icon-container"},React.createElement("span",{className:"rewards-legend-item-unit"},rarity.nbOfRewardsOwned,"/",rarity.nbOfRewards),React.createElement("span",{className:"rewards-legend-item-name"},rarity.displayName)))})):null,!props.showSingleReward&&props.isLoadedGameRewards?React.createElement("div",{className:"rewards-grid"},props.rewards.map(function(reward,offset){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__Rewards_views_RewardItemView__.a,{key:reward.rewardId,rewardId:reward.rewardId,spaceId:reward.spaceId,offset:offset,rewardImg:reward.imageUrls.image,title:reward.displayName,isFree:reward.units<=0,hasUnits:reward.units>0,units:reward.units,hasTags:reward.tags.length>0,tags:reward.tags,hasSlider:reward.purchaseLimit>1,purchaseLimit:reward.purchaseLimit,purchaseQuantity:reward.purchaseQuantity,isLegendary:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.LEGENDARY,isEpic:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.EPIC,isRare:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.RARE,isCommon:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.COMMON,isExotic:reward.rarity.id===__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__.a.EXOTIC,isLocked:reward.status===__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__.a.LOCKED||!!reward.displayLockedStatusDescription,onClickReward:props.onClickReward,isRedeemed:reward.purchaseQuantity>=1,isInMobileView:props.isInMobileView,showMobileViewOnDesktop:props.showMobileViewOnDesktop})})):null,props.showSingleReward&&props.isLoadedGameRewards?React.createElement(__WEBPACK_IMPORTED_MODULE_6__controllers_RewardsSliderController__.a,{gameTitle:props.gameTitle,rewards:props.rewards,nbOfUnits:props.nbOfUnits,initialSlide:props.initialSlide,onChangeSlide:props.onChangeSlide,hasFriendsOwningReward:props.hasFriendsOwningReward,nbFriendsOwningReward:props.nbFriendsOwningReward,friendsOwningReward:props.friendsOwningReward,loadedFriendsRewards:props.loadedFriendsRewards,rewardsPurchaseState:props.rewardsPurchaseState,onClickGetIt:props.onClickGetIt,isInMobileView:props.isInMobileView,showMobileViewOnDesktop:props.showMobileViewOnDesktop,onSwipeRewards:props.onSwipeRewards}):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_2__Rewards_views_RewardItemView__=__webpack_require__(850),__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_entities_Reward__=__webpack_require__(610),__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_entities_ProfileReward__=__webpack_require__(308),__WEBPACK_IMPORTED_MODULE_6__controllers_RewardsSliderController__=__webpack_require__(801),__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=RewardsView},function(module,exports,__webpack_require__){"use strict";function YouMightAlsoLikeGamesView(props){return React.createElement("section",{className:"menu_container_user_section currently-playing"},React.createElement("div",{className:"you-might-also-like-title-text"},React.createElement("h1",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"You might also like"))),React.createElement("div",{className:"lpg-container"},React.createElement("div",{className:"you-might-also-like-container"},React.createElement("div",{className:"you-might-also-like-games more-games"},props.youMightAlsoLikeGames.map(function(game){return React.createElement("div",{key:game.id,className:"currently-playing_cover img-holder"},React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__.a,{element:"a",href:game.shopUrl,onClick:props.onClickYouMightAlsoLikeGame.bind(null,game.shopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"you might also like : "+game.gameName},game.imageUrl?React.createElement("img",{src:game.imageUrl}):null,game.imageUrl?null:React.createElement("div",{className:"other-game-no-image"}))))})),React.createElement("div",{className:"you-might-also-like-button"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__.a,{element:"a",href:props.ubiStoreUrl,target:"_blank",className:"btn secondary",aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"you might also like : view more"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"View more"))))),React.createElement("div",{className:"separator"}))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__=__webpack_require__(212);exports.a=YouMightAlsoLikeGamesView},function(module,exports,__webpack_require__){"use strict";function YouMightLikeGameView(props){var platformTranslate=0!=props.gamePlatforms.length?props.gamePlatforms.slice(0,props.gamePlatforms.length-1).map(function(platform,offset){return React.createElement("span",{key:platform},platform,offset<props.gamePlatforms.slice(0,props.gamePlatforms.length-1).length-1?[","," "]:null)}):null;return React.createElement("section",{className:"menu_container_user_section currently-playing"},React.createElement("div",{className:"currently-playing_title"},props.hasNoGamesPlayed?null:React.createElement("h1",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"You might also like")),props.hasNoGamesPlayed?React.createElement("h1",null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"You might like")):null),React.createElement("div",{
className:"lpg-container"},React.createElement("div",{className:"currently-playing_container"},React.createElement("div",{className:"currently-playing_cover img-holder"},React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__.a,{element:"a",href:props.gameShopUrl,onClick:props.onClickYouMightAlsoLikeGame.bind(null,props.gameShopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:props.hasNoGamesPlayed?"you might like : "+props.gameName:"you might also like : "+props.gameName},props.gameImage?React.createElement("img",{src:props.gameImage}):null,props.gameImage?null:React.createElement("div",{className:"other-game-no-image"})))),React.createElement("div",{className:"currently-playing_content notOwned"},React.createElement("div",{className:"currently-playing_content_title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__.a,{element:"a",href:props.gameShopUrl,onClick:props.onClickYouMightAlsoLikeGame.bind(null,props.gameShopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:props.hasNoGamesPlayed?"you might like : view more":"you might also like : view more"},React.createElement("span",{className:"text"},props.gameName,"","")),props.hasOnlyOnePlatform?React.createElement("div",{className:"not-owned-game-platforms"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{firstPlatform:props.gamePlatforms[0]},"Available on %(firstPlatform).")):null,props.hasOnlyOnePlatform?null:React.createElement("div",{className:"not-owned-game-platforms"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{firstPlatform:platformTranslate,secondPlatform:props.gamePlatforms[props.gamePlatforms.length-1]},"Available on %(firstPlatform) and %(secondPlatform).")))),React.createElement("div",{className:"currently-playing_content_shop_button"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__.a,{element:"a",href:props.gameShopUrl,onClick:props.onClickYouMightAlsoLikeGame.bind(null,props.gameShopUrl),className:"btn primary",aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:props.hasNoGamesPlayed?"you might like : go to the store":"you might also like : go to the store"},props.hasCustomStoreBuyButton?React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Buy now"):null,props.hasCustomStoreBuyButton?null:React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Go to the Store"))))),React.createElement("div",{className:"separator"}))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__modules_analytics_components_TrackClick__=__webpack_require__(212);exports.a=YouMightLikeGameView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(23)),__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__=__webpack_require__(312),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_11__views_AddFriendTabView__=__webpack_require__(819),__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__=__webpack_require__(322),__WEBPACK_IMPORTED_MODULE_13__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_14__modules_locale_queries_CustomTranslateQueries__=__webpack_require__(214),__WEBPACK_IMPORTED_MODULE_15__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_16__services_FriendsActionsService__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_17__SocialNetworksController__=__webpack_require__(818),__WEBPACK_IMPORTED_MODULE_18__RecentlyMetController__=__webpack_require__(816),__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_21__utils_scrollToTop__=__webpack_require__(69);__webpack_require__.d(exports,"a",function(){return AddFriendsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AddFriendsController=function(_PureComponent){function AddFriendsController(){_classCallCheck(this,AddFriendsController);var _this=_possibleConstructorReturn(this,(AddFriendsController.__proto__||Object.getPrototypeOf(AddFriendsController)).apply(this,arguments));return _this.userSearchRef=null,_this.addKeyEvent=function(e){13==e.keyCode&&(e.preventDefault(),_this.props.addFriendService.onClickUserSearchInput(_this.userSearchRef.value))},_this}return _inherits(AddFriendsController,_PureComponent),_createClass(AddFriendsController,[{key:"setUserSearchRef",value:function(view){this.userSearchRef=view}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_11__views_AddFriendTabView__.a,{show:this.props.show,onClickGoBack:this.onClickGoBack,loadedFriendView:!0,isLoadingSearchFriend:this.props.isLoadingSearchFriend,hasFoundProfilesByName:this.props.hasFoundProfilesByName,showNotFoundFriend:this.props.showNotFoundFriend,friendsToAdd:this.props.friendsToAdd,userSearchRef:this.setUserSearchRef,onClickUserSearchInput:this.onClickUserSearchInput,userNameToSearchBy:this.props.userNameToSearchBy,enterFullPlayerNameText:this.props.translatedText,friendsToAddState:this.props.friendsToAddState,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,currentDeclineUserId:this.props.currentDeclineUserId,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,onSwipeRecentlyMet:this.props.onSwipeRecentlyMet,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,hasApiError:this.props.hasApiError},React.createElement(__WEBPACK_IMPORTED_MODULE_17__SocialNetworksController__.a,null),React.createElement(__WEBPACK_IMPORTED_MODULE_18__RecentlyMetController__.a,{onSwipeRecentlyMet:this.props.onSwipeRecentlyMet}))}},{key:"componentDidMount",value:function(){this.userSearchRefHasEventListener=!1,this.userSearchRef&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent))}},{key:"componentDidUpdate",value:function(prevProps){return this.userSearchRef&&this.userSearchRefHasEventListener===!1&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent)),null}},{key:"onClickUserSearchInput",value:function(e){e.preventDefault(),this.props.addFriendService.onClickUserSearchInput(this.userSearchRef.value)}},{key:"componentWillUnmount",value:function(){this.userSearchRefHasEventListener=!1,this.userSearchRef.removeEventListener("keyup",this.addKeyEvent)}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickGoBack",value:function(e){e.preventDefault(),this.userSearchRef&&(this.userSearchRef.value=null),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_21__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.friendsCommunicationService.hideAddFriendsTab()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,friendState,event){this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(userId,friendState)}}]),AddFriendsController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);AddFriendsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_15__modules_analytics_services_AnalyticsService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_16__services_FriendsActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getIsInMobileView,show:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getShowAddFriendsTab,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,clubUrl:__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,isLoadingSearchFriend:__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__.a.getIsLoading,hasFoundProfilesByName:!1,userNameToSearchBy:null,friendsToAddState:{},translatedText:__WEBPACK_IMPORTED_MODULE_14__modules_locale_queries_CustomTranslateQueries__.a.getAddFriendTranslatedText,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getIsRightAfterLoad,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isAcceptedState:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getIsDeclined,isCanceledState:__WEBPACK_IMPORTED_MODULE_10__stores_FriendsActionsStore__.a.getIsCanceled,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,hasApiError:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsStore__.a.gethHasApiError,showNotFoundFriend:__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__.a.getShowNotFoundFriend},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:!1,friendsToAdd:[],userNameToSearchBy:null,friendsToAddState:{}}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:__WEBPACK_IMPORTED_MODULE_13__selectors__.A,friendsToAdd:__WEBPACK_IMPORTED_MODULE_13__selectors__.B,userNameToSearchBy:__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__.a.getUserNameToSearch,friendsToAddState:__WEBPACK_IMPORTED_MODULE_12__stores_AddFriendStore__.a.getFriendsSate})))),__metadata("design:paramtypes",[])],AddFriendsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_4__views_FriendProfileView__=__webpack_require__(824),__WEBPACK_IMPORTED_MODULE_5__services_FriendProfileService__=__webpack_require__(316),__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__=__webpack_require__(216),__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_8__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_10__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_12__stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_13__stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_14__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_15__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_16__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_17__services_FriendsActionsService__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_18__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_19__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_21__SelectedFriendProfileStatsController__=__webpack_require__(817),__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_23__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_24__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_25__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_26__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_27__queries_MetaProgressionProfileQueries__=__webpack_require__(310),__WEBPACK_IMPORTED_MODULE_28__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return FriendProfileController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendProfileController=function(_PureComponent){function FriendProfileController(){_classCallCheck(this,FriendProfileController);var _this=_possibleConstructorReturn(this,(FriendProfileController.__proto__||Object.getPrototypeOf(FriendProfileController)).apply(this,arguments));return _this.state={isSwipeOtherGames:!1},_this}return _inherits(FriendProfileController,_PureComponent),_createClass(FriendProfileController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__views_FriendProfileView__.a,{friendId:this.props.friendId,friendAvatarUrl:this.props.friendAvatarUrl,friendName:this.props.friendName,friendLevel:this.props.friendLevel,onClickRemove:this.onClickRemove,onClickView:this.onClickView,clubUrl:this.props.clubUrl,locale:this.props.locale,hasLastPlayedGame:this.props.hasLastPlayedGame,isOnline:this.props.isOnline,isCurrentlyPlayingAGame:this.props.isCurrentlyPlayingAGame,gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,loadedFriends:this.props.loadedFriends,friendsPlaying:this.props.friendsPlaying,gameImageUrl:this.props.gameImageUrl,isFriendGame:!0,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,lastPlayedGameCoverUrl:this.props.lastPlayedGameCoverUrl,onClickGameStats:this.onClickGameStats,otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,isInMobileView:this.props.isInMobileView,onClickGoBack:this.onClickGoBack,isDeclinedState:this.props.isDeclinedState,isShownGameStats:this.props.isShownGameStats,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,onClickClose:this.onClickClose,nbFriendsPlaying:this.props.nbFriendsPlaying,currentLastPlayedGameId:this.props.currentLastPlayedGameId,currentFriendToDeleteId:this.props.currentFriendToDeleteId,onClickConfirmRemove:this.onClickConfirmRemove,onClickCancelRemove:this.onClickCancelRemove,hasOnlyOneGame:this.props.hasOnlyOneGame,onlyGamePlayed:this.props.onlyGamePlayed,onSlidePrev:this.onSlidePrev,onSlideNext:this.onSlideNext,onSlideToFirst:this.onSlideToFirst,onSlideToLast:this.onSlideToLast,hasNoSessionData:this.props.hasNoSessionData,onSwipeOtherGames:this.onSwipeOtherGames},React.createElement(__WEBPACK_IMPORTED_MODULE_21__SelectedFriendProfileStatsController__.a,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef}))}},{key:"onClickRemove",value:function(userId,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.friendProfileService.onHandleClickRemove(userId);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickView",value:function(clubUrl,locale,userName,e){e.preventDefault(),this.onRedirectToFriend(clubUrl,locale,userName)}},{key:"onChangePlatform",value:function(gameId,appId,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.friendProfileService.onChangePlatform(gameId,appId,__WEBPACK_IMPORTED_MODULE_19__entities_OverviewTabDetails__.b.MAIN_VIEW);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGameStats",value:function(e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.friendProfileService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickGameImage",value:function(offset,id,spaceId,appId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context3.next=4,this.props.friendProfileService.onClickGameImage(offset,id,spaceId,appId,platformCode);case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","go back to manage friends"),this.props.analyticsService.trackPage("friends tab","manage friends"),_context4.next=4,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 4:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onRedirectToFriend",value:function(clubUrl,locale,userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,clubUrl,locale)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_29__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context5.next=3,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 3:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onClickConfirmRemove",value:function(userId,friendState){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.props.friendProfileService.onHandleClickConfirmRemove(userId,friendState);case 2:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onClickCancelRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.props.friendProfileService.onHandleClickCancelRemove(userId);case 2:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"onSlidePrev",value:function(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : previous")}},{key:"onSlideNext",value:function(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : next")}},{key:"onSlideToFirst",value:function(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : go to first")}},{key:"onSlideToLast",value:function(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : go to last")}},{key:"onSwipeOtherGames",value:function(isSwipeOtherGames){this.props.onSwipeFriendsGames(isSwipeOtherGames)}}]),FriendProfileController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);FriendProfileController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendProfileService:__WEBPACK_IMPORTED_MODULE_5__services_FriendProfileService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_15__modules_integrator_communication_services_FriendsCommunicationService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_17__services_FriendsActionsService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_18__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_28__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_30__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({clubUrl:__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_23__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,loadedGame:!1,loadedLastPlayedGame:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getLoadedFriendGames,platformsForSelect:[],friendsPlaying:[],lastPlayedGameStats:[],otherGames:[],dots:[],statsCDNUrl:__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_16__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,isDeclinedState:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getIsDeclined,isShownGameStats:__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__.a.getIsShownGameStats,isInMobileView:__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showNameHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails,
currentFriendToDeleteId:__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__.a.getCurrentFriendToDeleteId},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_8__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendId:__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__.a.getCurrentFriendId,friendAvatarUrl:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendSmallAvatar,friendName:__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__.a.getCurrentFriendName})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_27__queries_MetaProgressionProfileQueries__.a.getFriendProfileLoaded,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendLevel:__WEBPACK_IMPORTED_MODULE_27__queries_MetaProgressionProfileQueries__.a.getFriendLevel}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendLevel:0})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_12__stores_ConnectionsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_10__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.loadedFriendsProfiles(state)&&__WEBPACK_IMPORTED_MODULE_24__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_26__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_25__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isOnline:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getCurrentFriendIsOnline,isCurrentlyPlayingAGame:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getCurrentFriendIsCurrentlyPlayingAGame})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_24__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_26__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_25__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasGamesPlayed,hasOtherGamesPlayed:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasGamesPlayed,gameDate:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameDate,gameTitle:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameTitle,gameId:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameId,gameImageUrl:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameImageUrl,lastPlayedGameCoverUrl:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameCoverUrl,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getLastPlayedGameFilteredOwnedPlatfroms,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasOnlyOnePlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasOwnedPlatforms,otherGames:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getFriendGamesPlayed,currentLastPlayedGameId:__WEBPACK_IMPORTED_MODULE_7__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,hasOnlyOneGame:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasOnlyOneGame,onlyGamePlayed:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getOnlyGamePlayed,hasNoSessionData:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getHasNoSessionData})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_10__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_FriendsGamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_24__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_26__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_25__stores_GamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({nbFriendsPlaying:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getNbOfFriendsPlayingGame,loadedFriends:!0})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_10__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_FriendsGamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_24__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_26__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_25__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_GameStatsStore__.a.loadedFriendsStats(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({hasLastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.hasLastPlayedGameStats,lastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_6__queries_FriendProfileQueries__.a.getLastPlayedGameStatsWithRank,isLoadedGameStats:!0})))),__metadata("design:paramtypes",[])],FriendProfileController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__views_FriendsActivityFeedView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(826)),__WEBPACK_IMPORTED_MODULE_5_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_9_app_modules_swiper_services_Swiper__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_10_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(214),__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_14__services_FriendsActionsService__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_15__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_17__AddFriendsController__=__webpack_require__(813),__WEBPACK_IMPORTED_MODULE_18__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_19__FriendProfileController__=__webpack_require__(814),__WEBPACK_IMPORTED_MODULE_20__services_FriendProfileService__=__webpack_require__(316),__WEBPACK_IMPORTED_MODULE_21__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_22__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_23__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_25__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_26__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return FriendsActivityFeedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsActivityFeedController=function(_PureComponent){function FriendsActivityFeedController(){_classCallCheck(this,FriendsActivityFeedController);var _this=_possibleConstructorReturn(this,(FriendsActivityFeedController.__proto__||Object.getPrototypeOf(FriendsActivityFeedController)).apply(this,arguments));return _this.state={isSwipingRecentlyMet:!1,isSwipingFriendsGames:!1,nameToFilterBy:""},_this.scrollableRef=function(el){return _this._scrollableRef=el},_this.detailsScrollableRef=function(el){return _this._detailsScrollableRef=el},_this}return _inherits(FriendsActivityFeedController,_PureComponent),_createClass(FriendsActivityFeedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__views_FriendsActivityFeedView__.a,{swipeRef:this.setSwipeRef,show:this.props.show,isInMobileView:this.props.isInMobileView,isLoading:this.props.isLoading,friends:this.props.friends,clubUrl:this.props.clubUrl,locale:this.props.locale,onClickFriend:this.onClickFriend,showFriendView:!0,showNotifications:this.props.showNotifications,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,hasFriendsFound:this.props.hasFriendsFound,onChangeNameToFilterBy:this.onChangeNameToFilterBy,filterText:this.props.filterText,nameToFilterBy:this.state.nameToFilterBy,numberOfTotalFriends:this.props.numberOfTotalFriends,isLoadingFriendRequests:this.props.isLoadingFriendRequests,friendRequests:this.props.friendRequests||[],showLessFriendRequestsLink:!this.props.showMoreFriendRequests,showMoreFriendRequestsLink:this.props.showMoreFriendRequests,nbFriendRequests:this.props.nbFriendRequests,onClickToggleShowMoreFriendRequests:this.onClickToggleShowMoreFriendRequests,currentDeclineUserId:this.props.currentDeclineUserId,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickAddFriendButton:this.onClickAddFriendButton,showAddFriendTab:this.props.showAddFriendTab,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,scrollableRef:this.scrollableRef,showDetailsView:this.props.showDetailsView,showFriendsDetails:this.props.showFriendsDetails,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showFriendProfileContent:this.props.showFriendProfileContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,currentFriendId:this.props.currentFriendId,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,collapsedHeight:this.props.collapsedHeight,windowInnerHeight:this.props.windowInnerHeight,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight},this.props.showAddFriendTab?React.createElement(__WEBPACK_IMPORTED_MODULE_17__AddFriendsController__.a,{onSwipeRecentlyMet:this.onSwipeRecentlyMet,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):this.props.showFriendProfileContent?React.createElement(__WEBPACK_IMPORTED_MODULE_19__FriendProfileController__.a,{onSwipeFriendsGames:this.onSwipeFriendsGames,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):React.createElement("noscript",null))}},{key:"componentDidMount",value:function(){this.swiper=new __WEBPACK_IMPORTED_MODULE_9_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentDidUpdate",value:function(prevProps){return prevProps.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAddFriendTab===prevProps.showAddFriendTab&&this.props.showFriendProfileContent===prevProps.showFriendProfileContent||!this.props.isInMobileView&&!this.props.showMobileViewOnDesktop||!this._scrollableRef||this._scrollableRef.scrollToTop(),null}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"onClickFriend",value:function(friend,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__utils_scrollToTop__.a)(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context.next=4,this.props.friendProfileService.onClickFriendProfile(friend.userId,friend.username);case 4:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleSwipe",value:function(payload){if(!this.state.isSwipingRecentlyMet&&!this.state.isSwipingFriendsGames)return payload.swipeLeft?void this.props.communicationService.clickedOnMobilePlayerCardTab():payload.swipeRight?void this.props.communicationService.clickedOnMobileNotifications():void 0}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request"),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId,__WEBPACK_IMPORTED_MODULE_23__modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onChangeNameToFilterBy",value:function(event){this.setState({nameToFilterBy:event.target.value}),this.props.friendsCommunicationService.onChangeNameToFilterBy(event.target.value)}},{key:"onClickToggleShowMoreFriendRequests",value:function(toggle,event){this.props.friendsCommunicationService.onToggleShowMoreFriendRequests(toggle)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request : cancel"),this.props.friendsCommunicationService.onCancelDeclineRequest(userId,__WEBPACK_IMPORTED_MODULE_23__modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE)}},{key:"onClickConfirmDeclineRequest",value:function(userId,friendState,event){this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request : confirmed"),this.props.friendsActionsService.handleDeclineRequest(userId,friendState)}},{key:"onClickAddFriendButton",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__utils_scrollToTop__.a)(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),_context2.next=3,this.props.friendsCommunicationService.showAddFriendsTab();case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onSwipeRecentlyMet",value:function(isSwipingRecentlyMet){this.setState({isSwipingRecentlyMet:isSwipingRecentlyMet})}},{key:"onSwipeFriendsGames",value:function(isSwipingFriendsGames){this.setState({isSwipingFriendsGames:isSwipingFriendsGames})}},{key:"onClickCloseDetailsTabView",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.props.showAddFriendTab&&this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","close add friends popup"),this.props.showFriendProfileContent&&this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","close friend's profile popup"),this.props.analyticsService.trackPage("friends tab","manage friends"),_context3.next=5,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 5:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),(!this.props.showAddFriendTab&&!this.props.showFriendProfileContent||this.props.showMobileViewOnDesktop)&&this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate",value:function(value){this.props.commonActionsService.handleOnScrollUpdate(value,__WEBPACK_IMPORTED_MODULE_18__entities_OverviewTabDetails__.a.FRIEND_VIEW)}}]),FriendsActivityFeedController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);FriendsActivityFeedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_FriendsCommunicationService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_14__services_FriendsActionsService__.a,friendProfileService:__WEBPACK_IMPORTED_MODULE_20__services_FriendProfileService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_22__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_26__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({friends:[],clubUrl:__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,friendsToAdd:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsInMobileView,showNotifications:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,loadedOnlineFriends:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.D,loadedFriendsActivityFeed:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.E,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsDeclined,isCanceledState:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsCanceled,hasFriendsFound:!1,filterText:__WEBPACK_IMPORTED_MODULE_10_app_modules_locale_queries_CustomTranslateQueries__.a.getFilterTranslatedText,numberOfTotalFriends:0,isLoadingFriendRequests:!0,friendRequests:[],showMoreFriendRequests:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getShowAddFriendsTab,showDetailsView:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowDetailsView,showFriendsDetails:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowFriendsDetails,showFriendProfileContent:__WEBPACK_IMPORTED_MODULE_21__stores_FriendProfileStore__.a.getShowGameContent,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails,currentFriendId:__WEBPACK_IMPORTED_MODULE_21__stores_FriendProfileStore__.a.getCurrentFriendId,showNameHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,collapsedHeight:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getCollapsedHeight,windowInnerHeight:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getWindowInnerHeight,scrollbarNegativeMargin:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarNegativeMargin,height:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getScrollbarContainerHeightForFriendsView,maxHeight:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getScrollbarContainerMaxHeightForFriendsView,top:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getTopPositionForScrollbarContainer,scrollbarHeight:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getScrollbarHeightForFriendsView},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_5_app_selectors__.D,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_5_app_selectors__.E,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!1,friends:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.F,locale:__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.G,numberOfTotalFriends:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.H}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.I,locale:__WEBPACK_IMPORTED_MODULE_24__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_5_app_selectors__.J})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:[],hasFriendsFound:!1,clubUrl:__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_15__selectors__.K,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!1,friendRequests:__WEBPACK_IMPORTED_MODULE_15__selectors__.L,nbFriendRequests:__WEBPACK_IMPORTED_MODULE_15__selectors__.M}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!0,friendRequests:[],nbFriendRequests:0})))))),__metadata("design:paramtypes",[])],FriendsActivityFeedController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_4__services_FriendsActionsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_react__),__webpack_require__(136)),__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_7__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_8__services_AddFriendService__=__webpack_require__(312),__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_10__services_RecentlyMetService__=__webpack_require__(618),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_12__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_13__views_RecentlyMetView__=__webpack_require__(832),__WEBPACK_IMPORTED_MODULE_14__stores_RecentlyMetStore__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_15__queries_RecentlyMetQueries__=__webpack_require__(218),__WEBPACK_IMPORTED_MODULE_16__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_17__stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_18__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_19__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_20__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_21__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_22__queries_MetaProgressionProfileQueries__=__webpack_require__(310);__webpack_require__.d(exports,"a",function(){return RecentlyMetController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RecentlyMetController=function(_PureComponent){function RecentlyMetController(){return _classCallCheck(this,RecentlyMetController),_possibleConstructorReturn(this,(RecentlyMetController.__proto__||Object.getPrototypeOf(RecentlyMetController)).apply(this,arguments))}return _inherits(RecentlyMetController,_PureComponent),_createClass(RecentlyMetController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_13__views_RecentlyMetView__.a,{friends:this.props.friends,
onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,isLoaded:this.props.isLoaded,hasFriends:this.props.hasFriends,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,isStillLoading:this.props.isStillLoading})}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function(userId,e){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,friendState,e){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(userId,friendState)}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(userId)}}]),RecentlyMetController}(__WEBPACK_IMPORTED_MODULE_3__stejar_react__.PureComponent);RecentlyMetController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendsActionsService:__WEBPACK_IMPORTED_MODULE_4__services_FriendsActionsService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_FriendsCommunicationService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_7__modules_analytics_services_AnalyticsService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_8__services_AddFriendService__.a,recentlyMetService:__WEBPACK_IMPORTED_MODULE_10__services_RecentlyMetService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({clubUrl:__WEBPACK_IMPORTED_MODULE_12__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_18__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getShowAddFriendsTab,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getCurrentUserId,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsDeclined,isCanceledState:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsCanceled,isStillLoading:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsStillLoading},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_16__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_19__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_21__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_20__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_RecentlyMetStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_17__stores_UserProfilesStore__.a.loadedFriendsProfiles(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_22__queries_MetaProgressionProfileQueries__.a.getRecentlyMetProfilesLoaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoaded:!0,friends:__WEBPACK_IMPORTED_MODULE_15__queries_RecentlyMetQueries__.a.getMyRecentlyMetFriendsForCarousel,hasFriends:__WEBPACK_IMPORTED_MODULE_15__queries_RecentlyMetQueries__.a.getHasRecentlyMetFriends}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoaded:!1,friends:[],hasFriends:!1}))),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoaded:!1,friends:[],hasFriends:!1})))),__metadata("design:paramtypes",[])],RecentlyMetController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_4__stores_GameStatsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_react__),__webpack_require__(90)),__WEBPACK_IMPORTED_MODULE_5__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_6__stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_7__Stats_views_CompareGameStatsView__=__webpack_require__(852),__WEBPACK_IMPORTED_MODULE_8__services_FriendProfileService__=__webpack_require__(316),__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__=__webpack_require__(216),__WEBPACK_IMPORTED_MODULE_11__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_12__entities_OverviewTabDetails__=__webpack_require__(132),__WEBPACK_IMPORTED_MODULE_13__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_14__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_16__stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_17__modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_18__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_19__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_20__utils_scrollToTop__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_21__modules_integrator_communication_services_CommonActionsService__=__webpack_require__(49);__webpack_require__.d(exports,"a",function(){return SelectedFriendProfileStatsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedFriendProfileStatsController=function(_PureComponent){function SelectedFriendProfileStatsController(){return _classCallCheck(this,SelectedFriendProfileStatsController),_possibleConstructorReturn(this,(SelectedFriendProfileStatsController.__proto__||Object.getPrototypeOf(SelectedFriendProfileStatsController)).apply(this,arguments))}return _inherits(SelectedFriendProfileStatsController,_PureComponent),_createClass(SelectedFriendProfileStatsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_7__Stats_views_CompareGameStatsView__.a,{gameName:this.props.gameName,selectedFriendId:this.props.selectedFriendId,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,onClickGoBack:this.onClickGoBack,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,onClickClose:this.onClickClose,locale:this.props.locale,myAvatarUrl:this.props.myAvatarUrl,friendAvatarUrl:this.props.friendAvatarUrl,friendName:this.props.friendName})}},{key:"onChangePlatform",value:function(gameId,appId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.friendProfileService.onChangePlatform(gameId,appId,__WEBPACK_IMPORTED_MODULE_12__entities_OverviewTabDetails__.b.STATS_VIEW);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickGoBack",value:function(e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20__utils_scrollToTop__.a)(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.analyticsService.trackEvent("friends tab","friend panel : stats","global nav","interaction",this.props.gameName+" : game card : stats : go back to main panel"),this.props.analyticsService.trackPage("friends tab","friend panel"),this.props.friendProfileService.onToggleShowGameStats(!1)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 2:case"end":return _context2.stop()}},_callee2,this)}))}}]),SelectedFriendProfileStatsController}(__WEBPACK_IMPORTED_MODULE_3__stejar_react__.PureComponent);SelectedFriendProfileStatsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendProfileService:__WEBPACK_IMPORTED_MODULE_8__services_FriendProfileService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_13__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_19__modules_analytics_services_AnalyticsService__.a,commonActionsService:__WEBPACK_IMPORTED_MODULE_21__modules_integrator_communication_services_CommonActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({selectedFriendId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentFriendId,lastPlayedGameId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,friendName:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentFriendName,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,gameStatsToCompareWithAFriend:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_11__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_11__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_11__queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails,locale:__WEBPACK_IMPORTED_MODULE_14__modules_locale_queries_LocaleQueries__.a.getCurrentLocale},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_15__stores_UbisoftGamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_18__stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_16__stores_GamesPlayedStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_4__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_4__stores_GameStatsStore__.a.loadedFriendsStats(state)&&__WEBPACK_IMPORTED_MODULE_6__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_5__stores_FriendsGamesPlayedStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({gameName:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameTitle,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getLastPlayedGameFilteredOwnedPlatfroms,loadedLastPlayedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getHasGamesPlayed,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getHasOnlyOnePlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getHasOwnedPlatforms,gameStatsToCompareWithAFriend:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getGameStatsToCompareWithAFriend,myAvatarUrl:__WEBPACK_IMPORTED_MODULE_17__modules_avatars_queries_AvatarsQueries__.a.getMyAvatar,friendAvatarUrl:__WEBPACK_IMPORTED_MODULE_10__queries_FriendProfileQueries__.a.getFriendSmallAvatar})))),__metadata("design:paramtypes",[])],SelectedFriendProfileStatsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_4__views_SocialNetworksView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_react__),__webpack_require__(834)),__WEBPACK_IMPORTED_MODULE_5__services_FriendsActionsService__=__webpack_require__(136),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_8__modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_9__services_AddFriendService__=__webpack_require__(312),__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__=__webpack_require__(319),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__=__webpack_require__(612),__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_16__stores_XboxAccountsStore__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_17__stores_PsnAccountsStore__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_18__queries_XboxAccountsQueries__=__webpack_require__(614),__WEBPACK_IMPORTED_MODULE_19__queries_PsnAccountsQueries__=__webpack_require__(611),__WEBPACK_IMPORTED_MODULE_20__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_21__modules_locale_queries_LocaleQueries__=__webpack_require__(22);__webpack_require__.d(exports,"a",function(){return SocialNetworksController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SocialNetworksController=function(_PureComponent){function SocialNetworksController(){return _classCallCheck(this,SocialNetworksController),_possibleConstructorReturn(this,(SocialNetworksController.__proto__||Object.getPrototypeOf(SocialNetworksController)).apply(this,arguments))}return _inherits(SocialNetworksController,_PureComponent),_createClass(SocialNetworksController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4__views_SocialNetworksView__.a,{activeTab:this.props.activeTab,clubUrl:this.props.clubUrl,locale:this.props.locale,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,showMoreLinkPsn:this.props.showMoreLinkPsn,showMoreLinkXbox:this.props.showMoreLinkXbox,showLessLinkPsn:!this.props.showMoreLinkPsn,showLessLinkXbox:!this.props.showMoreLinkXbox,isLinkedWithPsn:this.props.isLinkedWithPsn,isLinkedWithXbox:this.props.isLinkedWithXbox,isLoadinPsn:this.props.isLoadinPsn,isLoadinXbox:this.props.isLoadinXbox,isAuthExpiredOnPsn:this.props.isAuthExpiredOnPsn,isAuthExpiredOnXbox:this.props.isAuthExpiredOnXbox,isReloadFailedPsn:this.props.isReloadFailedPsn,isReloadFailedXbox:this.props.isReloadFailedXbox,hasFriendsOnPsn:this.props.hasFriendsOnPsn,hasFriendsOnXbox:this.props.hasFriendsOnXbox,friendsOnPsn:this.props.friendsOnPsn||[],friendsOnXbox:this.props.friendsOnXbox||[],nbFriendOnPsn:this.props.nbFriendOnPsn,nbFriendOnXbox:this.props.nbFriendOnXbox,onClickToggleShowMorenPsn:this.onClickToggleShowMorenPsn,onClickToggleShowMoreOnXbox:this.onClickToggleShowMoreOnXbox,onClickDeclineRequest:this.onClickDeclineRequest,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickLinkPsn:this.onClickLinkPsn,onClickLinkXbox:this.onClickLinkXbox,onClickInviteRequest:this.onClickInviteRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickChangeTab:this.onClickChangeTab,isRightAfterLoad:this.props.isRightAfterLoad,isStillLoading:this.props.isStillLoading,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState})}},{key:"onClickToggleShowMorenPsn",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenPsn(toggle)}},{key:"onClickToggleShowMoreOnXbox",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenXbox(toggle)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function(userId,e){this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,friendState,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(userId,friendState)}},{key:"onClickLinkPsn",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkPsn()}},{key:"onClickLinkXbox",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkXbox()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onClickChangeTab",value:function(tab,e){this.props.socialNetworkService.onChangeTab(tab)}}]),SocialNetworksController}(__WEBPACK_IMPORTED_MODULE_3__stejar_react__.PureComponent);SocialNetworksController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendsActionsService:__WEBPACK_IMPORTED_MODULE_5__services_FriendsActionsService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_FriendsCommunicationService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_CommunicationService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_8__modules_analytics_services_AnalyticsService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_9__services_AddFriendService__.a,socialNetworkService:__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({activeTab:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getSelectedTab,clubUrl:__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_21__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getCurrentUserId,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,showMoreLinkPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,showMoreLinkXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getShowAddFriendsTab,isLoadinPsn:__WEBPACK_IMPORTED_MODULE_17__stores_PsnAccountsStore__.a.getIsLoading,isLoadinXbox:__WEBPACK_IMPORTED_MODULE_16__stores_XboxAccountsStore__.a.getIsLoading,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_20__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,isStillLoading:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getIsDeclined,isCanceledState:__WEBPACK_IMPORTED_MODULE_15__stores_FriendsActionsStore__.a.getIsCanceled},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLinkedWithPsn:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn,isLinkedWithXbox:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_16__stores_XboxAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:!1,isReloadFailedXbox:!1,hasFriendsOnXbox:!1,friendsOnXbox:[],nbFriendOnXbox:0}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,hasFriendsOnXbox:__WEBPACK_IMPORTED_MODULE_18__queries_XboxAccountsQueries__.a.getHasUplayFriendsWhoAreOnXbox,friendsOnXbox:__WEBPACK_IMPORTED_MODULE_18__queries_XboxAccountsQueries__.a.getUplayFriendsWhoAreOnXboxToShow,nbFriendOnXbox:__WEBPACK_IMPORTED_MODULE_18__queries_XboxAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnXbox})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_17__stores_PsnAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:!1,isReloadFailedPsn:!1,hasFriendsOnPsn:!1,friendsOnPsn:[],nbFriendOnPsn:0}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,hasFriendsOnPsn:__WEBPACK_IMPORTED_MODULE_19__queries_PsnAccountsQueries__.a.getHasUplayFriendsWhoAreOnPsn,friendsOnPsn:__WEBPACK_IMPORTED_MODULE_19__queries_PsnAccountsQueries__.a.getUplayFriendsWhoAreOnPsnToShow,nbFriendOnPsn:__WEBPACK_IMPORTED_MODULE_19__queries_PsnAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnPsn}))),{isLinkedWithPsn:!1,isLinkedWithXbox:!1}))),__metadata("design:paramtypes",[])],SocialNetworksController)},function(module,exports,__webpack_require__){"use strict";function AddFriendTabView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_2_classnames___default()("add-friend-tab-view",{hide:!props.show})},props.isInMobileView||props.showMobileViewOnDesktop?React.createElement("div",{className:"add-friend-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Add Friends"))):null,React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_3__AddFriendView__.a,{
loadedFriendView:props.loadedFriendView,isLoadingSearchFriend:props.isLoadingSearchFriend,hasFoundProfilesByName:props.hasFoundProfilesByName,showNotFoundFriend:props.showNotFoundFriend,friendsToAdd:props.friendsToAdd,userSearchRef:props.userSearchRef,onClickUserSearchInput:props.onClickUserSearchInput,userNameToSearchBy:props.userNameToSearchBy,enterFullPlayerNameText:props.enterFullPlayerNameText,friendsToAddState:props.friendsToAddState,onClickInviteRequest:props.onClickInviteRequest,onClickFriendRequest:props.onClickFriendRequest,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,currentFriendInvitationId:props.currentFriendInvitationId,isStillLoading:props.isStillLoading,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,hasApiError:props.hasApiError})),props.children)}var __WEBPACK_IMPORTED_MODULE_0__GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_classnames__),__WEBPACK_IMPORTED_MODULE_3__AddFriendView__=__webpack_require__(820);exports.a=AddFriendTabView},function(module,exports,__webpack_require__){"use strict";function AddFriendView(props){return React.createElement("article",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("addFriendForm in-back",{"in":!props.loadedFriendView,error:!props.hasFoundProfilesByName&&props.showNotFoundFriend||props.hasApiError})},React.createElement("h2",null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Add friends")),React.createElement("h3",null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Search")),React.createElement("div",{className:"fieldset"},React.createElement("div",{onClick:props.onClickUserSearchInput.bind(null),className:"link-start-search"}),React.createElement("input",{ref:props.userSearchRef,type:"text",placeholder:props.enterFullPlayerNameText}),React.createElement("span",{className:"info"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Usernames are case-sensitive"))),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("load-element",{"in":props.isLoadingSearchFriend})},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__.a,{loaded:!props.isLoadingSearchFriend}),!props.hasFoundProfilesByName&&props.showNotFoundFriend||props.hasApiError?[!props.hasFoundProfilesByName&&props.showNotFoundFriend?React.createElement("div",{className:"playerNotFound",key:"0"},React.createElement("div",{className:"info"},React.createElement("i",{className:" crossIcon"}),React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{userName:React.createElement("b",null,props.userNameToSearchBy)},"We can't find anyone called %(userName).")),React.createElement("div",{className:"enter-again"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Verify the name and enter it again. Remember, usernames are case-sensitive."))):null,props.hasApiError?React.createElement("div",{className:"playerNotFound",key:"1"},React.createElement("div",{className:"info"},React.createElement("i",{className:" crossIcon"}),React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"An error has occurred, please try again later."))):null]:null,props.isLoadingSearchFriend||props.hasApiError||!props.hasFoundProfilesByName?null:props.friendsToAdd.map(function(friend){return React.createElement(__WEBPACK_IMPORTED_MODULE_1__AddFriendEntityView__.a,{key:friend.pid,pid:friend.pid,userName:friend.userName,userAvatarUrl:friend.userAvatarUrl,hasPsnProfile:friend.hasPsnProfile,psnName:friend.psnName,hasXboxProfile:friend.hasXboxProfile,xboxName:friend.xboxName,friendState:friend.friendState,invitationRequestDate:friend.invitationRequestDate,onClickInviteRequest:props.onClickInviteRequest,onClickFriend:props.onClickFriendRequest,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,currentFriendInvitationId:props.currentFriendInvitationId,currentDeclineUserId:props.currentDeclineUserId,isStillLoading:props.isStillLoading,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,userLevel:friend.level})})))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__AddFriendEntityView__=__webpack_require__(301),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=AddFriendView},function(module,exports,__webpack_require__){"use strict";function FilterFriendsView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("filter-friend-container")},React.createElement("div",{className:"filter-input-container"},React.createElement("input",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("filter-friend-text"),type:"text",value:props.nameToFilterBy,onChange:props.onChangeNameToFilterBy,placeholder:props.filterText}),React.createElement("button",{className:"filter-friend-search"})),!props.hasFriendsFound&&props.nameToFilterBy?React.createElement("div",{className:"filter-friend-error"},React.createElement("div",{className:"filter-friend-gray"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nameToSearch:React.createElement("span",{className:"text-white"},props.nameToFilterBy)},"You don't have any friend named %(nameToSearch) in your list.")),React.createElement("br",null),React.createElement("span",{className:"text-bold"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,'To add a new friend, click on the "Add a friend" button above.'))):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7);exports.a=FilterFriendsView},function(module,exports,__webpack_require__){"use strict";function FriendActivityContentView(props){return React.createElement("div",null,React.createElement("div",{className:"column username"},React.createElement("div",{className:"row_avatar"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__Avatar_views_AvatarView__.a,{avatarUrl:props.friend.avatarUrl}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__OnlineStatusView__.a,{isOnline:props.friend.isOnline,isCurrentlyPlayingAGame:props.friend.isCurrentlyPlayingAGame})),React.createElement("div",{className:"row_username"},React.createElement("div",{className:"name"},props.friend.username),React.createElement(__WEBPACK_IMPORTED_MODULE_1__OnlineStatusView__.a,{isOnline:props.friend.isOnline,isCurrentlyPlayingAGame:props.friend.isCurrentlyPlayingAGame}))))}var __WEBPACK_IMPORTED_MODULE_0__Avatar_views_AvatarView__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_1__OnlineStatusView__=__webpack_require__(590);exports.a=FriendActivityContentView},function(module,exports,__webpack_require__){"use strict";function FriendActivityView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("row",{selected:props.friend.userId==props.currentFriendId}),onClick:props.onClickFriend.bind(null,props.friend)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__FriendActivityContentView__.a,{friend:props.friend,clubUrl:props.clubUrl,locale:props.locale}))}var __WEBPACK_IMPORTED_MODULE_0__FriendActivityContentView__=__webpack_require__(822),__WEBPACK_IMPORTED_MODULE_1_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);exports.a=FriendActivityView},function(module,exports,__webpack_require__){"use strict";function FriendProfileView(props){return React.createElement("div",{className:"friend-profile-view"},props.showNameHeaderOnFriendsDetails?React.createElement("div",{className:"friend-profile-header"},React.createElement("div",{className:"name-title"},props.friendName),React.createElement("i",{onClick:props.onClickClose.bind(null),className:"icon-close closeIcon"})):null,!props.isInMobileView&&!props.showMobileViewOnDesktop||props.isShownGameStats?null:React.createElement("div",{className:"friends-list-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_7__GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),React.createElement("div",{className:"sectionTitle"},"Friends list")),props.isShownGameStats?null:[React.createElement("div",{className:"contentBlock",key:"0"},React.createElement("div",{className:"friend-profile-info"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__Avatar_views_AvatarView__.a,{avatarUrl:props.friendAvatarUrl}),React.createElement("div",{className:"friend-profile-text"},React.createElement("div",{className:"friend-profile-username"},props.friendName),React.createElement("div",{className:"friend-profile-level"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{level:props.friendLevel},"Level %(level)")))),props.currentFriendToDeleteId!==props.friendId?React.createElement("div",{className:"friend-profile-actions"},React.createElement(__WEBPACK_IMPORTED_MODULE_9__modules_analytics_components_TrackClick__.a,{element:"a",className:"btn primary bold",href:props.clubUrl+"/"+props.locale+"/profile/"+props.friendName,onClick:props.onClickView.bind(null,props.clubUrl,props.locale,props.friendName),aaSiteSubSection:"friends tab",aaPageName:"friend panel",aaLocation:"global nav",aaCategory:"action",aaAction:"go to connect friend's profile page"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"View Profile")),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_4_classnames___default()("btn secondary bold"),onClick:props.onClickRemove.bind(null,props.friendId)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Remove from friends list"))):null,props.currentFriendToDeleteId===props.friendId?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_4_classnames___default()("friend-profile-actions remove in-back load-element",{"in":props.isDeclinedState})},React.createElement(__WEBPACK_IMPORTED_MODULE_8__Overlay_views_LoaderView__.a,{loaded:!props.isDeclinedState}),React.createElement("div",{className:"profile-action-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Remove this player from friends list?")),React.createElement("div",{className:"btn secondary bold",onClick:props.onClickConfirmRemove.bind(null,props.friendId,__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__.a.FRIENDS)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Yes")),React.createElement("div",{className:"btn primary bold",onClick:props.onClickCancelRemove.bind(null,props.friendId)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"No"))):null),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_4_classnames___default()("contentBlock no-boreder-botttom in-back load-element",{"in":!props.loadedLastPlayedGame}),key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_8__Overlay_views_LoaderView__.a,{loaded:props.loadedLastPlayedGame}),React.createElement("div",{className:"friend-profile-lpg"},React.createElement(__WEBPACK_IMPORTED_MODULE_6__OnlineStatusView__.a,{isOnline:props.isOnline,isCurrentlyPlayingAGame:props.isCurrentlyPlayingAGame}),!props.loadedGame||props.hasOtherGamesPlayed?React.createElement(__WEBPACK_IMPORTED_MODULE_2__Games_views_GameView__.a,{gameDate:props.gameDate,gameTitle:props.gameTitle,gameId:props.gameId,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,hasOnlyOnePlatform:props.hasOnlyOnePlatform,onChangePlatform:props.onChangePlatform,loadedGame:props.loadedGame,hasOwnedPlatforms:props.hasOwnedPlatforms,loadedFriends:props.loadedFriends,friendsPlaying:props.friendsPlaying,gameImageUrl:props.gameImageUrl,isFriendGame:!0,lastPlayedGameCoverUrl:props.lastPlayedGameCoverUrl,nbFriendsPlaying:props.nbFriendsPlaying,isInMobileView:props.isInMobileView||props.showMobileViewOnDesktop,hasNoSessionData:props.hasNoSessionData}):null),props.loadedGame&&props.hasOtherGamesPlayed?null:React.createElement("div",{className:"selected-game-bottom-view"},React.createElement("div",{className:"user-game-stats-view"},React.createElement("ul",{className:"currently-playing_content_stats"},React.createElement("div",{className:"selected-game-stats-title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"This friend has no Ubisoft games yet.")),React.createElement("li",{className:"noStats"},React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"That's too bad. How are you going to find out who's better than who?")))))),!props.loadedGame||props.hasOtherGamesPlayed?React.createElement("div",{className:"selected-game-bottom-view"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Stats_views_LastPlayedGameStatsView__.a,{isLoadedGameStats:props.isLoadedGameStats,hasLastPlayedGameStats:props.hasLastPlayedGameStats,lastPlayedGameStats:props.lastPlayedGameStats,statsCDNUrl:props.statsCDNUrl,clubUrl:props.clubUrl,locale:props.locale,onClickGameStats:props.onClickGameStats,showTitle:!0,showLink:!0,isFriendGame:!0})):null,props.isInMobileView||props.showMobileViewOnDesktop?null:React.createElement("div",{className:"carousel-desktop"},React.createElement(__WEBPACK_IMPORTED_MODULE_5__Games_views_OtherGamesCarouselView__.a,{otherGames:props.otherGames,hasOtherGamesPlayed:props.hasOtherGamesPlayed,loadedLastPlayedGame:props.loadedLastPlayedGame,onClickGameImage:props.onClickGameImage,currentLastPlayedGameId:props.currentLastPlayedGameId,nbSlidesPerView:5,carouselClassName:props.friendId,hasOnlyOneGame:props.hasOnlyOneGame,gamePlayed:props.onlyGamePlayed,hasOnlyOnePlatform:!0,selectedPlatformCode:null,platformsForSelect:[],hasOwnedPlatforms:!1,onChangePlatform:function(){},isFriendView:!0,hideNavigationAndPagination:!!props.otherGames&&props.otherGames.length<=5,onSlidePrev:props.onSlidePrev,onSlideNext:props.onSlideNext,onSlideToFirst:props.onSlideToFirst,onSlideToLast:props.onSlideToLast,hasNoSessionData:props.hasNoSessionData,onSwipeOtherGames:props.onSwipeOtherGames})),props.isInMobileView||props.showMobileViewOnDesktop?React.createElement(__WEBPACK_IMPORTED_MODULE_5__Games_views_OtherGamesCarouselView__.a,{otherGames:props.otherGames,hasOtherGamesPlayed:props.hasOtherGamesPlayed,loadedLastPlayedGame:props.loadedLastPlayedGame,onClickGameImage:props.onClickGameImage,currentLastPlayedGameId:props.currentLastPlayedGameId,nbSlidesPerView:3,carouselClassName:props.friendId,hasOnlyOneGame:props.hasOnlyOneGame,gamePlayed:props.onlyGamePlayed,hasOnlyOnePlatform:!0,selectedPlatformCode:null,platformsForSelect:[],hasOwnedPlatforms:!1,onChangePlatform:function(){},isFriendView:!0,hideNavigationAndPagination:!!props.otherGames&&props.otherGames.length<=3,onSlidePrev:props.onSlidePrev,onSlideNext:props.onSlideNext,onSlideToFirst:props.onSlideToFirst,onSlideToLast:props.onSlideToLast,hasNoSessionData:props.hasNoSessionData,onSwipeOtherGames:props.onSwipeOtherGames}):null)],props.isShownGameStats?props.children:null)}var __WEBPACK_IMPORTED_MODULE_0__Avatar_views_AvatarView__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Games_views_GameView__=__webpack_require__(592),__WEBPACK_IMPORTED_MODULE_3__Stats_views_LastPlayedGameStatsView__=__webpack_require__(302),__WEBPACK_IMPORTED_MODULE_4_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_4_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_classnames__),__WEBPACK_IMPORTED_MODULE_5__Games_views_OtherGamesCarouselView__=__webpack_require__(593),__WEBPACK_IMPORTED_MODULE_6__OnlineStatusView__=__webpack_require__(590),__WEBPACK_IMPORTED_MODULE_7__GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_8__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_9__modules_analytics_components_TrackClick__=__webpack_require__(212),__WEBPACK_IMPORTED_MODULE_10__modules_serviceApis_entities_Friend__=__webpack_require__(46);exports.a=FriendProfileView},function(module,exports,__webpack_require__){"use strict";function FriendsActivityFeedContentView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("content",{noFriends:!props.isLoading&&0===props.friends.length})},!props.showAddFriendTab&&!props.showFriendProfileContent||!props.isInMobileView&&!props.showMobileViewOnDesktop?[React.createElement(__WEBPACK_IMPORTED_MODULE_1__FriendsRequestsSectionView__.a,{isLoadingFriendRequests:props.isLoadingFriendRequests,nbFriendRequests:props.nbFriendRequests,friendRequests:props.friendRequests,clubUrl:props.clubUrl,locale:props.locale,currentFriendInvitationId:props.currentFriendInvitationId,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickFriendRequest:props.onClickFriendRequest,showMoreFriendRequestsLink:props.showMoreFriendRequestsLink,onClickToggleShowMoreFriendRequests:props.onClickToggleShowMoreFriendRequests,showLessFriendRequestsLink:props.showLessFriendRequestsLink,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,showAddFriendTab:props.showAddFriendTab,isStillLoading:props.isStillLoading,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,isInMobileView:props.isInMobileView,key:"0"}),props.showFriendView?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("border-bottom-container",{hide:props.showAddFriendTab&&props.isInMobileView,"no-border":props.numberOfTotalFriends<=0}),key:"1"},React.createElement("div",{className:"add-friend-button-container"},React.createElement("div",{className:"btn primary",onClick:props.onClickAddFriendButton},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"Add friends")))):null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__FriendsListSectionView__.a,{numberOfTotalFriends:props.numberOfTotalFriends,friends:props.friends,onChangeNameToFilterBy:props.onChangeNameToFilterBy,hasFriendsFound:props.hasFriendsFound,filterText:props.filterText,nameToFilterBy:props.nameToFilterBy,clubUrl:props.clubUrl,locale:props.locale,onClickFriend:props.onClickFriend,isLoading:props.isLoading,showAddFriendTab:props.showAddFriendTab,isInMobileView:props.isInMobileView,currentFriendId:props.currentFriendId,key:"2"})]:null,props.isInMobileView||props.showMobileViewOnDesktop?props.children:null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__FriendsRequestsSectionView__=__webpack_require__(829),__WEBPACK_IMPORTED_MODULE_2__FriendsListSectionView__=__webpack_require__(827),__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__=__webpack_require__(7);exports.a=FriendsActivityFeedContentView},function(module,exports,__webpack_require__){"use strict";function FriendsActivityFeedView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_friends-panel-container panel-container expanding-details",{visible:props.show,hideInverse:props.showNotifications}),style:{height:props.height,maxHeight:props.maxHeight,top:props.top}},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_friends-panel",{"is-in-mobile":props.isInMobileView}),ref:props.swipeRef},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_ScrollbarsView__.a,{scrollbarHeight:props.scrollbarHeight,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:props.scrollableRef,scrollbarWidth:props.scrollbarWidth,scrollbarNegativeMargin:props.scrollbarNegativeMargin},React.createElement(__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeedContentView__.a,{isInMobileView:props.isInMobileView,friends:props.friends,isLoading:props.isLoading,onClickFriend:props.onClickFriend,clubUrl:props.clubUrl,locale:props.locale,showFriendView:props.showFriendView,onClickFriendRequest:props.onClickFriendRequest,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,currentFriendInvitationId:props.currentFriendInvitationId,isStillLoading:props.isStillLoading,onChangeNameToFilterBy:props.onChangeNameToFilterBy,hasFriendsFound:props.hasFriendsFound,filterText:props.filterText,nameToFilterBy:props.nameToFilterBy,numberOfTotalFriends:props.numberOfTotalFriends,friendRequests:props.friendRequests,isLoadingFriendRequests:props.isLoadingFriendRequests,showMoreFriendRequestsLink:props.showMoreFriendRequestsLink,showLessFriendRequestsLink:props.showLessFriendRequestsLink,nbFriendRequests:props.nbFriendRequests,onClickToggleShowMoreFriendRequests:props.onClickToggleShowMoreFriendRequests,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,onClickAddFriendButton:props.onClickAddFriendButton,showAddFriendTab:props.showAddFriendTab,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,showFriendProfileContent:props.showFriendProfileContent,showMobileViewOnDesktop:props.showMobileViewOnDesktop,currentFriendId:props.currentFriendId},props.children))),React.createElement(__WEBPACK_IMPORTED_MODULE_2__FriendsTabDetailsView__.a,{isInMobileView:props.isInMobileView,show:props.showFriendsDetails,showDetailsView:props.showDetailsView,onClickCloseDetailsTabView:props.onClickCloseDetailsTabView,showMobileViewOnDesktop:props.showMobileViewOnDesktop,scrollableRef:props.detailsScrollableRef,scrollbarWidth:props.scrollbarWidth,handleOnClickMenu:props.handleOnClickMenu,handleOnScrollUpdate:props.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:props.showStatsHeaderOnFriendsDetails,showNameHeaderOnFriendsDetails:props.showNameHeaderOnFriendsDetails,scrollbarNegativeMargin:props.scrollbarNegativeMargin,height:props.height,maxHeight:props.maxHeight},props.children))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__FriendsActivityFeedContentView__=__webpack_require__(825),__WEBPACK_IMPORTED_MODULE_2__FriendsTabDetailsView__=__webpack_require__(830),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_ScrollbarsView__=__webpack_require__(208);exports.a=FriendsActivityFeedView},function(module,exports,__webpack_require__){"use strict";function FriendsListSectionView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("border-bottom-container no-border",{hide:props.showAddFriendTab&&props.isInMobileView})},React.createElement("div",{className:"friends-filter-container"},React.createElement("h2",{className:"listTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Friend List")),!props.isLoading&&props.numberOfTotalFriends>0?React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__FilterFriendsView__.a,{onChangeNameToFilterBy:props.onChangeNameToFilterBy,hasFriendsFound:props.hasFriendsFound,filterText:props.filterText,nameToFilterBy:props.nameToFilterBy}),props.friends.map(function(friend){return React.createElement(__WEBPACK_IMPORTED_MODULE_3__FriendActivityView__.a,{key:friend.userId,friend:friend,clubUrl:props.clubUrl,locale:props.locale,onClickFriend:props.onClickFriend,currentFriendId:props.currentFriendId})})):null),props.isLoading||0!==props.numberOfTotalFriends?null:React.createElement("div",{className:"no-friends-container"},React.createElement("p",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You don't have any friends yet.")),React.createElement("p",null,React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,'Click on the "Add a friend" button to find people you know, and browse suggestions.')))),props.isLoading?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("in-back load-element",{"in":props.isLoading})},React.createElement("div",{className:"row"}),React.createElement("div",{className:"row"}),React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:!props.isLoading})):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__FilterFriendsView__=__webpack_require__(821),__WEBPACK_IMPORTED_MODULE_3__FriendActivityView__=__webpack_require__(823),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=FriendsListSectionView},function(module,exports,__webpack_require__){"use strict";function FriendsNotificationView(props){return React.createElement("ul",{className:"menu_container_content_notification"},props.isInDesktopResize?null:[props.isOnArabLocale?null:[React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("notifPanel notif",{active:props.showNotifications}),key:"0-0"},React.createElement("a",{onClick:props.handleNotificationsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",null)),props.loadedNotifications&&props.nbNotifications>0?React.createElement("div",{className:"num"},props.nbNotifications):null)),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("notif-friends notif",{active:props.showFriends}),key:"0-1"},React.createElement("a",{onClick:props.handleFriendsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",null)),props.loaded&&props.nbFriends>0?React.createElement("div",{className:"num"},props.nbFriends):null))],props.isOnArabLocale?[React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("notif-friends notif",{active:props.showFriends}),key:"1-0"},React.createElement("a",{onClick:props.handleFriendsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",null)),props.loaded&&props.nbFriends>0?React.createElement("div",{className:"num"},props.nbFriends):null)),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("notifPanel notif",{active:props.showNotifications}),key:"1-1"},React.createElement("a",{onClick:props.handleNotificationsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",null)),props.loadedNotifications&&props.nbNotifications>0?React.createElement("div",{className:"num"},props.nbNotifications):null))]:null],props.children)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=FriendsNotificationView},function(module,exports,__webpack_require__){"use strict";function FriendsRequestsSectionView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("border-bottom-container",{hide:props.showAddFriendTab&&props.isInMobileView,"no-border":props.nbFriendRequests<=0})},!props.isLoadingFriendRequests&&props.nbFriendRequests>0?React.createElement("div",null,React.createElement("h2",{className:"listTitle requestTitle"},props.nbFriendRequests<1?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nbOfFriendsRequest:props.nbFriendRequests},"%(nbOfFriendsRequest) friends requests"):null,1==props.nbFriendRequests?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nbOfFriendsRequest:props.nbFriendRequests},"%(nbOfFriendsRequest) friend request"):null,props.nbFriendRequests>1?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nbOfFriendsRequest:props.nbFriendRequests},"%(nbOfFriendsRequest) friends requests"):null),props.friendRequests.map(function(friend){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__NotificationsPanel_views_FriendRequestNotificationView__.a,{key:friend.userId,clubUrl:props.clubUrl,userId:friend.userId,userAvatarUrl:friend.userAvatarUrl,userName:friend.userAvatarName,invitationRequestDate:friend.invitationRequestDate,localisation:props.locale,friendState:friend.friendState,isLatestNotification:friend.isLatestNotification,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickFriend:props.onClickFriendRequest,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,isStillLoading:props.isStillLoading,isRightAfterLoad:props.isRightAfterLoad,currentFriendInvitationId:props.currentFriendInvitationId,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,userLevel:friend.userLevel})}),React.createElement(__WEBPACK_IMPORTED_MODULE_3__ShowListLinkView__.a,{showMoreLink:props.showMoreFriendRequestsLink,nbFriend:props.nbFriendRequests,onClickToggleShowMore:props.onClickToggleShowMoreFriendRequests,showLessLink:props.showLessFriendRequestsLink})):null,props.isLoadingFriendRequests?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("in-back load-element",{"in":props.isLoadingFriendRequests})},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:!props.isLoadingFriendRequests})):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__NotificationsPanel_views_FriendRequestNotificationView__=__webpack_require__(845),__WEBPACK_IMPORTED_MODULE_3__ShowListLinkView__=__webpack_require__(591),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=__webpack_require__(38);
exports.a=FriendsRequestsSectionView},function(module,exports,__webpack_require__){"use strict";function FriendsTabDetailsView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__Overlay_views_TabDetailsView__.a,{isInMobileView:props.isInMobileView,show:props.show,showDetailsView:props.showDetailsView,className:"friends-tab-details",onClickClose:props.onClickCloseDetailsTabView,hasAvatarComponent:!1,showMobileViewOnDesktop:props.showMobileViewOnDesktop,scrollableRef:props.scrollableRef,handleOnClickMenu:props.handleOnClickMenu,scrollbarWidth:props.scrollbarWidth,handleOnScrollUpdate:props.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:props.showStatsHeaderOnFriendsDetails,showStatsHeaderOnPlayerCardDetails:!1,showNameHeaderOnFriendsDetails:props.showNameHeaderOnFriendsDetails,scrollbarNegativeMargin:props.scrollbarNegativeMargin,height:props.height,maxHeight:props.maxHeight},props.children)}var __WEBPACK_IMPORTED_MODULE_0__Overlay_views_TabDetailsView__=__webpack_require__(596);exports.a=FriendsTabDetailsView},function(module,exports,__webpack_require__){"use strict";function OtherUserNamesRowView(props){return React.createElement("div",{className:"row_aka"},props.hasPsnProfile?React.createElement("div",{className:"row_aka_title"},React.createElement("div",{className:"ico psn-img"}),React.createElement("span",{className:"label"},props.psnName)):null,props.hasXboxProfile?React.createElement("div",{className:"row_aka_title"},React.createElement("div",{className:"ico xbox-img"}),React.createElement("span",{className:"label"},props.xboxName)):null)}exports.a=OtherUserNamesRowView},function(module,exports,__webpack_require__){"use strict";function RecentlyMetView(props){return React.createElement("div",{className:"border-bottom-container recently-met"},React.createElement("h2",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("listTitle",{"no-bottom-border":!props.hasFriends})},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Recently met")),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("recently-met-content in-back load-element",{"in":!props.isLoaded})},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__.a,{loaded:props.isLoaded}),props.hasFriends?React.createElement("div",{className:"recently-met-container"},props.friends.map(function(friend){return React.createElement("div",{className:"recently-met-content",key:friend.pid},React.createElement(__WEBPACK_IMPORTED_MODULE_2__AddFriendEntityView__.a,{key:friend.pid,pid:friend.pid,userName:friend.userName,userAvatarUrl:friend.userAvatarUrl,hasPsnProfile:friend.hasPsnProfile,psnName:friend.psnName,hasXboxProfile:friend.hasXboxProfile,xboxName:friend.xboxName,friendState:friend.friendState,invitationRequestDate:friend.invitationRequestDate,currentGameTitle:friend.currentGameTitle,onClickInviteRequest:props.onClickInviteRequest,onClickFriend:props.onClickFriendRequest,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,currentFriendInvitationId:props.currentFriendInvitationId,currentDeclineUserId:props.currentDeclineUserId,isStillLoading:props.isStillLoading,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,userLevel:friend.userLevel}))})):null,props.hasFriends?null:React.createElement("div",{className:"no-recently-met-container"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Here you can find all the players you've met in game. Play more Ubisoft games with online features to find suggestions."))))}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__),__WEBPACK_IMPORTED_MODULE_2__AddFriendEntityView__=__webpack_require__(301),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=RecentlyMetView},function(module,exports,__webpack_require__){"use strict";function SocialNetworkTabView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_3_classnames___default()("social-network-tab in-back load-element",{"in":props.isLoadin})},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:!props.isLoadin}),props.isLinked?null:React.createElement("div",{className:"social-network-content not-linked"},React.createElement("div",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{platform:props.platform},"Link your account to find players among your %(platform) friends.")),React.createElement("div",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"No information will be published or shared.")),React.createElement("div",{className:"btn-container"},React.createElement("button",{className:"btn primary latPadding",onClick:props.onClickLinkAccount.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{platform:props.platform},"Link with %(platform)")))),props.isLinked&&props.isAuthExpired?React.createElement("div",{className:"social-network-content not-linked"},React.createElement("div",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Re-authenticate to check your friends")),React.createElement("div",{className:"btn-container"},React.createElement("button",{className:"btn primary latPadding",onClick:props.onClickLinkAccount.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{platform:props.platform},"Link with %(platform)")))):null,props.isLinked&&!props.isAuthExpired&&props.isReloadFailed?React.createElement("div",{className:"social-network-content not-linked"},React.createElement("div",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"An error has occurred, please try again later."))):null,!props.isLinked||props.isAuthExpired||props.isReloadFailed||props.hasFriends?null:React.createElement("div",{className:"social-network-content linked-with-no-friends"},React.createElement("div",{className:"text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,{platform:props.platform},"None of your %(platform) friends have a Ubisoft account yet."))),props.isLinked&&!props.isAuthExpired&&!props.isReloadFailed&&props.hasFriends?React.createElement("div",{className:"social-network-content linked-with-friends"},props.friends.map(function(friend){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__AddFriendEntityView__.a,{key:friend.pid,pid:friend.pid,userName:friend.userName,userAvatarUrl:friend.userAvatarUrl,hasPsnProfile:friend.hasPsnProfile,psnName:friend.psnName,hasXboxProfile:friend.hasXboxProfile,xboxName:friend.xboxName,friendState:friend.friendState,invitationRequestDate:friend.invitationRequestDate,onClickInviteRequest:props.onClickInviteRequest,onClickFriend:props.onClickFriendRequest,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,currentFriendInvitationId:props.currentFriendInvitationId,currentDeclineUserId:props.currentDeclineUserId,isStillLoading:props.isStillLoading,isRightAfterLoad:props.isRightAfterLoad,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState,userLevel:friend.userLevel})}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__ShowListLinkView__.a,{showMoreLink:props.showMoreLink,nbFriend:props.nbFriend,onClickToggleShowMore:props.onClickToggleShowMore,showLessLink:props.showLessLink})):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1__ShowListLinkView__=__webpack_require__(591),__WEBPACK_IMPORTED_MODULE_2__AddFriendEntityView__=__webpack_require__(301),__WEBPACK_IMPORTED_MODULE_3_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_classnames__),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=SocialNetworkTabView},function(module,exports,__webpack_require__){"use strict";function SocialNetworksView(props){return React.createElement("div",{className:"linked-accounts"},React.createElement("h2",{className:"listTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__.a,null,"Find on other networks")),React.createElement("div",{className:"tabs-container"},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("tab",{"is-active":"PSN"==props.activeTab}),onClick:props.onClickChangeTab.bind(null,"PSN")},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("icon",{"psn-active-img":"PSN"==props.activeTab,"psn-img":"PSN"!==props.activeTab})})),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("tab",{"is-active":"XBOX"==props.activeTab}),onClick:props.onClickChangeTab.bind(null,"XBOX")},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("icon",{"xbox-active-img":"XBOX"==props.activeTab,"xbox-img":"XBOX"!==props.activeTab})}))),"PSN"==props.activeTab?React.createElement(__WEBPACK_IMPORTED_MODULE_2__SocialNetworkTabView__.a,{isLoadin:props.isLoadinPsn,isLinked:props.isLinkedWithPsn,isReloadFailed:props.isReloadFailedPsn,isAuthExpired:props.isAuthExpiredOnPsn,hasFriends:props.hasFriendsOnPsn,platform:"PSN",friends:props.friendsOnPsn,onClickInviteRequest:props.onClickInviteRequest,showMoreLink:props.showMoreLinkPsn,nbFriend:props.nbFriendOnPsn,onClickToggleShowMore:props.onClickToggleShowMorenPsn,showLessLink:props.showLessLinkPsn,clubUrl:props.clubUrl,locale:props.locale,currentFriendInvitationId:props.currentFriendInvitationId,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickFriendRequest:props.onClickFriendRequest,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,onClickLinkAccount:props.onClickLinkPsn,isStillLoading:props.isStillLoading,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState}):null,"XBOX"==props.activeTab?React.createElement(__WEBPACK_IMPORTED_MODULE_2__SocialNetworkTabView__.a,{isLoadin:props.isLoadinXbox,isLinked:props.isLinkedWithXbox,isReloadFailed:props.isReloadFailedXbox,isAuthExpired:props.isAuthExpiredOnXbox,hasFriends:props.hasFriendsOnXbox,platform:"XBOX",friends:props.friendsOnXbox,onClickInviteRequest:props.onClickInviteRequest,showMoreLink:props.showMoreLinkXbox,nbFriend:props.nbFriendOnXbox,onClickToggleShowMore:props.onClickToggleShowMoreOnXbox,showLessLink:props.showLessLinkXbox,clubUrl:props.clubUrl,locale:props.locale,currentFriendInvitationId:props.currentFriendInvitationId,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickFriendRequest:props.onClickFriendRequest,currentDeclineUserId:props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,onClickLinkAccount:props.onClickLinkXbox,isStillLoading:props.isStillLoading,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState}):null)}var __WEBPACK_IMPORTED_MODULE_0__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_1_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__),__WEBPACK_IMPORTED_MODULE_2__SocialNetworkTabView__=__webpack_require__(833);exports.a=SocialNetworksView},function(module,exports,__webpack_require__){"use strict";function GradientView(props){return React.createElement("svg",{style:{height:0,width:0}},React.createElement("defs",null,React.createElement("linearGradient",{id:props.gradientId,gradientTransform:props.gradientTransform},props.gradientStops.map(function(stop){return React.createElement("stop",{key:stop.offset,offset:stop.offset,stopColor:stop.stopColor})}))))}exports.a=GradientView},function(module,exports,__webpack_require__){"use strict";function NoRewardsSvgView(){return React.createElement("svg",{width:"209",height:"208",viewBox:"0 0 209 208",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M94.9231 190.77C142.93 190.77 181.846 193 181.846 195.493C181.846 197.985 142.93 200 94.9231 200C46.9162 200 8 197.985 8 195.493C8 193 46.9162 190.77 94.9231 190.77Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M108 173.847C148.784 173.847 181.846 140.785 181.846 100C181.846 59.2163 148.784 26.1543 108 26.1543C67.2159 26.1543 34.1538 59.2163 34.1538 100C34.1538 140.785 67.2159 173.847 108 173.847Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M158.008 170.238H160.146V168.1C160.146 167.596 160.346 167.113 160.703 166.757C161.059 166.4 161.542 166.2 162.046 166.2C162.55 166.2 163.033 166.4 163.39 166.757C163.746 167.113 163.946 167.596 163.946 168.1V170.238H166.085C166.589 170.238 167.072 170.439 167.428 170.795C167.784 171.151 167.985 171.635 167.985 172.138C167.985 172.642 167.784 173.126 167.428 173.482C167.072 173.838 166.589 174.038 166.085 174.038H163.946V176.177C163.946 176.681 163.746 177.164 163.39 177.52C163.033 177.877 162.55 178.077 162.046 178.077C161.542 178.077 161.059 177.877 160.703 177.52C160.346 177.164 160.146 176.681 160.146 176.177V174.038H158.008C157.504 174.038 157.02 173.838 156.664 173.482C156.308 173.126 156.108 172.642 156.108 172.138C156.108 171.635 156.308 171.151 156.664 170.795C157.02 170.439 157.504 170.238 158.008 170.238ZM198.038 94.6077H200.177V92.4692C200.177 91.9653 200.377 91.482 200.733 91.1257C201.09 90.7694 201.573 90.5692 202.077 90.5692C202.581 90.5692 203.064 90.7694 203.42 91.1257C203.777 91.482 203.977 91.9653 203.977 92.4692V94.6077H206.115C206.619 94.6077 207.103 94.8079 207.459 95.1642C207.815 95.5205 208.015 96.0038 208.015 96.5077C208.015 97.0116 207.815 97.4949 207.459 97.8512C207.103 98.2075 206.619 98.4077 206.115 98.4077H203.977V100.546C203.977 101.05 203.777 101.533 203.42 101.89C203.064 102.246 202.581 102.446 202.077 102.446C201.573 102.446 201.09 102.246 200.733 101.89C200.377 101.533 200.177 101.05 200.177 100.546V98.3923H198.038C197.535 98.3923 197.051 98.1921 196.695 97.8358C196.339 97.4795 196.138 96.9962 196.138 96.4923C196.138 95.9884 196.339 95.5051 196.695 95.1488C197.051 94.7925 197.535 94.5923 198.038 94.5923V94.6077ZM143.177 4.02308H145.315V1.9C145.315 1.39609 145.516 0.912816 145.872 0.556497C146.228 0.200178 146.711 0 147.215 0C147.719 0 148.203 0.200178 148.559 0.556497C148.915 0.912816 149.115 1.39609 149.115 1.9V4.02308H151.238C151.742 4.02308 152.226 4.22326 152.582 4.57957C152.938 4.93589 153.138 5.41917 153.138 5.92308C153.138 6.42699 152.938 6.91026 152.582 7.26658C152.226 7.6229 151.742 7.82308 151.238 7.82308H149.1V9.96154C149.1 10.4655 148.9 10.9487 148.543 11.305C148.187 11.6614 147.704 11.8615 147.2 11.8615C146.696 11.8615 146.213 11.6614 145.856 11.305C145.5 10.9487 145.3 10.4655 145.3 9.96154V7.82308H143.177C142.673 7.82308 142.19 7.6229 141.833 7.26658C141.477 6.91026 141.277 6.42699 141.277 5.92308C141.277 5.41917 141.477 4.93589 141.833 4.57957C142.19 4.22326 142.673 4.02308 143.177 4.02308ZM33.9154 23.4231H36.0538V21.2846C36.0538 20.7807 36.254 20.2974 36.6103 19.9411C36.9666 19.5848 37.4499 19.3846 37.9538 19.3846C38.4577 19.3846 38.941 19.5848 39.2973 19.9411C39.6536 20.2974 39.8538 20.7807 39.8538 21.2846V23.4231H41.9923C42.4962 23.4231 42.9795 23.6233 43.3358 23.9796C43.6921 24.3359 43.8923 24.8192 43.8923 25.3231C43.8923 25.827 43.6921 26.3103 43.3358 26.6666C42.9795 27.0229 42.4962 27.2231 41.9923 27.2231H39.8384V29.3615C39.8384 29.8654 39.6383 30.3487 39.2819 30.705C38.9256 31.0614 38.4423 31.2615 37.9384 31.2615C37.4345 31.2615 36.9512 31.0614 36.5949 30.705C36.2386 30.3487 36.0384 29.8654 36.0384 29.3615V27.2077H33.9154C33.4114 27.2077 32.9282 27.0075 32.5718 26.6512C32.2155 26.2949 32.0154 25.8116 32.0154 25.3077C32.0154 24.8038 32.2155 24.3205 32.5718 23.9642C32.9282 23.6079 33.4114 23.4077 33.9154 23.4077V23.4231Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M9.9 75.3305H12.0385V73.192C12.0385 72.6881 12.2386 72.2048 12.595 71.8485C12.9513 71.4922 13.4346 71.292 13.9385 71.292C14.4424 71.292 14.9256 71.4922 15.282 71.8485C15.6383 72.2048 15.8385 72.6881 15.8385 73.192V75.3305H17.9769C18.4808 75.3305 18.9641 75.5306 19.3204 75.8869C19.6767 76.2433 19.8769 76.7265 19.8769 77.2305C19.8769 77.7344 19.6767 78.2176 19.3204 78.574C18.9641 78.9303 18.4808 79.1304 17.9769 79.1304H15.8385V81.2843C15.8385 81.7882 15.6383 82.2715 15.282 82.6278C14.9256 82.9841 14.4424 83.1843 13.9385 83.1843C13.4346 83.1843 12.9513 82.9841 12.595 82.6278C12.2386 82.2715 12.0385 81.7882 12.0385 81.2843V79.1151H9.9C9.39609 79.1151 8.91282 78.9149 8.5565 78.5586C8.20018 78.2022 8 77.719 8 77.2151C8 76.7112 8.20018 76.2279 8.5565 75.8716C8.91282 75.5152 9.39609 75.3151 9.9 75.3151V75.3305Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M117.368 62.157L117.355 62.1585L117.343 62.1607C112.708 62.9617 109.053 66.4894 108.221 70.9982L108 72.1885L107.779 70.9982C106.948 66.4946 103.3 62.9698 98.673 62.1635C97.9853 61.9999 97.2297 62 96.618 62L96.5912 62C93.5987 62 90.8457 63.2083 88.7003 65.2849C86.0497 67.8506 84.8788 71.3878 85.5404 75.0056C86.1409 78.9819 89.1481 82.2144 93.0803 83.4286L80.2356 83.4285C77.7769 83.4285 75.7692 85.1954 75.7692 87.6533V104.018C75.7692 106.264 77.4716 108.25 79.7356 108.507V133.691C79.7356 136.17 81.9935 138 84.4297 138H131.966C134.503 138 136.264 135.862 136.264 133.482V108.506C138.318 108.261 140.231 106.534 140.231 104.018V87.6533V87.6438L140.23 87.6342C140.141 85.2914 138.248 83.4285 135.764 83.4285L122.915 83.4286C126.833 82.21 129.709 78.959 130.452 74.9381C131.116 71.401 129.954 67.7017 127.294 65.2054C125.144 63.1255 122.472 62 119.409 62C118.742 62 118.002 62.0803 117.368 62.157ZM120.192 76.8085L114.469 77.8343L114.752 76.0825L115.464 72.254L115.464 72.251C115.742 70.7035 117.077 69.4012 118.7 69.128L118.735 69.122L118.77 69.1108C118.917 69.0636 119.144 69.0583 119.488 69.0583C120.542 69.0583 121.528 69.4647 122.309 70.2212C123.218 71.1002 123.643 72.3899 123.432 73.6885C123.152 75.2343 121.819 76.5346 120.197 76.8075L120.192 76.8085ZM96.037 76.807C94.3082 76.5281 92.8432 75.2112 92.5694 73.6922C92.3564 72.452 92.7204 71.0905 93.6804 70.2276L93.6873 70.2215L93.6939 70.215C94.4622 69.4714 95.5973 69.0577 96.6704 69.0577C96.6863 69.0577 96.7013 69.0577 96.7155 69.0577C96.854 69.0576 96.9194 69.0576 96.9852 69.0632C97.0483 69.0686 97.1199 69.0802 97.267 69.1158L97.2842 69.1199L97.3016 69.1229C98.9481 69.4 100.42 70.7263 100.694 72.2519L100.695 72.2548L101.408 76.0914L101.408 76.0914L101.409 76.0952L101.745 77.8301L96.0456 76.8085L96.0456 76.8084L96.037 76.807ZM133.942 102.179H111.144V89.7857H133.942V102.179ZM82.0577 89.7857H104.856V102.179H82.0577V89.7857ZM86.024 108.536H104.856V131.643H86.024V108.536ZM129.976 131.643H111.144V108.536H129.976V131.643Z",fill:"#A8A8A8",stroke:"black"}),React.createElement("path",{d:"M94.3774 156.764L86.6487 132.032L36.814 126.154L21.9264 134.031L14.1538 161.363V176.337L25.8418 180.892L36.8432 169.827L42.6872 161.363H68.5177L77.5759 175.029L86.6341 181.539L95.6923 172.428L94.3774 156.764Z",fill:"#0D0D0D"}),React.createElement("path",{d:"M21.6263 156.454C19.1495 173.35 29.6865 170.339 35.2698 166.714L38.992 165.501L37.7466 170.325L27.8253 178.774L19.7232 180L14.7695 176.375L14.1538 164.902L17.8761 148.005L25.3205 135.333L29.0148 132.308C25.2272 139.914 22.732 148.069 21.6263 156.454ZM86.6674 156.454C89.1442 173.35 78.6072 170.339 73.0239 166.714L69.3016 165.501L70.603 170.325L80.5243 178.774L88.5845 179.986L93.5381 176.362L94.1538 164.888L90.4316 147.992L82.9871 135.319L79.2229 132.308C83.0298 139.911 85.544 148.066 86.6674 156.454Z",fill:"#2B2B2B"}),React.createElement("path",{fillRule:"evenodd",d:"M36.3784 125.24C34.7873 125.24 31.8498 125.42 28.7736 126.413C25.6977 127.407 22.4373 129.231 20.2768 132.55C18.1981 135.697 16.3375 140.504 14.6867 145.566C13.3402 149.643 12.2711 154.705 11.539 159C10.8095 163.281 10.4038 166.867 10.4038 167.981C10.4038 171.641 11.2113 175.66 13.3048 178.784C15.4188 181.937 18.8195 184.134 23.8721 184.134C29.4587 184.134 33.7999 180.375 38.0176 173.346C38.7331 172.165 40.4572 168.812 41.5408 166.432L41.5437 166.425C41.9544 165.493 42.8831 164.915 43.8695 164.915H64.4382C65.4813 164.915 66.3505 165.486 66.7639 166.425L66.7669 166.432C67.8508 168.812 69.5756 172.167 70.2907 173.347C74.5687 180.371 78.8471 184.134 84.4355 184.134C89.4881 184.134 92.8888 181.937 95.0028 178.784C97.0964 175.66 97.9038 171.641 97.9038 167.981C97.9038 166.867 97.4982 163.266 96.7686 158.977C96.0367 154.673 94.9676 149.611 93.6208 145.566C91.9701 140.504 90.1095 135.697 88.031 132.55C85.8705 129.231 82.61 127.407 79.534 126.413C76.4578 125.42 73.5204 125.24 71.9292 125.24H36.3784ZM93.6208 145.566L93.6201 145.564L93.0693 145.75L93.6208 145.566ZM25.5005 136.015C26.8454 133.949 29.1879 132.817 31.4497 132.207C33.6989 131.601 35.7697 131.538 36.4419 131.538H71.9292C72.6011 131.538 74.656 131.601 76.8971 132.207C79.1489 132.816 81.4946 133.948 82.8723 136.017C84.2875 138.191 85.9179 142.035 87.7565 147.537C88.9497 151.213 89.9437 155.889 90.6401 159.882C91.3398 163.894 91.7264 167.143 91.7264 167.981C91.7264 170.917 91.0426 173.545 89.9221 175.211L89.9195 175.215C88.7797 176.94 87.0782 177.772 84.5625 177.772C83.6233 177.772 82.4923 177.579 81.0709 176.539C79.627 175.482 77.8657 173.537 75.7277 169.984C75.1683 169.042 73.5312 165.929 72.5903 163.714L72.5848 163.701C71.1571 160.545 67.9666 158.489 64.5651 158.489H43.9964C40.529 158.489 37.4036 160.547 35.9768 163.701C34.9764 165.909 33.3493 169.006 32.8287 169.991C30.6004 173.535 28.7948 175.479 27.3275 176.536C25.8802 177.58 24.7472 177.772 23.8086 177.772C22.5055 177.772 21.4539 177.558 20.592 177.141C19.7354 176.727 19.0346 176.097 18.4517 175.215L18.449 175.211C17.3291 173.545 16.6447 170.854 16.6447 167.981C16.6447 167.142 17.0161 163.891 17.7074 159.881C18.3959 155.888 19.3899 151.213 20.6139 147.539L20.615 147.536C22.3903 142.097 24.0211 138.254 25.4983 136.018L25.5005 136.015Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M43.1954 143.252H40.2068V140.236C40.2068 138.762 39.0114 137.556 37.5503 137.556C36.0892 137.556 34.8937 138.762 34.8937 140.236V143.252H31.9051C30.444 143.252 29.2486 144.459 29.2486 145.933C29.2486 147.408 30.444 148.614 31.9051 148.614H34.8937V151.63C34.8937 153.104 36.0892 154.311 37.5503 154.311C39.0114 154.311 40.2068 153.104 40.2068 151.63V148.614H43.1954C44.6565 148.614 45.852 147.408 45.852 145.933C45.852 144.459 44.6565 143.252 43.1954 143.252Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M66.6066 145.933C64.3236 145.933 62.4557 147.818 62.4557 150.121C62.4557 152.425 64.3236 154.31 66.6066 154.31C68.8896 154.31 70.7575 152.425 70.7575 150.121C70.7575 147.818 68.9933 145.933 66.6066 145.933Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M73.2476 137.556C70.9647 137.556 69.0968 139.441 69.0968 141.744C69.0968 144.048 70.9647 145.933 73.2476 145.933C75.5306 145.933 77.3985 144.048 77.3985 141.744C77.3985 139.441 75.5306 137.556 73.2476 137.556Z",fill:"#4A4A4A"}))}exports.a=NoRewardsSvgView},function(module,exports,__webpack_require__){"use strict";function OtherGameView(props){return React.createElement("div",{className:"swiper-slide other-game"},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("other-game-image",{selected:props.currentLastPlayedGameId==props.gameId}),onClick:props.onClickGameImage.bind(null,props.offset,props.gameId,props.spaceId,props.applicationId,props.platformCode)},props.imageUrl?React.createElement("img",{src:props.imageUrl}):null,props.imageUrl?null:React.createElement("div",{className:"other-game-no-image"})))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=OtherGameView},function(module,exports,__webpack_require__){"use strict";function OtherGamesView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__OtherGamesCarouselView__.a,{otherGames:props.otherGames,hasOtherGamesPlayed:props.hasOtherGamesPlayed,loadedLastPlayedGame:props.loadedLastPlayedGame,onClickGameImage:props.onClickGameImage,currentLastPlayedGameId:props.currentLastPlayedGameId,nbSlidesPerView:3,carouselClassName:"last-played-games-swiper",hasOnlyOneGame:props.hasOnlyOneGame,gamePlayed:props.gamePlayed,hasOnlyOnePlatform:props.hasOnlyOnePlatform,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,hasOwnedPlatforms:props.hasOwnedPlatforms,onChangePlatform:props.onChangePlatform,isFriendView:!1,hideNavigationAndPagination:!!props.otherGames&&props.otherGames.length<=3,onSlidePrev:props.onSlidePrev,onSlideNext:props.onSlideNext,onSlideToFirst:props.onSlideToFirst,onSlideToLast:props.onSlideToLast,hasNoSessionData:props.hasNoSessionData,onSwipeOtherGames:props.onSwipeOtherGames})}var __WEBPACK_IMPORTED_MODULE_0__OtherGamesCarouselView__=__webpack_require__(593);exports.a=OtherGamesView},function(module,exports,__webpack_require__){"use strict";function SelectedGameView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("selected-game-view in-back load-element",{"in":!props.loadedGame})},React.createElement(__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__.a,{loaded:props.loadedGame}),!props.loadedGame||props.isShownGameStats||props.isShownGameRewards?null:[props.isInMobileView||props.showMobileViewOnDesktop?React.createElement("div",{className:"selected-game-mobile",key:"0"},React.createElement("div",{className:"selected-game-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_8__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__.a,{gameDate:props.gameDate,gameTitle:props.gameTitle,hasNoSessionData:props.hasNoSessionData,showGameTitle:!0})))):null,React.createElement("div",{className:"contentBlock no-boreder-botttom",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__GameView__.a,{gameDate:props.gameDate,gameTitle:props.gameTitle,gameId:props.gameId,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,hasOnlyOnePlatform:props.hasOnlyOnePlatform,onChangePlatform:props.onChangePlatform,loadedGame:props.loadedGame,hasOwnedPlatforms:props.hasOwnedPlatforms,loadedFriends:props.loadedFriends,friendsPlaying:props.friendsPlaying,gameImageUrl:props.gameImageUrl,isFriendGame:!1,lastPlayedGameCoverUrl:props.gameCoverUrl,isInMobileView:props.isInMobileView||props.showMobileViewOnDesktop,hasNoSessionData:props.hasNoSessionData}),React.createElement("div",{className:"selected-content-view selected-game-bottom-view vertical-align-mobile"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__Stats_views_LastPlayedGameStatsView__.a,{isLoadedGameStats:props.loadedGameStats,hasLastPlayedGameStats:props.hasGameStats,lastPlayedGameStats:props.gameStats,statsCDNUrl:props.statsCDNUrl,clubUrl:props.clubUrl,locale:props.locale,onClickGameStats:props.onClickGameStats,showTitle:!0,showLink:!0,isFriendGame:!1}),React.createElement("div",{className:"selected-game-rewards"},React.createElement("div",{className:"selected-game-rewards-title"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Rewards")),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("selected-game-rewards-content in-back load-element",{"in":!props.loadedRewards})},React.createElement("div",{className:"rewards-balance-container"},React.createElement("span",{className:"rewards-balance-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{nbOfUnits:React.createElement("span",{className:"balance-unit-container"},React.createElement("span",{className:"balance-icon"}),React.createElement("span",{classID:"balance-units"},props.nbOfUnits))},"Balance: %(nbOfUnits)"))),props.loadedRewards&&props.nbOfRewards>0?React.createElement("div",{className:"selected-game-rewards-chart"},React.createElement(__WEBPACK_IMPORTED_MODULE_5__GradientView__.a,{gradientId:"gradient-id",gradientTransform:"rotate(90deg)",gradientStops:[{offset:"0%",stopColor:"#188FFC"},{offset:"36.76%",stopColor:"#46AFF5"},{offset:"103.79%",stopColor:"#4BDFFF"}]}),React.createElement(CircularProgressBar,{percentage:props.nbOfRewardsOwned/props.nbOfRewards*100,initialAnimation:!0,strokeWidth:16,styles:{path:{stroke:"url(#gradient-id)",strokeLinecap:"butt",strokeWidth:"16",transition:"stroke-dashoffset 0.5s ease 0.1s"},trail:{stroke:"#333333",strokeWidth:"8"}}}),React.createElement("div",{className:"rewards-chart-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{rewardsOwned:React.createElement("span",{className:"rewards-chart-nb"},React.createElement("span",{className:"rewards-chart-nb-left"},props.nbOfRewardsOwned),"/",React.createElement("span",{className:"rewards-chart-nb-right"},props.nbOfRewards))},"%(rewardsOwned)"),React.createElement("span",{className:"secondLine"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Redeemed")))):null,props.loadedRewards&&props.nbOfRewards<=0?[React.createElement("div",{className:"selected-game-no-rewards",key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"There are no rewards available for this game. Except for that feeling of joy when playing it, of course.")),React.createElement("div",{className:"no-rewards-illustration",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_6__NoRewardsSvgView__.a,null))]:null),props.loadedRewards&&props.nbOfRewards>0?React.createElement("div",{className:"stats-button-container rewards-section"},React.createElement("button",{className:"btn primary",onClick:props.onClickGameRewards.bind(null)},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Manage rewards"))):null)))],props.children)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__Stats_views_LastPlayedGameStatsView__=__webpack_require__(302),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_3__GameView__=__webpack_require__(592),__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_5__GradientView__=__webpack_require__(835),__WEBPACK_IMPORTED_MODULE_6__NoRewardsSvgView__=__webpack_require__(836),__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_8__FormattedLastDatePlayed_views_FormattedLastDatePlayedView__=__webpack_require__(300);
exports.a=SelectedGameView;var CircularProgressBar=__webpack_require__(1338)["default"]},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(862)),__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_controllers_OverlayController__=__webpack_require__(848);__webpack_require__.d(exports,"a",function(){return LayoutController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LayoutController=function(_Component){function LayoutController(){return _classCallCheck(this,LayoutController),_possibleConstructorReturn(this,(LayoutController.__proto__||Object.getPrototypeOf(LayoutController)).apply(this,arguments))}return _inherits(LayoutController,_Component),_createClass(LayoutController,[{key:"render",value:function(){return this.props.isReady?React.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_controllers_OverlayController__.a,null):React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__.a,null)}}]),LayoutController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.Component);LayoutController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(function(state,props){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isReady:__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationQueries.hasIdentity})}),__metadata("design:paramtypes",[])],LayoutController)},function(module,exports,__webpack_require__){"use strict";function MobileNavView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("mobileNav",{visible:props.isVisible&&props.showMobileTabs||props.isInDesktopResize&&(props.showNotifications||props.showFriends||props.showPlayerCard)}),ref:props.swipeRef},React.createElement("div",{className:"mobileNav-extended",onClick:props.handleOnClickMenu.bind(null)}),React.createElement("div",{className:"mobileNav-content"},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("notificationsPanelBtn",{active:props.showNotifications}),onClick:props.handleNotificationsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",{className:"icon-notification"})),props.nbNotifications>0?React.createElement("div",{className:"num"},props.nbNotifications):null),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("friendsPanelBtn",{active:props.showFriends}),onClick:props.handleFriendsOnClick},React.createElement("div",{className:"ico"},React.createElement("i",{className:"icon-friends"})),props.nbFriends>0?React.createElement("div",{className:"num"},props.nbFriends):null),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("userPanelBtn",{active:props.showPlayerCard}),onClick:props.onClickPlayerCard},React.createElement("div",{className:"ico"},React.createElement("i",{className:"icon-friend"})))))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=MobileNavView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(114)),__WEBPACK_IMPORTED_MODULE_5__views_NotificationsPanelView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__),__webpack_require__(847)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_7_app_modules_swiper_services_Swiper__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_10_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(213),__WEBPACK_IMPORTED_MODULE_12__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_13__queries_NotificationsQueries__=__webpack_require__(311),__WEBPACK_IMPORTED_MODULE_14__stores_ProfileEntitiesStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_15__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_16__services_BetaNotificationsService__=__webpack_require__(314),__WEBPACK_IMPORTED_MODULE_17__modules_analytics_services_AnalyticsService__=__webpack_require__(19);__webpack_require__.d(exports,"a",function(){return NotificationsPanelController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NotificationsPanelController=function(_PureComponent){function NotificationsPanelController(){_classCallCheck(this,NotificationsPanelController);var _this=_possibleConstructorReturn(this,(NotificationsPanelController.__proto__||Object.getPrototypeOf(NotificationsPanelController)).apply(this,arguments));return _this.scrollableRef=function(el){return _this._scrollableRef=el},_this}return _inherits(NotificationsPanelController,_PureComponent),_createClass(NotificationsPanelController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_5__views_NotificationsPanelView__.a,{show:this.props.show,isInMobileView:this.props.isInMobileView,notifications:this.props.notifications||[],notificationsLength:this.props.notifications?this.props.notifications.length:0,isLoading:this.props.isLoading,swipeRef:this.setSwipeRef,showUserEmailVerificationButton:this.props.showUserEmailVerificationButton,isEmailVerificationSent:this.props.isEmailVerificationSent,onClickResendVerificationEmail:this.onClickResendVerificationEmail,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad,scrollableRef:this.scrollableRef,onClickBeta:this.onClickBeta,isLoadedNotifications:this.props.isLoadedNotifications,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,trackingBannerHeight:this.props.trackingBannerHeight,collapsedHeight:this.props.collapsedHeight,windowInnerHeight:this.props.windowInnerHeight,onClickLater:this.onClickLater,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight})}},{key:"componentDidMount",value:function(){this._swipeRef&&(this.swiper=new __WEBPACK_IMPORTED_MODULE_7_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(prevProps.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),prevProps.isLoadedNotifications===this.props.isLoadedNotifications||!this.props.show){_context.next=4;break}return _context.next=4,this.props.betaNotificationsService.seenAllNotifications(this.props.show,!1,!0);case 4:return _context.abrupt("return",null);case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleSwipe",value:function(payload){payload.swipeLeft&&this.props.communicationService.clickedOnMobileFriends()}},{key:"onClickResendVerificationEmail",value:function(e){e.preventDefault(),this.props.analyticsService.trackEvent("notifications tab","notifications panel","global nav","interaction","verify your email"),this.props.emailVerificationService.onTriggerEmailActivation()}},{key:"onClickBeta",value:function(betaId,betaUrle,e){var openInNewWindow=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.preventDefault(),openInNewWindow&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__stejar_utils__.newWindow)(betaUrle),this.props.betaNotificationsService.onClickBeta(betaId),openInNewWindow||(window.location.href=betaUrle)}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnMenu()}},{key:"onClickLater",value:function(){this.props.analyticsService.trackEvent("notifications tab","notifications panel","global nav","interaction","verify your email later"),this.props.emailVerificationService.afterTriggeredEmailVerification()}}]),NotificationsPanelController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);NotificationsPanelController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_communication_services_CommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_EmailVerificationService__.a,betaNotificationsService:__WEBPACK_IMPORTED_MODULE_16__services_BetaNotificationsService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_17__modules_analytics_services_AnalyticsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getIsInMobileView,show:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,showUserEmailVerificationButton:__WEBPACK_IMPORTED_MODULE_10_app_selectors__.l,isEmailVerificationSent:__WEBPACK_IMPORTED_MODULE_10_app_selectors__.N,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnIpad:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getisOnIpad,isLoading:!1,notifications:[],isLoadedNotifications:!1,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,trackingBannerHeight:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getTrackingBannerHeight,collapsedHeight:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getCollapsedHeight,windowInnerHeight:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getWindowInnerHeight,scrollbarNegativeMargin:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarNegativeMargin,height:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getScrollbarContainerHeightForNotificationsView,maxHeight:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getScrollbarContainerMaxHeightForNotificationsView,top:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getTopPositionForScrollbarContainer,scrollbarHeight:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getScrollbarHeightForNotificationsView},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_15__stores_PopulationsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_13__queries_NotificationsQueries__.a.getHasBetaPopulations(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_14__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_12__stores_NewsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:__WEBPACK_IMPORTED_MODULE_13__queries_NotificationsQueries__.a.getComputedNotifications}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]}))),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]}))),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]})))}),__metadata("design:paramtypes",[])],NotificationsPanelController)},function(module,exports,__webpack_require__){"use strict";function BetaNotificationView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("beta-notification notif",{firstSeen:props.betaNotSeen})},React.createElement("div",{className:"title"},"1"==props.betaType?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Beta invitation"):null,"2"==props.betaType?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Beta access available"):null,"3"==props.betaType?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Beta friend invitation"):null,React.createElement("span",{className:"notif-dot"})),React.createElement("div",{className:"beta-notification-content"},React.createElement("div",{className:"notifImg"},React.createElement("div",{className:"img-bg"})),React.createElement("div",{className:"notifContainer"},React.createElement("div",{className:"notifInfo"},props.betaName&&props.betaPhase?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{BetaName:React.createElement("span",{className:"title-text-highlight"},props.betaName),PhaseName:React.createElement("span",{className:"title-text-highlight"},props.betaPhase)},props.betaText):null))),"2"!=props.betaType||"PC"!=props.betaPlatform?React.createElement("div",{className:"notifAction"},React.createElement("div",{className:"btn primary",onClick:props.onClickBeta.bind(null,props.betaId,props.betaUrl)},"1"==props.betaType?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Accept the NDA"):null,"2"==props.betaType&&"PC"!=props.betaPlatform?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Get my key"):null,"3"==props.betaType?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Get my access"):null)):null,"2"==props.betaType&&"PC"==props.betaPlatform?React.createElement("div",{className:"notifAction"},React.createElement("div",{className:"btn primary",onClick:function(event){props.onClickBeta(props.betaId,props.betaUrl,event,!1)}},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Preload now"))):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7);exports.a=BetaNotificationView},function(module,exports,__webpack_require__){"use strict";function EmailNotificationView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("email-notification notif",{"only-element":props.isLastElement})},React.createElement("div",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Your email is not verified yet!")),React.createElement("div",{className:"notifImg"},React.createElement("div",{className:"img-bg"})),React.createElement("div",{className:"notifContainer"},props.isEmailVerificationSent?null:React.createElement("div",{className:"notifInfo"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"To help ensure your account security, please verify your email")),props.isEmailVerificationSent?React.createElement("div",{className:"notifInfo"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"We have sent you an e-mail from AccountSupport@ubi.com to enable you to verify your email address. Please read and follow the instructions provided to complete this process!")):null),props.isEmailVerificationSent?null:React.createElement("div",{className:"notifAction"},props.onClickResendVerificationEmail?[React.createElement("a",{onClick:props.onClickResendVerificationEmail.bind(null),className:"btn primary",key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Verify my email")),React.createElement("a",{onClick:props.onClickLater.bind(null),className:"btn secondary",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Later"))]:null))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7);exports.a=EmailNotificationView},function(module,exports,__webpack_require__){"use strict";function FriendRequestNotificationView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("friend-request-notification",{"is-latest":props.isLatestNotification})},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("container-with-border in-back load-element",{"in":props.isStillLoading&&props.userId==props.currentFriendInvitationId})},React.createElement(__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__.a,{loaded:!props.isStillLoading||props.userId!=props.currentFriendInvitationId}),props.userId!==props.currentDeclineUserId?[props.friendState==__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_entities_Friend__.a.PENDING_RECEIVED_INVITE?React.createElement("div",{className:"user-details",key:"0"},React.createElement("a",{href:props.clubUrl+"/"+props.localisation+"/profile/"+props.userName,className:"row-avatar",onClick:props.onClickFriend.bind(null,props.userName)},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Avatar_views_AvatarView__.a,{avatarUrl:props.userAvatarUrl})),React.createElement("div",{className:"row-details"},React.createElement("a",{href:props.clubUrl+"/"+props.localisation+"/profile/"+props.userName,className:"name",onClick:props.onClickFriend.bind(null,props.userName)},props.userName),props.userId===props.currentFriendInvitationId&&props.isRightAfterLoad?null:[props.userLevel?React.createElement("div",{className:"level",key:"0"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,{level:props.userLevel},"Level %(level)")):null,props.invitationRequestDate?React.createElement("div",{className:"time-stamp",key:"1"},__WEBPACK_IMPORTED_MODULE_1_moment___default.a.utc(props.invitationRequestDate).fromNow()):null],React.createElement(__WEBPACK_IMPORTED_MODULE_8__FriendsActivityFeed_views_FriendActionStateView__.a,{friendState:props.friendState,pid:props.userId,currentFriendInvitationId:props.currentFriendInvitationId,isRightAfterLoad:props.isRightAfterLoad,isAcceptedState:props.isAcceptedState,isDeclinedState:props.isDeclinedState,isCanceledState:props.isCanceledState}))):null,props.userId===props.currentFriendInvitationId&&props.isRightAfterLoad?null:React.createElement(__WEBPACK_IMPORTED_MODULE_4__UserActionsView__.a,{friendState:props.friendState,onClickDeclineRequest:props.onClickDeclineRequest,onClickAcceptRequest:props.onClickAcceptRequest,onClickInviteRequest:function(){},userId:props.userId,userName:props.userName,key:"1"})]:null,React.createElement(__WEBPACK_IMPORTED_MODULE_5__FriendsActivityFeed_views_DeclineRequestView__.a,{userId:props.userId,showDeclineState:props.userId==props.currentDeclineUserId,onClickCancelDeclineRequest:props.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:props.onClickConfirmDeclineRequest,friendState:props.friendState})))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__),__WEBPACK_IMPORTED_MODULE_2__Avatar_views_AvatarView__=__webpack_require__(131),__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_4__UserActionsView__=__webpack_require__(594),__WEBPACK_IMPORTED_MODULE_5__FriendsActivityFeed_views_DeclineRequestView__=__webpack_require__(588),__WEBPACK_IMPORTED_MODULE_6__modules_serviceApis_entities_Friend__=__webpack_require__(46),__WEBPACK_IMPORTED_MODULE_7__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_8__FriendsActivityFeed_views_FriendActionStateView__=__webpack_require__(589);exports.a=FriendRequestNotificationView},function(module,exports,__webpack_require__){"use strict";function NotificationsPanelContentView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("content in-back load-element",{"in":props.isLoading||!props.isLoadedNotifications})},React.createElement(__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__.a,{loaded:!props.isLoading&&props.isLoadedNotifications}),!props.isLoading&&props.isLoadedNotifications&&(props.notificationsLength>0||props.showUserEmailVerificationButton)?React.createElement("div",null,props.notifications.map(function(notification){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__BetaNotificationView__.a,{key:notification.betaId,betaId:notification.betaId,betaNotSeen:notification.betaNotSeen,betaName:notification.betaName,betaPhase:notification.betaPhase,betaUrl:notification.betaUrl,betaText:notification.betaText,betaType:notification.betaType,betaPlatform:notification.betaPlatform,onClickBeta:props.onClickBeta})}),props.showUserEmailVerificationButton?React.createElement(__WEBPACK_IMPORTED_MODULE_3__EmailNotificationView__.a,{isEmailVerificationSent:props.isEmailVerificationSent,isLastElement:0==props.notifications.length,onClickResendVerificationEmail:props.onClickResendVerificationEmail,onClickLater:props.onClickLater}):null):props.isLoading||!props.isLoadedNotifications||0!==props.notificationsLength||props.showUserEmailVerificationButton?props.isLoading||!props.isLoadedNotifications?React.createElement("div",null,React.createElement("div",{style:{minHeight:"6.6rem"}}),React.createElement("div",{style:{minHeight:"6.6rem"}})):React.createElement("noscript",null):React.createElement("div",{className:"no-notifications notif"},React.createElement("div",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"This is where you'll find your notifications.")),React.createElement("div",{className:"notifImg"},React.createElement("div",{className:"img-bg"})),React.createElement("div",{className:"notifContainer"},React.createElement("div",{className:"notifInfo"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Here you'll get friend requests, open beta alerts, event reminders, and much more!")))))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__BetaNotificationView__=__webpack_require__(843),__WEBPACK_IMPORTED_MODULE_3__EmailNotificationView__=__webpack_require__(844),__WEBPACK_IMPORTED_MODULE_4__Overlay_views_LoaderView__=__webpack_require__(38);exports.a=NotificationsPanelContentView},function(module,exports,__webpack_require__){"use strict";function NotificationsPanelView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_notifications-panel-container panel-container expanding-details",{visible:props.show}),style:{height:props.height,maxHeight:props.maxHeight,top:props.top}},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("menu_notifications-panel",{"is-in-mobile":props.isInMobileView||props.isOnIpad}),ref:props.swipeRef},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Overlay_views_ScrollbarsView__.a,{scrollbarHeight:props.scrollbarHeight,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:props.scrollableRef,scrollbarWidth:props.scrollbarWidth,scrollbarNegativeMargin:props.scrollbarNegativeMargin},React.createElement(__WEBPACK_IMPORTED_MODULE_1__NotificationsPanelContentView__.a,{notifications:props.notifications,isLoading:props.isLoading,showUserEmailVerificationButton:props.showUserEmailVerificationButton,isEmailVerificationSent:props.isEmailVerificationSent,onClickResendVerificationEmail:props.onClickResendVerificationEmail,notificationsLength:props.notificationsLength,onClickBeta:props.onClickBeta,isLoadedNotifications:props.isLoadedNotifications,onClickLater:props.onClickLater}))),props.isInMobileView?null:React.createElement("div",{className:"details-view-container",style:{height:props.height,maxHeight:props.maxHeight},onClick:props.handleOnClickMenu.bind(null)},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("details-view"),style:{height:props.height,maxHeight:props.maxHeight}})),props.isInMobileView?React.createElement("noscript",null):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__NotificationsPanelContentView__=__webpack_require__(846),__WEBPACK_IMPORTED_MODULE_2__Overlay_views_ScrollbarsView__=__webpack_require__(208);exports.a=NotificationsPanelView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_redux__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(23)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(305),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_views_OverlayView__=__webpack_require__(849),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_13_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_14_app_modules_swiper_services_Swiper__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_15_app_modules_analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_16_app_modules_avatars_queries_AvatarsQueries__=__webpack_require__(133),__WEBPACK_IMPORTED_MODULE_17_app_stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_18__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_19__stores_ProfileEntitiesStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_20__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_21__queries_NotificationsQueries__=__webpack_require__(311),__WEBPACK_IMPORTED_MODULE_22__modules_integrator_communication_services_NameChangeService__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_23__stores_ChangeAvatarStore__=__webpack_require__(86);__webpack_require__.d(exports,"a",function(){return OverlayController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},OverlayController=function(_Component){function OverlayController(){return _classCallCheck(this,OverlayController),_possibleConstructorReturn(this,(OverlayController.__proto__||Object.getPrototypeOf(OverlayController)).apply(this,arguments))}return _inherits(OverlayController,_Component),_createClass(OverlayController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_views_OverlayView__.a,{swipeRef:this.setSwipeRef,collapsedHeight:this.props.collapsedHeight,avatarUrl:this.props.avatarUrl,noActiveClickOnMenu:this.props.noActiveClickOnMenu,userId:this.props.userId,username:this.props.username,bgColor:this.props.bgColor,showFriends:this.props.showFriends,showNotifications:this.props.showNotifications,isInMobileView:this.props.isInMobileView,showMobileTabs:this.props.showMobileTabs,loadedNbOfFriendsOnline:this.props.loadedNbOfFriendsOnline,nbFriends:this.props.nbConnections,showPlayerCard:this.props.showPlayerCard,loadedNotifications:this.props.loadedNotifications,nbNotifications:this.props.nbNotifications,isInDesktopResize:this.props.isInDesktopResize&&!this.props.isInMobileView,onClickPlayerCard:this.handleOnClickPlayerCard,handleFriendsOnClick:this.handleFriendsOnClick,onClickMobilePlayerCard:this.handleOnMobileClickPlayerCard,handleFriendsOnMobileClick:this.handleFriendsOnMobileClick,handleOnClickMenu:this.handleOnClickMenu,handleNotificationsOnClick:this.handleNotificationsOnClick,handleOnMobileNotifications:this.handleOnMobileNotifications,isOnArabLocale:this.props.isOnArabLocale})}},{key:"componentDidMount",value:function(){this._swipeRef&&(this.swiper=new __WEBPACK_IMPORTED_MODULE_14_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleFriendsOnClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnFriends()}},{key:"handleOnClickPlayerCard",value:function(e){return e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.isInMobileView||this.props.showMobileViewOnDesktop?(this.props.communicationService.clickedOnMobilePlayerCard(),null):(this.props.communicationService.clickedOnPlayerCard(),null)}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),this.props.noActiveClickOnMenu||(this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMenu())}},{key:"handleOnMobileClickPlayerCard",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobilePlayerCardTab()}},{key:"handleFriendsOnMobileClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileFriends()}},{key:"handleSwipe",value:function(payload){if(this.props.showPlayerCard&&payload.swipeRight||this.props.showNotifications&&payload.swipeLeft)return void this.props.communicationService.clickedOnMobileFriends();if(this.props.showFriends){if(payload.swipeRight)return void this.props.communicationService.clickedOnMobileNotifications();if(payload.swipeLeft)return void this.props.communicationService.clickedOnMobilePlayerCardTab()}}},{key:"handleNotificationsOnClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnNotifications()}},{key:"handleOnMobileNotifications",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileNotifications()}}]),OverlayController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.Component);OverlayController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__.a,integratorConfigurationStore:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,pageLoaderService:__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_15_app_modules_analytics_services_AnalyticsService__.a,nameChangeService:__WEBPACK_IMPORTED_MODULE_22__modules_integrator_communication_services_NameChangeService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({showFriends:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowFriends,showPlayerCard:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.r,showNotifications:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowNotifications,isInMobileView:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowMobileTabs,noActiveClickOnMenu:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getNoActiveClickOnMenu,collapsedHeight:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getCollapsedHeight,loadedNotifications:function(state){return __WEBPACK_IMPORTED_MODULE_18__stores_PopulationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_19__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_20__stores_NewsStore__.a.loaded(state)},nbNotifications:0,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnArabLocale:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsOnArabLocale,isAvatarImageLoadin:__WEBPACK_IMPORTED_MODULE_23__stores_ChangeAvatarStore__.a.getIsAvatarImageLoadin,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationQueries.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({bgColor:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getBackgroundColor,userId:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId,avatarUrl:__WEBPACK_IMPORTED_MODULE_16_app_modules_avatars_queries_AvatarsQueries__.a.getMyAvatar,nbNotifications:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.m},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__.a.loadedMyProfiles,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({username:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.i})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_17_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!0,nbConnections:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.M}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!1,nbConnections:0})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_18__stores_PopulationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_19__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_20__stores_NewsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({nbNotifications:__WEBPACK_IMPORTED_MODULE_21__queries_NotificationsQueries__.a.getNbOfNotifications}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({nbNotifications:0})))))}),__metadata("design:paramtypes",[])],OverlayController)},function(module,exports,__webpack_require__){"use strict";function OverlayView(props){return React.createElement("div",{id:"menu",style:{height:props.collapsedHeight+"px"}},React.createElement("div",{className:"menu_container_extended",style:{height:props.collapsedHeight+"px"},onClick:props.handleOnClickMenu}),React.createElement("div",{className:"menu_container",style:{height:props.collapsedHeight+"px",backgroundColor:props.bgColor}},React.createElement(__WEBPACK_IMPORTED_MODULE_0__FriendsActivityFeed_views_FriendsNotificationView__.a,{nbFriends:props.nbFriends,loaded:props.loadedNbOfFriendsOnline,handleFriendsOnClick:props.handleFriendsOnClick,showFriends:props.showFriends,showNotifications:props.showNotifications,loadedNotifications:props.loadedNotifications,handleNotificationsOnClick:props.handleNotificationsOnClick,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize,isOnArabLocale:props.isOnArabLocale},React.createElement(__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_controllers_FriendsActivityFeedController__.a,{show:props.showFriends,isInMobileView:props.isInMobileView}),React.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_NotificationsPanel_controllers_NotificationsPanelController__.a,null),React.createElement(__WEBPACK_IMPORTED_MODULE_3_app_components_Expanded_controllers_ExpandedController__.a,{show:props.showPlayerCard||props.isInMobileView&&props.showMobileTabs,avatarUrl:props.avatarUrl})),React.createElement(__WEBPACK_IMPORTED_MODULE_1__Collapsed_views_CollapsedView__.a,{avatarUrl:props.avatarUrl,username:props.username,isActive:props.showPlayerCard,showMobileTabs:props.showMobileTabs,isInMobileView:props.isInMobileView,onClick:props.onClickPlayerCard,hasNotifications:props.nbNotifications>0||props.nbFriends>0,isInDesktopResize:props.isInDesktopResize,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showNotifications:props.showNotifications}),React.createElement(__WEBPACK_IMPORTED_MODULE_2__MobileNav_views_MobileNavView__.a,{swipeRef:props.swipeRef,handleFriendsOnClick:props.handleFriendsOnMobileClick,onClickPlayerCard:props.onClickMobilePlayerCard,nbFriends:props.nbFriends,isVisible:props.isInMobileView,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showMobileTabs:props.showMobileTabs,showNotifications:props.showNotifications,handleNotificationsOnClick:props.handleOnMobileNotifications,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize,handleOnClickMenu:props.handleOnClickMenu})))}var __WEBPACK_IMPORTED_MODULE_0__FriendsActivityFeed_views_FriendsNotificationView__=__webpack_require__(828),__WEBPACK_IMPORTED_MODULE_1__Collapsed_views_CollapsedView__=__webpack_require__(789),__WEBPACK_IMPORTED_MODULE_2__MobileNav_views_MobileNavView__=__webpack_require__(841),__WEBPACK_IMPORTED_MODULE_3_app_components_Expanded_controllers_ExpandedController__=__webpack_require__(799),__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_controllers_FriendsActivityFeedController__=__webpack_require__(815),__WEBPACK_IMPORTED_MODULE_5_app_components_NotificationsPanel_controllers_NotificationsPanelController__=__webpack_require__(842);exports.a=OverlayView},function(module,exports,__webpack_require__){"use strict";function RewardItemView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-item-container",{"is-locked":props.isLocked}),onClick:props.onClickReward.bind(null,props.rewardId,props.spaceId,props.offset)},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Overlay_views_ImageLoaderView__.a,{imgSrc:props.rewardImg,placeholderSrc:rewardPlaceholderImg,alt:"reward",title:"reward",className:"reward-item-image",minHeight:props.isInMobileView||props.showMobileViewOnDesktop?204:185}),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-label",{"is-redeemed":props.isRedeemed})},props.isFree&&!props.isRedeemed?React.createElement("span",{className:"reward-label-free"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Free")):null,props.isRedeemed?React.createElement("span",{className:"reward-label-redeemed icon-checkmark"}):null,!props.hasUnits||props.isFree||props.isRedeemed?null:React.createElement("div",{className:"reward-unit-label"},React.createElement("span",{className:"reward-unit-icon"}),React.createElement("span",{className:"reward-unit-text"},props.units))),props.hasSlider?React.createElement("div",{className:"reward-slider-label"},props.purchaseQuantity,"/",props.purchaseLimit):null,React.createElement("div",{className:"reward-title-container"},React.createElement("div",{className:"reward-type"},React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-type-label",{"is-legendary":props.isLegendary,"is-epic":props.isEpic,"is-rare":props.isRare,"is-common":props.isCommon,"is-exotic":props.isExotic})},props.isExotic?React.createElement("span",{className:"reward-icon"}):null)),React.createElement("div",{className:"reward-text-title-container"},props.hasTags?React.createElement("span",{className:"reward-title-label"},props.tags.map(function(tag){return tag.displayName}).join(", ")):null,React.createElement("span",{className:"reward-title-text"},props.title))),props.isLocked?React.createElement("div",{className:"reward-overlay"},React.createElement("span",{className:"reward-icon-lock"})):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Overlay_views_ImageLoaderView__=__webpack_require__(595);exports.a=RewardItemView;var rewardPlaceholderImg=__webpack_require__(652)},function(module,exports,__webpack_require__){"use strict";function RewardsSlideView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-slide-container",{"is-locked":props.isLocked})},React.createElement("div",{className:"reward-slide-image-container"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__Overlay_views_ImageLoaderView__.a,{imgSrc:props.rewardImg,placeholderSrc:rewardPlaceholderImg,alt:"reward",title:"reward",className:"reward-item-image",minHeight:props.isInMobileView||props.showMobileViewOnDesktop?205:320}),props.isRedeemed||props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showMessageAfterPurchase?React.createElement("div",{className:"reward-label-redeemed"},React.createElement("span",{className:"icon-checkmark"})):null,props.multipleBuys?React.createElement("div",{className:"reward-label-multiple"},React.createElement("span",{className:"reward-multiple-label"},React.createElement("span",{className:"reward-multiple-label-item"},props.purchaseQuantity),"/",React.createElement("span",{className:"reward-multiple-label-item"},props.purchaseLimit))):null,React.createElement("div",{className:"reward-type"},React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-type-label",{"is-legendary":props.isLegendary,"is-epic":props.isEpic,"is-rare":props.isRare,"is-common":props.isCommon,"is-exotic":props.isExotic})},props.isExotic?React.createElement("span",{className:"reward-icon"}):null)),props.isLocked?React.createElement("div",{className:"reward-overlay"},React.createElement("span",{className:"reward-icon-lock"})):null),React.createElement("div",{className:"reward-title-container"},props.hasTags?React.createElement("span",{className:"reward-title-label"},props.tags.map(function(tag){return tag.displayName}).join(", ")):null,React.createElement("span",{className:"reward-title-text"},props.title),React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-subtitle",{"is-legendary":props.isLegendary,"is-epic":props.isEpic,"is-rare":props.isRare,"is-common":props.isCommon,"is-exotic":props.isExotic})},props.rarityDisplayName)),React.createElement("div",{className:"reward-descripton"},props.description),props.isLocked?React.createElement("div",{className:"reward-locked-container"},React.createElement("span",{className:"icon-lock1 reward-locked-icon"}),props.displayLockedStatusDescription?React.createElement("span",{className:"reward-locked-indication"},props.displayLockedStatusDescription):null,!props.displayLockedStatusDescription&&props.profilePlatformDisplayName?React.createElement("span",{className:"reward-locked-indication"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{platform:props.profilePlatformDisplayName},"You need to link your Ubisoft account to a %(platform) account to redeem this reward.")):null):null,props.multipleBuys&&props.canRedeemSeveralTimesMore?React.createElement("div",{className:"reward-warning-message"},React.createElement("span",{className:"icon-error"}),props.purchaseLimit-props.purchaseQuantity===1?React.createElement("span",{className:"reward-warning-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nbTimes:props.purchaseLimit-props.purchaseQuantity},"You can redeem this reward %(nbTimes) more time.")):null,props.purchaseLimit-props.purchaseQuantity>1?React.createElement("span",{className:"reward-warning-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{nbTimes:props.purchaseLimit-props.purchaseQuantity},"You can redeem this reward %(nbTimes) more times.")):null):null,props.notEnoughUnits&&!props.isRedeemed?React.createElement("div",{className:"reward-units-message"},React.createElement("span",{className:"icon-warning1"}),React.createElement("span",{className:"reward-units-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{units:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Units")),reward:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Reward"))},"You don't have enough %(units) to get this %(reward)."))):null,React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-redeemed-container in-back load-element",{"in":!props.loadedFriendsRewards})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Overlay_views_LoaderView__.a,{loaded:props.loadedFriendsRewards}),props.hasFriendsOwningReward?null:React.createElement("div",{className:"rewards-redeemed-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"None of your friends redeemed this reward.")),props.hasFriendsOwningReward?React.createElement("div",{className:"rewards-redeeemed-avatars"},1===props.nbFriendsOwningReward?[React.createElement("div",{className:"rewards-redeeemed-avatar-container",key:"0"},React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"}))),React.createElement("div",{className:"rewards-redeemed-text",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{playerName:React.createElement("span",{className:"rewards-redeemed-username"},props.friendsOwningReward[0].userName)},"%(playerName) redeemed this reward."))]:null,2===props.nbFriendsOwningReward?[React.createElement("div",{className:"rewards-redeeemed-avatar-container",key:"0"},React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"})),React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[1].avatarUrl,alt:"avatar",title:"avatar"}))),React.createElement("div",{className:"rewards-redeemed-text",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{playerName1:React.createElement("span",{className:"rewards-redeemed-username"},props.friendsOwningReward[0].userName),playerName2:React.createElement("span",{className:"rewards-redeemed-username"},props.friendsOwningReward[1].userName)},"%(playerName1) and %(playerName2) redeemed this reward."))]:null,props.nbFriendsOwningReward>=3?[React.createElement("div",{className:"rewards-redeeemed-avatar-container",key:"0"},React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"})),React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[1].avatarUrl,alt:"avatar",title:"avatar"})),React.createElement("div",{className:"rewards-redeemed-avatar-image"},React.createElement("img",{src:props.friendsOwningReward[2].avatarUrl,alt:"avatar",title:"avatar"}))),React.createElement("div",{className:"rewards-redeemed-text",key:"1"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{playerName1:React.createElement("span",{className:"rewards-redeemed-username"},props.friendsOwningReward[0].userName),nbFriends:props.nbFriendsOwningReward-1},"%(playerName1) and %(nbFriends) friends redeemed this reward."))]:null):null),!props.isRedeemed&&!props.rewardsPurchaseState[props.rewardId]||!props.isRedeemed&&props.rewardsPurchaseState[props.rewardId]&&!props.rewardsPurchaseState[props.rewardId].showMessageAfterPurchase&&!props.rewardsPurchaseState[props.rewardId].hasApiError?React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("reward-actions-container in-back load-element",{"in":props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showApiLoader})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__Overlay_views_LoaderView__.a,{loaded:!props.rewardsPurchaseState[props.rewardId]||!props.rewardsPurchaseState[props.rewardId].showApiLoader}),!props.isFree||props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showApiLoader?null:React.createElement("div",{className:"reward-free"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Free")),!props.hasUnits||props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showApiLoader?null:React.createElement("div",{className:"reward-units"},React.createElement("span",{className:"reward-unit-icon"}),React.createElement("span",{className:"reward-unit-text"},props.units)),props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showApiLoader?null:React.createElement("div",{className:"reward-btn-container"},props.isLocked||props.notEnoughUnits?React.createElement("button",{className:"btn primary disabled"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Get it now")):null,props.isLocked||props.notEnoughUnits?null:React.createElement("button",{className:"btn primary",onClick:props.onClickGetIt.bind(null,props.rewardId,props.spaceId)},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Get it now")))):null,props.isRedeemed&&!props.rewardsPurchaseState[props.rewardId]||props.isRedeemed&&props.rewardsPurchaseState[props.rewardId]&&!props.rewardsPurchaseState[props.rewardId].showMessageAfterPurchase&&!props.rewardsPurchaseState[props.rewardId].hasApiError?React.createElement("div",{className:"reward-redeemed-message"},React.createElement("span",{className:"reward-redeemed-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You've redeemed this reward."))):null,props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].showMessageAfterPurchase&&!props.rewardsPurchaseState[props.rewardId].hasApiError?React.createElement("div",{className:"reward-redeemed-message"},React.createElement("span",{className:"icon-checkmark"}),React.createElement("span",{className:"reward-redeemed-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You've successfully redeemed this reward."))):null,props.rewardsPurchaseState[props.rewardId]&&props.rewardsPurchaseState[props.rewardId].hasApiError?React.createElement("div",{className:"reward-erorr-message"},React.createElement("span",{className:"icon-close"}),React.createElement("span",{className:"reward-error-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Sorry! The reward couldn't be redeemed."))):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__Overlay_views_LoaderView__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_3__Overlay_views_ImageLoaderView__=__webpack_require__(595);exports.a=RewardsSlideView;var rewardPlaceholderImg=__webpack_require__(652)},function(module,exports,__webpack_require__){"use strict";function CompareGameStatsView(props){return React.createElement("div",{className:"selected-game-stats-view"},props.showStatsHeaderOnFriendsDetails?React.createElement("div",{className:"game-stats-header"},React.createElement("i",{onClick:props.onClickGoBack,className:"icon-angle-left"}),React.createElement("div",{onClick:props.onClickGoBack,className:"game-title"},props.gameName),React.createElement("i",{onClick:props.onClickClose.bind(null),className:"icon-close closeIcon"})):null,React.createElement("div",{className:"game-stats-title"},props.isInMobileView||props.showMobileViewOnDesktop?React.createElement("div",{className:"selected-game-mobile"},React.createElement("div",{className:"selected-game-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),React.createElement("div",{className:"titles"},React.createElement("div",{className:"sectionSubtitle"},props.gameName),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Stats details"))))):null,props.isInMobileView||props.showMobileViewOnDesktop?null:[React.createElement("i",{onClick:props.onClickGoBack,className:__WEBPACK_IMPORTED_MODULE_4_classnames___default()({"show-stats-header":props.showStatsHeaderOnFriendsDetails,"icon-angle-left":!0}),key:"0"}),React.createElement("div",{onClick:props.onClickGoBack,className:__WEBPACK_IMPORTED_MODULE_4_classnames___default()("game-title",{"show-stats-header":props.showStatsHeaderOnFriendsDetails}),key:"1"},props.gameName)],React.createElement("div",{className:"platform-selected-wrapper"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__Platform_views_PlatformsSelectorView__.a,{
lastPlayedGameId:props.lastPlayedGameId,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,onChangePlatform:props.onChangePlatform,loadedLastPlayedGame:props.loadedLastPlayedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:props.hasOwnedPlatforms,hasOnlyOnePlatform:props.hasOnlyOnePlatform})),React.createElement("div",{className:"separator"})),React.createElement("div",{className:"contentBlock no-boreder-botttom"},React.createElement("div",{className:"game-stats-friends"},React.createElement("div",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Stats details"))),props.selectedFriendId&&props.gameStatsToCompareWithAFriend&&props.gameStatsToCompareWithAFriend.length>0?[React.createElement("div",{className:"compareHead",key:"0"},React.createElement("div",{className:"compareHead-you"},React.createElement("div",{className:"compareHead-avatar"},React.createElement("img",{src:props.myAvatarUrl,alt:"avatar"})),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"You")),React.createElement("div",{className:"compareHead-friend"},React.createElement("div",{className:"compareHead-avatar"},React.createElement("img",{src:props.friendAvatarUrl,alt:"avatar"})),React.createElement("span",null,props.friendName))),React.createElement(__WEBPACK_IMPORTED_MODULE_2__CompareFriendStatsView__.a,{gameStatsToCompareWithAFriend:props.gameStatsToCompareWithAFriend,locale:props.locale,key:"1"})]:null))}var __WEBPACK_IMPORTED_MODULE_0__Platform_views_PlatformsSelectorView__=__webpack_require__(209),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__CompareFriendStatsView__=__webpack_require__(598),__WEBPACK_IMPORTED_MODULE_3__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_4_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_4_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_classnames__);exports.a=CompareGameStatsView},function(module,exports,__webpack_require__){"use strict";function NoStatsSvgView(){return React.createElement("svg",{width:"209",height:"208",viewBox:"0 0 209 208",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M94.9231 190.77C142.93 190.77 181.846 193 181.846 195.493C181.846 197.985 142.93 200 94.9231 200C46.9162 200 8 197.985 8 195.493C8 193 46.9162 190.77 94.9231 190.77Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M108 173.847C148.784 173.847 181.846 140.785 181.846 100C181.846 59.2163 148.784 26.1543 108 26.1543C67.2159 26.1543 34.1538 59.2163 34.1538 100C34.1538 140.785 67.2159 173.847 108 173.847Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M158.008 170.238H160.146V168.1C160.146 167.596 160.346 167.113 160.703 166.757C161.059 166.4 161.542 166.2 162.046 166.2C162.55 166.2 163.033 166.4 163.39 166.757C163.746 167.113 163.946 167.596 163.946 168.1V170.238H166.085C166.589 170.238 167.072 170.439 167.428 170.795C167.784 171.151 167.985 171.635 167.985 172.138C167.985 172.642 167.784 173.126 167.428 173.482C167.072 173.838 166.589 174.038 166.085 174.038H163.946V176.177C163.946 176.681 163.746 177.164 163.39 177.52C163.033 177.877 162.55 178.077 162.046 178.077C161.542 178.077 161.059 177.877 160.703 177.52C160.346 177.164 160.146 176.681 160.146 176.177V174.038H158.008C157.504 174.038 157.021 173.838 156.664 173.482C156.308 173.126 156.108 172.642 156.108 172.138C156.108 171.635 156.308 171.151 156.664 170.795C157.021 170.439 157.504 170.238 158.008 170.238ZM198.038 94.6077H200.177V92.4692C200.177 91.9653 200.377 91.482 200.733 91.1257C201.09 90.7694 201.573 90.5692 202.077 90.5692C202.581 90.5692 203.064 90.7694 203.42 91.1257C203.777 91.482 203.977 91.9653 203.977 92.4692V94.6077H206.115C206.619 94.6077 207.103 94.8079 207.459 95.1642C207.815 95.5205 208.015 96.0038 208.015 96.5077C208.015 97.0116 207.815 97.4949 207.459 97.8512C207.103 98.2075 206.619 98.4077 206.115 98.4077H203.977V100.546C203.977 101.05 203.777 101.533 203.42 101.89C203.064 102.246 202.581 102.446 202.077 102.446C201.573 102.446 201.09 102.246 200.733 101.89C200.377 101.533 200.177 101.05 200.177 100.546V98.3923H198.038C197.535 98.3923 197.051 98.1921 196.695 97.8358C196.339 97.4795 196.138 96.9962 196.138 96.4923C196.138 95.9884 196.339 95.5051 196.695 95.1488C197.051 94.7925 197.535 94.5923 198.038 94.5923V94.6077ZM143.177 4.02308H145.315V1.9C145.315 1.39609 145.516 0.912816 145.872 0.556497C146.228 0.200178 146.711 0 147.215 0C147.719 0 148.203 0.200178 148.559 0.556497C148.915 0.912816 149.115 1.39609 149.115 1.9V4.02308H151.238C151.742 4.02308 152.226 4.22326 152.582 4.57957C152.938 4.93589 153.138 5.41917 153.138 5.92308C153.138 6.42699 152.938 6.91026 152.582 7.26658C152.226 7.6229 151.742 7.82308 151.238 7.82308H149.1V9.96154C149.1 10.4655 148.9 10.9487 148.543 11.305C148.187 11.6614 147.704 11.8615 147.2 11.8615C146.696 11.8615 146.213 11.6614 145.856 11.305C145.5 10.9487 145.3 10.4655 145.3 9.96154V7.82308H143.177C142.673 7.82308 142.19 7.6229 141.833 7.26658C141.477 6.91026 141.277 6.42699 141.277 5.92308C141.277 5.41917 141.477 4.93589 141.833 4.57957C142.19 4.22326 142.673 4.02308 143.177 4.02308ZM33.9154 23.4231H36.0538V21.2846C36.0538 20.7807 36.254 20.2974 36.6103 19.9411C36.9666 19.5848 37.4499 19.3846 37.9538 19.3846C38.4577 19.3846 38.941 19.5848 39.2973 19.9411C39.6537 20.2974 39.8538 20.7807 39.8538 21.2846V23.4231H41.9923C42.4962 23.4231 42.9795 23.6233 43.3358 23.9796C43.6921 24.3359 43.8923 24.8192 43.8923 25.3231C43.8923 25.827 43.6921 26.3103 43.3358 26.6666C42.9795 27.0229 42.4962 27.2231 41.9923 27.2231H39.8384V29.3615C39.8384 29.8654 39.6383 30.3487 39.2819 30.705C38.9256 31.0614 38.4424 31.2615 37.9384 31.2615C37.4345 31.2615 36.9513 31.0614 36.5949 30.705C36.2386 30.3487 36.0384 29.8654 36.0384 29.3615V27.2077H33.9154C33.4115 27.2077 32.9282 27.0075 32.5719 26.6512C32.2155 26.2949 32.0154 25.8116 32.0154 25.3077C32.0154 24.8038 32.2155 24.3205 32.5719 23.9642C32.9282 23.6079 33.4115 23.4077 33.9154 23.4077V23.4231Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M9.9 75.3305H12.0385V73.192C12.0385 72.6881 12.2386 72.2048 12.595 71.8485C12.9513 71.4922 13.4346 71.292 13.9385 71.292C14.4424 71.292 14.9256 71.4922 15.282 71.8485C15.6383 72.2048 15.8385 72.6881 15.8385 73.192V75.3305H17.9769C18.4808 75.3305 18.9641 75.5306 19.3204 75.8869C19.6767 76.2433 19.8769 76.7265 19.8769 77.2305C19.8769 77.7344 19.6767 78.2176 19.3204 78.574C18.9641 78.9303 18.4808 79.1304 17.9769 79.1304H15.8385V81.2843C15.8385 81.7882 15.6383 82.2715 15.282 82.6278C14.9256 82.9841 14.4424 83.1843 13.9385 83.1843C13.4346 83.1843 12.9513 82.9841 12.595 82.6278C12.2386 82.2715 12.0385 81.7882 12.0385 81.2843V79.1151H9.9C9.39609 79.1151 8.91282 78.9149 8.5565 78.5586C8.20018 78.2022 8 77.719 8 77.2151C8 76.7112 8.20018 76.2279 8.5565 75.8716C8.91282 75.5152 9.39609 75.3151 9.9 75.3151V75.3305Z",fill:"#2B2B2B"}),React.createElement("path",{d:"M141.894 71.1533H120.26C118.24 71.1533 116.654 72.7399 116.654 74.7591V85.5764H97.1827C95.1635 85.5764 93.5769 87.1629 93.5769 89.1822V99.9995H74.1058C72.0865 99.9995 70.5 101.586 70.5 103.605V125.24C70.5 127.259 72.0865 128.846 74.1058 128.846H95.7404C95.9567 128.846 96.2452 128.846 96.4615 128.773C96.6779 128.846 96.8942 128.846 97.1827 128.846H118.817C119.106 128.846 119.322 128.846 119.538 128.773C119.755 128.846 120.043 128.846 120.26 128.846H141.894C143.913 128.846 145.5 127.259 145.5 125.24V74.7591C145.5 72.812 143.913 71.1533 141.894 71.1533ZM76.2692 105.769H93.5769V123.076H76.2692V105.769ZM116.654 123.076H99.3462V103.605C99.3462 103.533 99.3462 103.461 99.3462 103.389V91.3456H116.654V123.076ZM139.731 123.076H122.423V76.9225H139.731V123.076Z",fill:"#A8A8A8"}),React.createElement("path",{d:"M94.3774 156.764L86.6487 132.032L36.814 126.154L21.9264 134.031L14.1538 161.363V176.337L25.8419 180.892L36.8432 169.827L42.6872 161.363H68.5177L77.5759 175.029L86.6341 181.539L95.6923 172.428L94.3774 156.764Z",fill:"#0D0D0D"}),React.createElement("path",{d:"M21.6263 156.454C19.1495 173.35 29.6865 170.339 35.2698 166.714L38.992 165.501L37.7466 170.325L27.8254 178.774L19.7232 180L14.7696 176.375L14.1538 164.902L17.8761 148.005L25.3205 135.333L29.0148 132.308C25.2272 139.914 22.732 148.069 21.6263 156.454ZM86.6674 156.454C89.1442 173.35 78.6072 170.339 73.0239 166.714L69.3017 165.501L70.603 170.325L80.5243 178.774L88.5845 179.986L93.5381 176.362L94.1538 164.888L90.4316 147.992L82.9871 135.319L79.2229 132.308C83.0299 139.911 85.544 148.066 86.6674 156.454Z",fill:"#2B2B2B"}),React.createElement("path",{fillRule:"evenodd",d:"M36.3784 125.24C34.7873 125.24 31.8498 125.42 28.7737 126.413C25.6977 127.407 22.4373 129.231 20.2768 132.55C18.1981 135.697 16.3375 140.504 14.6867 145.566C13.3402 149.643 12.2711 154.705 11.5391 159C10.8095 163.281 10.4038 166.867 10.4038 167.981C10.4038 171.641 11.2113 175.66 13.3048 178.784C15.4188 181.937 18.8196 184.134 23.8721 184.134C29.4588 184.134 33.8 180.375 38.0176 173.346C38.7331 172.165 40.4572 168.812 41.5408 166.432L41.5437 166.425C41.9544 165.493 42.8831 164.915 43.8695 164.915H64.4382C65.4813 164.915 66.3505 165.486 66.7639 166.425L66.7669 166.432C67.8508 168.812 69.5756 172.167 70.2907 173.347C74.5687 180.371 78.8471 184.134 84.4355 184.134C89.4881 184.134 92.8888 181.937 95.0028 178.784C97.0964 175.66 97.9038 171.641 97.9038 167.981C97.9038 166.867 97.4982 163.266 96.7686 158.977C96.0367 154.673 94.9676 149.611 93.6209 145.566C91.9701 140.504 90.1096 135.697 88.031 132.55C85.8705 129.231 82.61 127.407 79.534 126.413C76.4578 125.42 73.5204 125.24 71.9292 125.24H36.3784ZM93.6209 145.566L93.6202 145.564L93.0693 145.75L93.6209 145.566ZM25.5005 136.015C26.8455 133.949 29.1879 132.817 31.4497 132.207C33.6989 131.601 35.7698 131.538 36.4419 131.538H71.9292C72.6011 131.538 74.656 131.601 76.8972 132.207C79.149 132.816 81.4946 133.948 82.8723 136.017C84.2876 138.191 85.9179 142.035 87.7565 147.537C88.9497 151.213 89.9437 155.889 90.6401 159.882C91.3398 163.894 91.7264 167.143 91.7264 167.981C91.7264 170.917 91.0426 173.545 89.9221 175.211L89.9195 175.215C88.7798 176.94 87.0782 177.772 84.5625 177.772C83.6233 177.772 82.4923 177.579 81.0709 176.539C79.627 175.482 77.8657 173.537 75.7277 169.984C75.1683 169.042 73.5312 165.929 72.5903 163.714L72.5848 163.701C71.1571 160.545 67.9667 158.489 64.5651 158.489H43.9964C40.529 158.489 37.4036 160.547 35.9769 163.701C34.9764 165.909 33.3493 169.006 32.8287 169.991C30.6004 173.535 28.7948 175.479 27.3275 176.536C25.8802 177.58 24.7472 177.772 23.8086 177.772C22.5055 177.772 21.4539 177.558 20.592 177.141C19.7354 176.727 19.0347 176.097 18.4517 175.215L18.449 175.211C17.3291 173.545 16.6448 170.854 16.6448 167.981C16.6448 167.142 17.0161 163.891 17.7074 159.881C18.396 155.888 19.3899 151.213 20.6139 147.539L20.615 147.536C22.3903 142.097 24.0211 138.254 25.4984 136.018L25.5005 136.015Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M43.1954 143.252H40.2068V140.236C40.2068 138.762 39.0114 137.556 37.5503 137.556C36.0892 137.556 34.8937 138.762 34.8937 140.236V143.252H31.9051C30.444 143.252 29.2486 144.459 29.2486 145.933C29.2486 147.408 30.444 148.614 31.9051 148.614H34.8937V151.63C34.8937 153.104 36.0892 154.311 37.5503 154.311C39.0114 154.311 40.2068 153.104 40.2068 151.63V148.614H43.1954C44.6565 148.614 45.852 147.408 45.852 145.933C45.852 144.459 44.6565 143.252 43.1954 143.252Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M66.6066 145.933C64.3237 145.933 62.4558 147.818 62.4558 150.121C62.4558 152.425 64.3237 154.31 66.6066 154.31C68.8896 154.31 70.7575 152.425 70.7575 150.121C70.7575 147.818 68.9934 145.933 66.6066 145.933Z",fill:"#4A4A4A"}),React.createElement("path",{d:"M73.2476 137.556C70.9647 137.556 69.0968 139.441 69.0968 141.744C69.0968 144.048 70.9647 145.933 73.2476 145.933C75.5306 145.933 77.3985 144.048 77.3985 141.744C77.3985 139.441 75.5306 137.556 73.2476 137.556Z",fill:"#4A4A4A"}))}exports.a=NoStatsSvgView},function(module,exports,__webpack_require__){"use strict";function SelectedGameStatsView(props){return React.createElement("div",{className:"selected-game-stats-view"},props.showStatsHeaderOnPlayerCardDetails?React.createElement("div",{className:"game-stats-header"},React.createElement("i",{onClick:props.onClickGoBack,className:"icon-angle-left"}),React.createElement("div",{onClick:props.onClickGoBack,className:"game-title"},props.gameName),React.createElement("i",{onClick:props.onClickClose.bind(null),className:"icon-close closeIcon"})):null,React.createElement("div",{className:"game-stats-title"},props.isInMobileView||props.showMobileViewOnDesktop?React.createElement("div",{className:"selected-game-mobile"},React.createElement("div",{className:"selected-game-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_5__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:props.onClickGoBack,showGoBackText:!1}),React.createElement("div",{className:"titles"},React.createElement("div",{className:"sectionSubtitle"},props.gameName),React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"Stats details"))))):null,props.isInMobileView||props.showMobileViewOnDesktop?null:[React.createElement("i",{onClick:props.onClickGoBack.bind(null),className:"icon-angle-left",key:"0"}),React.createElement("div",{onClick:props.onClickGoBack.bind(null),className:"game-title",key:"1"},props.gameName)],React.createElement("div",{className:"platform-selected-wrapper"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__Platform_views_PlatformsSelectorView__.a,{lastPlayedGameId:props.lastPlayedGameId,selectedPlatformCode:props.selectedPlatformCode,platformsForSelect:props.platformsForSelect,onChangePlatform:props.onChangePlatform,loadedLastPlayedGame:props.loadedLastPlayedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:props.hasOwnedPlatforms,hasOnlyOnePlatform:props.hasOnlyOnePlatform})),React.createElement("div",{className:"separator"})),React.createElement("div",{className:"contentBlock no-boreder-botttom"},React.createElement("div",{className:"game-stats-friends"},React.createElement("div",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"Stats details")),React.createElement(__WEBPACK_IMPORTED_MODULE_2__Platform_views_SearchElementsSelectorView__.a,{selectedOptionKey:props.selectedFriendId,selectedOption:props.selectedFriendName,elementsForSelect:props.friendsPlayingGame,onChangeElement:props.onChangeFriend,onTypeOption:props.onTypeFriendName,loadedElements:props.loadedFriends,onToggleStopEventPropagation:props.onToggleStopEventPropagation,showTooltip:props.showFriendSelectorTooltip,locale:props.locale,onClickCloseTooltip:props.onClickCloseFriendTooltip,tooltipText:React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"You don't have any friends who own this game."),placeholderText:props.friendsSelectorPlaceholder})),!props.selectedFriendId||!props.gameStatsToCompareWithAFriend||props.gameStatsToCompareWithAFriend.length<=0?React.createElement(__WEBPACK_IMPORTED_MODULE_1__LastPlayedGameStatsView__.a,{isLoadedGameStats:props.isLoadedGameStats,hasLastPlayedGameStats:props.hasLastPlayedGameStats,lastPlayedGameStats:props.lastPlayedGameStats,statsCDNUrl:props.statsCDNUrl,clubUrl:props.clubUrl,locale:props.locale,onClickGameStats:props.onClickGameStats,showTitle:!1,showLink:!1,isFriendGame:!1}):null,props.selectedFriendId&&props.gameStatsToCompareWithAFriend&&props.gameStatsToCompareWithAFriend.length>0?[React.createElement("div",{className:"compareHead",key:"0"},React.createElement("div",{className:"compareHead-you"},React.createElement("div",{className:"compareHead-avatar"},React.createElement("img",{src:props.myAvatarUrl,alt:"avatar"})),React.createElement(__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__.a,null,"You")),React.createElement("div",{className:"compareHead-friend"},React.createElement("div",{className:"compareHead-avatar"},React.createElement("img",{src:props.friendAvatarUrl,alt:"avatar"})),React.createElement("span",null,props.selectedFriendName))),React.createElement(__WEBPACK_IMPORTED_MODULE_4__CompareFriendStatsView__.a,{gameStatsToCompareWithAFriend:props.gameStatsToCompareWithAFriend,locale:props.locale,key:"1"})]:null))}var __WEBPACK_IMPORTED_MODULE_0__Platform_views_PlatformsSelectorView__=__webpack_require__(209),__WEBPACK_IMPORTED_MODULE_1__LastPlayedGameStatsView__=__webpack_require__(302),__WEBPACK_IMPORTED_MODULE_2__Platform_views_SearchElementsSelectorView__=__webpack_require__(597),__WEBPACK_IMPORTED_MODULE_3__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_4__CompareFriendStatsView__=__webpack_require__(598),__WEBPACK_IMPORTED_MODULE_5__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98);exports.a=SelectedGameStatsView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_2__TooltipView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__webpack_require__(303));__webpack_require__.d(exports,"a",function(){return ShowTooltipByChildrenLengthView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},ShowTooltipByChildrenLengthView=function(_PureComponent){function ShowTooltipByChildrenLengthView(){_classCallCheck(this,ShowTooltipByChildrenLengthView);var _this=_possibleConstructorReturn(this,(ShowTooltipByChildrenLengthView.__proto__||Object.getPrototypeOf(ShowTooltipByChildrenLengthView)).apply(this,arguments));return _this.state={showTooltip:!1,parentOffsetWidth:null,childOffsetWidth:null},_this.parentRef=function(el){return _this._parentRef=el},_this.childRef=function(el){return _this._childRef=el},_this}return _inherits(ShowTooltipByChildrenLengthView,_PureComponent),_createClass(ShowTooltipByChildrenLengthView,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__TooltipView__.a,{className:this.props.tooltipClassName,showTooltip:!1,locale:this.props.locale,content:this.props.children,hasTrigger:!0,noTooltip:!this.state.showTooltip},React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()(this.props.parentClassName,"length-check-parent"),ref:this.parentRef},React.createElement("span",{className:"length-check-child",ref:this.childRef},this.props.children)))}},{key:"componentDidMount",value:function(){if(this._parentRef&&this._childRef){var showTooltip=!1,parentOffsetWidth=this._parentRef.offsetWidth,childOffsetWidth=this._childRef.offsetWidth;parentOffsetWidth<childOffsetWidth&&(showTooltip=!0),this.setState({showTooltip:showTooltip,parentOffsetWidth:parentOffsetWidth,childOffsetWidth:childOffsetWidth})}}},{key:"componentDidUpdate",value:function(prevProps,prevState){if(this._parentRef&&this._childRef&&(this._parentRef.offsetWidth!==this.state.parentOffsetWidth||this._childRef.offsetWidth!==this.state.childOffsetWidth)){var commonState={parentOffsetWidth:this._parentRef.offsetWidth,childOffsetWidth:this._childRef.offsetWidth};this._parentRef.offsetWidth<this._childRef.offsetWidth&&!prevState.showTooltip&&this.setState(__assign({showTooltip:!0},commonState)),this._parentRef.offsetWidth>=this._childRef.offsetWidth&&prevState.showTooltip&&this.setState(__assign({showTooltip:!1},commonState))}}}]),ShowTooltipByChildrenLengthView}(__WEBPACK_IMPORTED_MODULE_1_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__webpack_require__(7)),__WEBPACK_IMPORTED_MODULE_3__UserNameRulesView__=__webpack_require__(857),__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_views_GoBackView__=__webpack_require__(98);__webpack_require__.d(exports,"a",function(){return UserNameChangeView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),warning=__webpack_require__(938),UserNameChangeView=function(_PureComponent){function UserNameChangeView(){_classCallCheck(this,UserNameChangeView);var _this=_possibleConstructorReturn(this,(UserNameChangeView.__proto__||Object.getPrototypeOf(UserNameChangeView)).apply(this,arguments));return _this.state={userName:_this.props.userName},_this}return _inherits(UserNameChangeView,_PureComponent),_createClass(UserNameChangeView,[{key:"render",value:function(){return React.createElement("div",{className:"user-name-change-container"},this.props.isInMobileView||this.props.showMobileViewOnDesktop?React.createElement("div",{className:"username-change-mobile"},React.createElement("div",{className:"username-change-mobile-header"},React.createElement(__WEBPACK_IMPORTED_MODULE_4__FriendsActivityFeed_views_GoBackView__.a,{onClickGoBack:this.props.onClose,showGoBackText:!1}),React.createElement("div",{className:"titles"},React.createElement("div",{className:"sectionTitle"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Username Edition"))))):null,React.createElement("div",{className:"user-name-change"},this.props.isInMobileView||this.props.showMobileViewOnDesktop?null:React.createElement("span",{className:"title"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Username Edition")),React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("input-container",{"has-time-limit-error":this.props.hasUserTimeLimitError})},React.createElement("input",{type:"text",id:"user-name",className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("input-text",{"has-error":this.props.hasError}),onChange:this.handleChangeUserName.bind(this),value:this.state.userName}),this.props.hasUserTimeLimitError?React.createElement("i",{className:"icon-lock1"}):null),React.createElement("span",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("title-warning",{error:this.props.hasUserTimeLimitError})},React.createElement("img",{src:warning,alt:"warning",title:"warning",className:"warning-image"}),this.props.hasUserTimeLimitError?null:React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,{onceEveryThirtyDays:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"once every 30 days"))},"You can change it no more than %(onceEveryThirtyDays)."),this.props.hasUserTimeLimitError?React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"You've already changed your username once within the last 30 days."):null)),this.props.hasUserTimeLimitError?null:React.createElement(__WEBPACK_IMPORTED_MODULE_3__UserNameRulesView__.a,{showRules:this.props.showRules,hasError:this.props.hasError,errorType:this.props.errorType,localizedMessage:this.props.localizedMessage,onClickToggleShowRules:this.props.onClickToggleShowRules,hasUserNameLengthError:this.props.hasUserNameLengthError,hasUserNameStartError:this.props.hasUserNameStartError,hasUserNameCharactersError:this.props.hasUserNameCharactersError,hasUserNameCompanyError:this.props.hasUserNameCompanyError,hasUserNameUniqueError:this.props.hasUserNameUniqueError,hasUserNameRequiredError:this.props.hasUserNameRequiredError,hasUserNameRestrictedError:this.props.hasUserNameRestrictedError,hasUserNameLocalizedError:this.props.hasUserNameLocalizedError,hasUserNameGeneralError:this.props.hasUserNameGeneralError,hasUserNameUbisoftError:this.props.hasUserNameUbisoftError,callingValidation:this.props.callingValidation}),this.props.hasUserTimeLimitError?null:React.createElement("div",{className:"submit"},React.createElement("a",{onClick:this.props.onClose.bind(null),className:"btn secondary latPadding"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Cancel")),React.createElement("a",{onClick:this.props.onClickSaveUserName.bind(null,this.state.userName),className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("btn primary latPadding",{disabled:this.props.hasError})},React.createElement(__WEBPACK_IMPORTED_MODULE_2__modules_locale_components_Translate__.a,null,"Save"))))}},{key:"handleChangeUserName",value:function(event){var _this2=this;event&&event.target&&this.setState({userName:event.target.value},function(){_this2.props.checkIfUserNameIsValid(_this2.state.userName)})}},{key:"componentWillUnmount",value:function(){this.handleChangeUserName(this.state.userName)}}]),UserNameChangeView}(__WEBPACK_IMPORTED_MODULE_1_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function UserNameRulesView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_2__InfoDropdownView__.a,{showDropdown:!0,warningTypeDropdown:!0,arrowIconTypeDropdown:!0,onClickToggleShowDropdown:null,dropdownText:React.createElement("span",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Username rules"),":"),noDropDown:!0},React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("spinner-item",{ko:props.hasUserNameLengthError===!0,ok:props.hasUserNameLengthError===!1})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameLengthError===!0,"icon-checkmark":props.hasUserNameLengthError===!1,"icon-spinner":null===props.hasUserNameLengthError})}),React.createElement("span",{className:"spinner-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{threeToFifteen:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"3 to 15 characters"))},"Enter %(threeToFifteen)."))),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("spinner-item",{ko:props.hasUserNameStartError===!0,ok:props.hasUserNameStartError===!1})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameStartError===!0,"icon-checkmark":props.hasUserNameStartError===!1,"icon-spinner":null===props.hasUserNameStartError})}),React.createElement("span",{className:"spinner-text"},React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Start with a letter.")))),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("spinner-item",{ko:props.hasUserNameCharactersError===!0,ok:props.hasUserNameCharactersError===!1,validating:props.callingValidation})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameCharactersError===!0,"icon-checkmark":props.hasUserNameCharactersError===!1,validating:props.callingValidation,"icon-spinner":null===props.hasUserNameCharactersError})}),React.createElement("span",{className:"spinner-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{letters:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"letters")),numerals:React.createElement("strong",null,React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"numerals"))},"Use only %(letters), %(numerals), and the following punctuation: underscore (_), dash (-), and period (.)."))),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUserNameUbisoftError===!0||props.hasUserNameCompanyError===!0||props.hasUserNameLocalizedError===!0,ok:props.hasUserNameUbisoftError===!1||props.hasUserNameCompanyError===!1||props.hasUserNameLocalizedError===!1,validating:props.callingValidation})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameUbisoftError===!0||props.hasUserNameCompanyError===!0||props.hasUserNameLocalizedError===!0,"icon-checkmark":props.hasUserNameUbisoftError===!1||props.hasUserNameCompanyError===!1||props.hasUserNameLocalizedError===!1,validating:props.callingValidation})}),React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,'Please don\'t use any variation of "Ubisoft" in your username.')),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUserNameUniqueError===!0,ok:props.hasUserNameUniqueError===!1,validating:props.callingValidation})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameUniqueError===!0,"icon-checkmark":props.hasUserNameUniqueError===!1,validating:props.callingValidation})}),props.hasUserNameUniqueError?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Try to be unique. Duplicate usernames will be rejected."),props.hasUserNameUniqueError?[React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{
key:"0"},"Unavailable."),"",React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,{key:"2"},"Please enter another username.")]:null),React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({ko:props.hasUserNameRestrictedError===!0,ok:props.hasUserNameRestrictedError===!1,validating:props.callingValidation})},React.createElement("i",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"icon-close":props.hasUserNameRestrictedError===!0,"icon-checkmark":props.hasUserNameRestrictedError===!1,validating:props.callingValidation})}),props.hasUserNameRestrictedError?null:React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Don't use offensive words in your username."),props.hasUserNameRestrictedError?React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"Our filters detect the use of restricted words here."):null),props.hasUserNameGeneralError?React.createElement("li",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("ko",{validating:props.callingValidation})},React.createElement(__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__.a,null,"An error has occurred, please try again later.")):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__modules_locale_components_Translate__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__InfoDropdownView__=__webpack_require__(210);exports.a=UserNameRulesView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1_classnames__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__webpack_require__(4)),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);__webpack_require__.d(exports,"a",function(){return UserNameView});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UserNameView=function(_PureComponent){function UserNameView(){_classCallCheck(this,UserNameView);var _this=_possibleConstructorReturn(this,(UserNameView.__proto__||Object.getPrototypeOf(UserNameView)).apply(this,arguments));return _this.state={isHovering:!1},_this}return _inherits(UserNameView,_PureComponent),_createClass(UserNameView,[{key:"render",value:function(){var style=this.props.twoFactorAuthStatus?{pointerEvents:"none"}:{};return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("user-name-container",{hovered:this.state.isHovering&&!this.props.twoFactorAuthStatus})},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()({name:!this.state.isHovering||this.props.twoFactorAuthStatus,"edit-name":this.state.isHovering&&!this.props.twoFactorAuthStatus}),style:style,onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClick:this.props.onClickChangeUserName.bind(null)},this.props.userName),this.props.twoFactorAuthStatus?null:React.createElement("div",{className:"icon-container",onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClick:this.props.onClickChangeUserName.bind(null)},React.createElement("i",{className:"icon icon-edit"})))}},{key:"onMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({isHovering:!1})}}]),UserNameView}(__WEBPACK_IMPORTED_MODULE_0_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return IMAGE_MIN_SIZE});var IMAGE_MIN_SIZE=500},function(module,exports,__webpack_require__){"use strict";function _401Factory(serviceManager){var isReconnecting=!1,counter=0,channel=serviceManager.get(__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__.a),debugService=serviceManager.get(__WEBPACK_IMPORTED_MODULE_8__services_DebugService__.a);serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).addResponseErrorInterceptor(function(response){if(channel.setDebug(__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())),debugService.setDebug(__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())),401===response.statusCode&&4032===response.data.ErrorCode&&"MissingSso"==response.data.ErrorMessage)return Promise.reject(response);if(401===response.statusCode&&401013===response.data.errorCode&&"Access denied to the service"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&401011===response.data.errorCode&&"Invalid Ubi-AppId"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&4003===response.data.ErrorCode||400===response.statusCode&&4009===response.data.ErrorCode||403===response.statusCode&&1213===response.data.ErrorCode||403===response.statusCode&&3001===response.data.ErrorCode&&"PrivateSteamProfile"==response.data.errorMessage)return Promise.reject(response);if(403===response.statusCode&&"PromotionKeyRewards"===response.data.errorContext)switch(response.data.errorCode){case 1e3:case 1008:switch(response.data.message){case"ticket not valid":case"ticket profile not valid":case"ticket profile request not valid":debugService.warn("[401] 401 => PromotionKeyRewards => CASES");break;default:return debugService.warn("[401] 401 => PromotionKeyRewards => Default"),Promise.reject(response)}}return 403===response.statusCode&&1002===response.data.errorCode?Promise.reject(response):401!==response.statusCode&&403!==response.statusCode||0!==counter?Promise.reject(response):(debugService.warn("[401] GOT 401 for "+response.request.getPath()),debugService.warn("[401] Old ticket was: "+__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket),debugService.warn("[401] Headers are: "+JSON.stringify(response.request.getHeaderParams())),isReconnecting?(debugService.warn("[401] Is Reconnecting"),new Promise(function(resolve){setTimeout(function(){return isReconnecting?void debugService.warn("[401] Is **STIL** Reconnecting"):(debugService.warn("[401] Done"),response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).sessionId)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket)),response.request.getHeaderParams().token&&(response.request=response.request.header("Token",__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).token)),void resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request)))},5e3)})):(isReconnecting=!0,counter++,new Promise(function(resolve,reject){return debugService.warn("[401] Getting ticket ..."),channel.send(__WEBPACK_IMPORTED_MODULE_5__messages__.a.INTEGRATOR_401_FLOW),new Promise(function(){channel.subscribe(__WEBPACK_IMPORTED_MODULE_5__messages__.a.WIDGET_401_FLOW_NO_TICKET,function(){return debugService.warn("[401] No ticket from connect"),serviceManager.get(__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_communication_services_CommunicationService__.a).clickedOnLogout(),reject(response)}),channel.subscribe(__WEBPACK_IMPORTED_MODULE_5__messages__.a.WIDGET_401_FLOW_GOT_TICKET,function(getTicketResponse){return debugService.warn("[401] Got ticket from connect"),debugService.warn(getTicketResponse),serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_WritteCONNECTloginDataAction__.a({opId:getTicketResponse.opId,status:getTicketResponse.status,sessionId:getTicketResponse.payload.sessionId,ticket:getTicketResponse.payload.ticket,user_id:getTicketResponse.payload.userId,expiration:getTicketResponse.payload.expiration})),serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticatedAction({opId:getTicketResponse.opId,status:getTicketResponse.status,sessionId:getTicketResponse.payload.sessionId,ticket:getTicketResponse.payload.ticket,user_id:getTicketResponse.payload.userId,expiration:getTicketResponse.payload.expiration})),isReconnecting=!1,response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",getTicketResponse.payload.sessionId)),response.request.getHeaderParams().token&&(response.request=response.request.header("token",getTicketResponse.payload.token)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+getTicketResponse.payload.ticket)),debugService.warn("[401] Final request:"),debugService.warn(response.request),resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request).then(function(data){return counter=0,data}))})})})))})}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_5__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_7__actions_WritteCONNECTloginDataAction__=__webpack_require__(297),__WEBPACK_IMPORTED_MODULE_8__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5);exports.a=_401Factory},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_DeleteCONNECTloginDataAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(195)),__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__modules_di_ServiceManager__=__webpack_require__(603);__webpack_require__.d(exports,"a",function(){return AuthenticationAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AuthenticationAdapter=function(){function AuthenticationAdapter(serviceManager){_classCallCheck(this,AuthenticationAdapter),this.serviceManager=serviceManager}return _createClass(AuthenticationAdapter,[{key:"refreshIdentity",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.authenticate();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"authenticate",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var _this=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_0__queries_WidgetQueries__.a.getCONNECTloginData(this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())){_context2.next=6;break}return _context2.next=3,new Promise(function(resolve){return resolve(__WEBPACK_IMPORTED_MODULE_0__queries_WidgetQueries__.a.getCONNECTloginData(_this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()))});case 3:return _context2.abrupt("return",_context2.sent);case 6:return _context2.next=8,new Promise(function(resolve){return resolve(null)});case 8:return _context2.abrupt("return",_context2.sent);case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"logout",value:function(identity){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_DeleteCONNECTloginDataAction__.a),_context3.abrupt("return",new Promise(function(resolve){return resolve(!0)}));case 2:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"getRole",value:function(identity){return"member"}}]),AuthenticationAdapter}();AuthenticationAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4__modules_di_ServiceManager__.a])],AuthenticationAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginView__=__webpack_require__(863),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_6_app_services_BootstrapService__=__webpack_require__(315),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_10__stores_PageLoaderStore__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_11__analytics_services_AnalyticsService__=__webpack_require__(19);__webpack_require__.d(exports,"a",function(){return LoginController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoginController=function(_PureComponent){function LoginController(){return _classCallCheck(this,LoginController),_possibleConstructorReturn(this,(LoginController.__proto__||Object.getPrototypeOf(LoginController)).apply(this,arguments))}return _inherits(LoginController,_PureComponent),_createClass(LoginController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginView__.a,{onClickLogin:this.handleOnClickLogin,show:this.props.show,display:this.props.display,showSignInText:this.props.showSignInText,isInMobileView:this.props.isInMobileView,bgColor:this.props.bgColor,height:this.props.height})}},{key:"handleOnClickLogin",value:function(){this.props.analyticsService.trackEvent("user tab","player card","global nav","login","signing in"),this.props.communicationService.triggerThirdPartyStatusCheckAndLogin()}}]),LoginController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);LoginController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({bootstrapService:__WEBPACK_IMPORTED_MODULE_6_app_services_BootstrapService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__.a,pageLoaderService:__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__.a,analyticsService:__WEBPACK_IMPORTED_MODULE_11__analytics_services_AnalyticsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.a)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({showSignInText:__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getShowSignInText,isInMobileView:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getIsInMobileView,show:__WEBPACK_IMPORTED_MODULE_10__stores_PageLoaderStore__.a.getShowPageLoader,display:__WEBPACK_IMPORTED_MODULE_10__stores_PageLoaderStore__.a.getDisplayPageLoader,bgColor:__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLoginBackgroundColor,height:__WEBPACK_IMPORTED_MODULE_9_app_queries_WidgetQueries__.a.getCollapsedHeight})),__metadata("design:paramtypes",[])],LoginController)},function(module,exports,__webpack_require__){"use strict";function LoginView(props){return React.createElement("a",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("LoginView",{"is-loading":props.show&&props.display,"with-login-text":props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.TRUE||1==props.showSignInText}),style:{backgroundColor:props.bgColor,height:props.height+"px"},onClick:props.onClickLogin},props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1__messages__.d.AVATAR_SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1__messages__.d.TRUE&&1!=props.showSignInText||props.isInMobileView?null:React.createElement("div",{className:"login-avatar"}),props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_1__messages__.d.TRUE||1==props.showSignInText?React.createElement("span",{className:"login-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_2__locale_components_Translate__.a,null,"Log In")):null)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_2__locale_components_Translate__=__webpack_require__(7);exports.a=LoginView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_adapters_AuthenticationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(861));__webpack_require__.d(exports,"a",function(){return AuthenticationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AuthenticationProvider=function(){function AuthenticationProvider(){_classCallCheck(this,AuthenticationProvider)}return _createClass(AuthenticationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService}},{key:"provide",value:function(serviceManager){return new __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_adapters_AuthenticationAdapter__.a(serviceManager))}}]),AuthenticationProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ScriptLoaderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();"undefined"==typeof window.Promise&&(window.Promise=__webpack_require__(329));var ScriptLoaderService=function(){function ScriptLoaderService(){_classCallCheck(this,ScriptLoaderService)}return _createClass(ScriptLoaderService,[{key:"loadScript",value:function(url,id){var timeout=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,_this=this,reloadScript=arguments.length>3&&void 0!==arguments[3]&&arguments[3],urls=arguments[4];return new Promise(function(resolve,reject){var alreadyLoadedScript=_this.scriptAlreadyLoaded(urls&&urls.length?urls:[url]);if(alreadyLoadedScript&&!reloadScript)return resolve();var prior=document.getElementsByTagName("head")[0];alreadyLoadedScript&&reloadScript&&prior.removeChild(alreadyLoadedScript);var script=document.createElement("script");script.setAttribute("id",id),script.async=1,prior.appendChild(script);var resolved=!1,timeoutVar=setTimeout(function(){resolved||reject()},timeout);script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script=void 0,isAbort||(resolved=!0,clearTimeout(timeoutVar),resolve()))},script.src=url})}},{key:"scriptAlreadyLoaded",value:function(urls){for(var array=document.getElementsByTagName("script"),found=null,_loop=function(i){if(array.item(i).getAttribute("src")&&urls.find(function(url){var urlToSearchBy=url.split("://").length>1?url.split("://")[1]:url,scriptSrc=array.item(i).getAttribute("src").split("://").length>1?array.item(i).getAttribute("src").split("://")[1]:array.item(i).getAttribute("src");return!(!urlToSearchBy||!scriptSrc)&&(scriptSrc.indexOf(urlToSearchBy)!==-1||urlToSearchBy.indexOf(scriptSrc)!==-1)}))return found=array.item(i),"break"},i=0;i<array.length;i++){var _ret=_loop(i);if("break"===_ret)break}return found}}]),ScriptLoaderService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__ScriptLoaderService__=__webpack_require__(865),__WEBPACK_IMPORTED_MODULE_1__entities_Window__=__webpack_require__(109),__WEBPACK_IMPORTED_MODULE_2__utils_getLoginUrl__=__webpack_require__(624);__webpack_require__.d(exports,"a",function(){return UbisoftConnectService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();"undefined"==typeof window.Promise&&(window.Promise=__webpack_require__(329));var UbisoftConnectService=function(){function UbisoftConnectService(debugService,config,integratorConfig){_classCallCheck(this,UbisoftConnectService),this.debugService=debugService,this.config=config,this.integratorConfig=integratorConfig,this.scriptsLoaded=!1,this.isInitialized=!1,this.getTicketTimeout=3e3,this.scriptsTimeout=5e3,this.jqueryUrl="https://code.jquery.com/jquery-2.2.4.min.js",this.scriptLoader=new __WEBPACK_IMPORTED_MODULE_0__ScriptLoaderService__.a,this.localLogoutExpirationSeconds=30}return _createClass(UbisoftConnectService,[{key:"enableDebug",value:function(){this.debugService.enableDebug()}},{key:"disableDebug",value:function(){this.debugService.disableDebug()}},{key:"changeScriptsTimeoutTo",value:function(value){return this.scriptsTimeout=value,this}},{key:"changeGetTicketTimeout",value:function(value){return this.getTicketTimeout=value,this}},{key:"loadScripts",value:function(){var _this=this;if(this.scriptsLoaded)return this.debugService.log("[Ubisoft Connect] Scripts already loaded. Continue..."),Promise.resolve();if(!UbisoftConnectService.isBrowser())return this.debugService.log("[Ubisoft Connect] Cannot load scripts. Not in browser mode."),Promise.reject(null);var jqueryPromise=Promise.resolve();return window.jQuery||(this.debugService.log('[Ubisoft Connect] No jQuery present. Loading jquery from "'+this.jqueryUrl+'" ...'),jqueryPromise=this.scriptLoader.loadScript(this.jqueryUrl,"overlay-jquery",this.scriptsTimeout)),jqueryPromise.then(function(){return _this.debugService.log(["[Ubisoft Connect] Loaded jQuery.","[Ubisoft Connect] Loading Connect JS."]),_this.scriptLoader.loadScript(_this.config.connectJsUrl+"?t=1637065675","overlay-connectJs",_this.scriptsTimeout,!1,["https://ubistatic2-a.akamaihd.net/uplay-connect/v3/test/default/sdk/connectSdkPublic.js","https://ubistatic2-a.akamaihd.net/uplay-connect/v3/dev/default/sdk/connectSdkPublic.js","https://ubistatic2-a.akamaihd.net/uplay-connect/v3/uat/default/sdk/connectSdkPublic.js","https://ubistatic2-a.akamaihd.net/uplay-connect/v3/cert2/default/sdk/connectSdkPublic.js","https://ubistatic2-a.akamaihd.net/uplay-connect/v3/prod/default/sdk/connectSdkPublic.js"]).then(function(){
_this.debugService.log("[Ubisoft Connect] Loaded scripts"),_this.scriptsLoaded=!0})["catch"](function(error){throw _this.debugService.warn("[Ubisoft Connect] Cannot loadScripts. An error has occured."),error})})}},{key:"getLoginUrl",value:function(nextUrl,locale,externalLoginType,isInternetExplorer){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils_getLoginUrl__.a)(this.config.loginUrl,this.config.connectEndpoint,{appId:this.integratorConfig.appId,genomeId:this.integratorConfig.genomeId,lang:locale,nextUrl:nextUrl},externalLoginType,isInternetExplorer)}},{key:"initialize",value:function(nextUrl){var withTpc=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_this2=this,localLoginExpirationMinutes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,component=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!this.scriptsLoaded)throw new Error("You must first load the Ubisoft Connect scripts via the method loadScripts() before calling the 'initialize' method");return this.isInitialized?(this.debugService.log("[Ubisoft Connect] Initialized already. Continue..."),Promise.resolve()):UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var timeoutQueue=setTimeout(function(){_this2.debugService.log("[Ubisoft Connect] Cannot initialize for "+component+". Tiemout exceeded."),reject("[Ubisoft Connect] Timeout exceeded")},1e4);if(!window.Connect)return clearTimeout(timeoutQueue),_this2.debugService.log("[Ubisoft Connect] Connect does not exist"),reject();if(window.Connect&&window.Connect._sdk&&window.Connect._sdk.sdkStatus&&window.Connect._sdk.sdkStatus.sdkReady){var sender=window.Connect._sdk.configService.config.sender;return window.overlayConnectSDK=window.Connect._sdk,window.overlayConnectSDK.setAllConfig(_this2.config.connectEnv.toUpperCase(),_this2.integratorConfig.appId,_this2.integratorConfig.genomeId,_this2.integratorConfig.locale,nextUrl,withTpc,localLoginExpirationMinutes),window.overlayConnectSDK.configService.config.sender=sender,clearTimeout(timeoutQueue),_this2.debugService.log("[Ubisoft Connect] Saved connect SDK obj "+component),_this2.isInitialized=!0,resolve()}return _this2.debugService.log("[Ubisoft Connect] Initialize"),window.Connect.init({env:_this2.config.connectEnv.toUpperCase(),appId:_this2.integratorConfig.appId,genomeId:_this2.integratorConfig.genomeId,lang:_this2.integratorConfig.locale,nextUrl:nextUrl,thirdPartyCookiesSupport:withTpc,localLoginExpirationMinutes:localLoginExpirationMinutes}),!window.Connect.sdk||window.overlayConnectSDK?(clearTimeout(timeoutQueue),_this2.debugService.log("[Ubisoft Connect] connectSDK does not exist"),reject()):void window.Connect.sdk.subscribe(function(result){return window.overlayConnectSDK=result,clearTimeout(timeoutQueue),_this2.debugService.log("[Ubisoft Connect] Subscribed and aved connect SDK obj for "+component),_this2.isInitialized=!0,resolve()})}):(this.debugService.log("[Ubisoft Connect] Cannot initialize. Not in browser mode."),Promise.reject(null))}},{key:"getTicket",value:function(){var _this3=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var gotTicket=!1,timeoutQueue=setTimeout(function(){if(!gotTicket)return _this3.debugService.warn("[Ubisoft Connect] Get ticket timeout."),reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:_this3.getConnectSsoExpirationDate(60*_this3.config.localLoginExpirationMinutes*1e3)})},_this3.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getTicket)return _this3.debugService.error("[Ubisoft Connect] Could not find getTicket."),reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:_this3.getConnectSsoExpirationDate(60*_this3.config.localLoginExpirationMinutes*1e3)});var getTicket=window.overlayConnectSDK.getTicket();return getTicket?void getTicket.subscribe(function(getTicketResponse){return gotTicket=!0,clearTimeout(timeoutQueue),getTicketResponse&&getTicketResponse.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this3.debugService.log(["[Ubisoft Connect] Got ticket",getTicketResponse]),resolve({opId:getTicketResponse.opId,status:getTicketResponse.status,sessionId:getTicketResponse.payload.sessionId,ticket:getTicketResponse.payload.ticket,token:getTicketResponse.payload.token,user_id:getTicketResponse.payload.userId,expiration:getTicketResponse.payload.expiration||getTicketResponse.expirationDate})):(_this3.debugService.log(["[Ubisoft Connect] Could not get ticket.",getTicketResponse]),reject(getTicketResponse))}):(_this3.debugService.error("[Ubisoft Connect] Could not find getTicket."),reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:_this3.getConnectSsoExpirationDate(60*_this3.config.localLoginExpirationMinutes*1e3)}))}):(this.debugService.error("[Ubisoft Connect] Cannot getTicket. Not in browser mode."),Promise.reject(null))}},{key:"logout",value:function(ticket,sessionId){var _this4=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var loggedOut=!1,timeoutQueue=setTimeout(function(){loggedOut||reject(!1)},_this4.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.logout?void window.overlayConnectSDK.logout(ticket,sessionId).subscribe(function(result){return result&&result.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(loggedOut=!0,clearTimeout(timeoutQueue),_this4.debugService.log("[Ubisoft Connect] logout"),resolve(!0)):void reject(!1)}):(_this4.debugService.log("[Ubisoft Connect] Could not find logout."),reject(!1))}):Promise.reject(null)}},{key:"resetScriptLoading",value:function(){this.scriptsLoaded=!1,this.isInitialized=!1}},{key:"getUserData",value:function(ticket,sesssionId,userId,callback){var _this5=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var gotUserData=!1,timeoutQueue=setTimeout(function(){gotUserData||(_this5.debugService.log("[Ubisoft Connect] Get user Data timeout."),callback(null),reject())},_this5.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.getUserStatus?void window.overlayConnectSDK.getUserStatus(ticket,sesssionId,userId).subscribe(function(result){return gotUserData=!0,clearTimeout(timeoutQueue),result&&result.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this5.debugService.log(["[Ubisoft Connect] Got user data",result]),callback(result),resolve(result)):(_this5.debugService.log(["[Ubisoft Connect] Could not get user data.",result]),callback(result),reject())}):(_this5.debugService.log("[Ubisoft Connect] Could not find getUserStatus."),callback(null),reject())}):(this.debugService.log("[Ubisoft Connect] Cannot getUserData. Not in browser mode."),Promise.reject(null))}},{key:"triggerEmailActivation",value:function(ticket,sessionId,userId,callback){var _this6=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var triggeredEmailActivation=!1,timeoutQueue=setTimeout(function(){triggeredEmailActivation||(_this6.debugService.log("[Ubisoft Connect] Triggered email activation timeout."),callback(null),reject())},_this6.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.triggerEmailActivation?void window.overlayConnectSDK.triggerEmailActivation(ticket,sessionId,userId).subscribe(function(result){return triggeredEmailActivation=!0,clearTimeout(timeoutQueue),result&&result.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this6.debugService.log(["[Ubisoft Connect] Triggered email activation",result]),callback(result),resolve(result)):(_this6.debugService.log(["[Ubisoft Connect] Could not triggered email activation.",result]),callback(result),reject())}):(_this6.debugService.log("[Ubisoft Connect] Could not find triggerEmailActivation."),callback(null),reject())}):(this.debugService.log("[Ubisoft Connect] Cannot triggerEmailActivation. Not in browser mode."),Promise.reject(null))}},{key:"setTicket",value:function(ticket){var _this7=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var setTicket=!1,timeoutQueue=setTimeout(function(){setTicket||(_this7.debugService.log("[Ubisoft Connect] Set ticket timeout."),reject())},_this7.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.setTicket?void window.overlayConnectSDK.setTicket(ticket).subscribe(function(setTicketResponse){return setTicket=!0,clearTimeout(timeoutQueue),setTicketResponse&&setTicketResponse.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this7.debugService.log(["[Ubisoft Connect] Set ticket",setTicketResponse]),resolve({sessionId:setTicketResponse.payload.sessionId,ticket:setTicketResponse.payload.ticket,token:setTicketResponse.payload.token,user_id:setTicketResponse.payload.userId})):(_this7.debugService.log(["[Ubisoft Connect] Could not set ticket.",setTicketResponse]),reject())}):(_this7.debugService.log("[Ubisoft Connect] Could not set ticket."),reject())}):(this.debugService.log("[Ubisoft Connect] Cannot setTicket. Not in browser mode."),Promise.reject(null))}},{key:"getProfiles",value:function(ticket,sessionId,userId,callback){var _this8=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var getProfiles=!1,timeoutQueue=setTimeout(function(){getProfiles||(_this8.debugService.log("[Ubisoft Connect] get profiles timeout."),callback(null),reject())},_this8.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.getProfiles?void window.overlayConnectSDK.getProfiles(ticket,sessionId,userId).subscribe(function(result){return getProfiles=!0,clearTimeout(timeoutQueue),result&&result.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this8.debugService.log(["[Ubisoft Connect] Get profiles",result]),callback(result),resolve(result)):(_this8.debugService.log(["[Ubisoft Connect] Could not get profiles.",result]),callback(result),reject(result))}):(_this8.debugService.log("[Ubisoft Connect] Could not get profiles."),callback(null),reject())}):(this.debugService.log("[Ubisoft Connect] Cannot getProfiles. Not in browser mode."),Promise.reject(null))}},{key:"getTicketFromSsoId",value:function(){var _this9=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var getTicketFromSsoId=!1,timeoutQueue=setTimeout(function(){getTicketFromSsoId||(_this9.debugService.log("[Ubisoft Connect] get ticket from SSO ID timeout."),reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:_this9.getConnectSsoExpirationDate(60*_this9.config.localLoginExpirationMinutes*1e3)}))},_this9.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.getTicketFromSsoId?void window.overlayConnectSDK.getTicketFromSsoId(function(result){return clearTimeout(timeoutQueue),result&&result.status==__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?(_this9.debugService.log(["[Ubisoft Connect] Get ticket from SSO ID",result]),resolve({opId:result.opId,status:result.status,sessionId:result.payload.sessionId,ticket:result.payload.ticket,token:result.payload.token,user_id:result.payload.userId,expiration:result.payload.expiration||result.expirationDate})):(_this9.debugService.log(["[Ubisoft Connect] Could not get ticket from SSO ID.",result]),reject(result))}):(_this9.debugService.log("[Ubisoft Connect] Could not get ticket from SSO ID."),reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:_this9.getConnectSsoExpirationDate(60*_this9.config.localLoginExpirationMinutes*1e3)}))}):(this.debugService.log("[Ubisoft Connect] Cannot getTicketFromSsoId. Not in browser mode."),Promise.reject(null))}},{key:"getConnectUrl",value:function(){return this.config.connectEndpoint}},{key:"getThirdPartyStatus",value:function(){var _this10=this;return UbisoftConnectService.isBrowser()?new Promise(function(resolve,reject){var getTicketFromSsoId=!1,timeoutQueue=setTimeout(function(){getTicketFromSsoId||(_this10.debugService.log("[Ubisoft Connect] Get third party status timeout."),reject())},_this10.getTicketTimeout);return window.overlayConnectSDK&&window.overlayConnectSDK.getThirdPartyStatus?void window.overlayConnectSDK.getThirdPartyStatus().subscribe(function(thirdPartyStatus){return _this10.debugService.log("[Ubisoft Connect] Got third party status: "+thirdPartyStatus.status+"."),clearTimeout(timeoutQueue),resolve(thirdPartyStatus.status===__WEBPACK_IMPORTED_MODULE_1__entities_Window__.b.OK?!0:!1)}):(_this10.debugService.log("[Ubisoft Connect] Could not get third party status."),reject())}):(this.debugService.log("[Ubisoft Connect] Cannot get third party status. Not in browser mode."),Promise.reject(null))}},{key:"getConnectSsoExpirationDate",value:function(expiration){var date=new Date;return date.setTime(date.getTime()+expiration),date.getTime().toString()}}],[{key:"isBrowser",value:function(){return"undefined"!=typeof window}}]),UbisoftConnectService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__services_WidgetChannelService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(111)),__WEBPACK_IMPORTED_MODULE_2__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__modules_di_ServiceManager__=__webpack_require__(603);__webpack_require__.d(exports,"a",function(){return ConfigurationFromRequestAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConfigurationFromRequestAdapter=function(){function ConfigurationFromRequestAdapter(version,build,httpService,serviceManager){_classCallCheck(this,ConfigurationFromRequestAdapter),this.version=version,this.build=build,this.httpService=httpService,this.serviceManager=serviceManager}return _createClass(ConfigurationFromRequestAdapter,[{key:"loadConfiguration",value:function(env){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request,localeStorageEnv,_this=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__webpack_require__(226)),_context.prev=1,localStorage.getItem("overlay-env-v3")&&(localeStorageEnv=localStorage.getItem("overlay-env-v3").replace(/"/g,""),localeStorageEnv="local"==localeStorageEnv?"env":localeStorageEnv,request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__webpack_require__(193)("./"+localeStorageEnv+".json"))),_context.next=10;break;case 5:return _context.prev=5,_context.t0=_context["catch"](1),this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__services_WidgetChannelService__.a).send(__WEBPACK_IMPORTED_MODULE_2__messages__.a.INTEGRATOR_GET_ENV),_context.next=10,new Promise(function(resolve){_this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__services_WidgetChannelService__.a).subscribe(__WEBPACK_IMPORTED_MODULE_2__messages__.a.WIDGET_GET_ENV,function(env){if(env){var _localeStorageEnv=env.replace(/"/g,"");return _localeStorageEnv="local"==_localeStorageEnv?"env":_localeStorageEnv,request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__webpack_require__(193)("./"+_localeStorageEnv+".json")),resolve()}resolve()})});case 10:return env&&(request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__webpack_require__(193)("./"+("local"==env?"env":env)+".json"))),_context.abrupt("return",this.httpService.send(request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(config){try{localStorage.getItem("@configVersion")!==config.version,localStorage.getItem("@npmVersion")!==_this.version,localStorage.getItem("@buildVersion")!==_this.build,localStorage.setItem("@configVersion",config.version||"default"),localStorage.setItem("@npmVersion",_this.version||"default"),localStorage.setItem("@buildVersion",_this.build||"default")}catch(error){console.warn(error)}return config})["catch"](function(error){console.warn(error)}));case 12:case"end":return _context.stop()}},_callee,this,[[1,5]])}))}}]),ConfigurationFromRequestAdapter}();ConfigurationFromRequestAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__.a,__metadata("design:paramtypes",[String,String,__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService,__WEBPACK_IMPORTED_MODULE_4__modules_di_ServiceManager__.a])],ConfigurationFromRequestAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ConfigurationFromWebpackAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConfigurationFromWebpackAdapter=function(){function ConfigurationFromWebpackAdapter(version,build,config){_classCallCheck(this,ConfigurationFromWebpackAdapter),this.version=version,this.build=build,this.config=config}return _createClass(ConfigurationFromWebpackAdapter,[{key:"loadConfiguration",value:function(env){var _this=this,config=JSON.parse(this.config);return new Promise(function(resolve,reject){try{localStorage.getItem("@configVersion")!==config.version,localStorage.getItem("@npmVersion")!==_this.version,localStorage.getItem("@buildVersion")!==_this.build,localStorage.setItem("@configVersion",config.version||"default"),localStorage.setItem("@npmVersion",_this.version||"default"),localStorage.setItem("@buildVersion",_this.build||"default")}catch(error){return resolve(config)}return resolve(config)})}}]),ConfigurationFromWebpackAdapter}();ConfigurationFromWebpackAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__modules_di_injectable__.a,__metadata("design:paramtypes",[String,String,String])],ConfigurationFromWebpackAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_http__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(27)),__WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_http__),__webpack_require__(867)),__WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_adapters_ConfigurationFromWebpackAdapter__=__webpack_require__(868);__webpack_require__.d(exports,"a",function(){return ConfigurationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConfigurationProvider=function(){function ConfigurationProvider(){_classCallCheck(this,ConfigurationProvider)}return _createClass(ConfigurationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService}},{key:"provide",value:function(serviceManager){var env="prod",version="4.0.23",build=1637065675,config='{"env":"prod","assetsUrl":"https://ubistatic2-a.akamaihd.net/overlay/overlay-connect-integration/prod/public","overlayApplicationUrl":"https://overlay.ubisoft.com/overlay-connect-integration","overlayIndexUrl":"https://connect.ubisoft.com/indexOverlay.html","baseUrl":"/","version":"4.0.23","rewardsUrl":"//static8.cdn.ubi.com/u/Uplay","apiEnv":"prod","avatarsEnv":"prod","avatarsUrl":"https://ubisoft-avatars.akamaized.net","connectEnv":"prod","connectEndpoint":"https://connect.ubisoft.com","linkedAccountsApiEndpoint":"https://connect.ubisoft.com","connectJsUrl":"https://ubistatic2-a.akamaihd.net/uplay-connect/v3/prod/default/sdk/connectSdkPublic.js","loginUrl":"https://connect.ubisoft.com/login","loginNextUrl":"https://connect.ubisoft.com/logged-in.html","thirdPartyCookiesErrorUrl":"https://ubistatic2-a.akamaihd.net/overlay/overlay-connect-integration/prod/public/third-party-cookies-error.html","twitchUrl":"https://api.twitch.tv/kraken/oauth2/authorize","twitchID":"ik4kgnclcg9gv59ft7voz7ho5zzyuo2","twitchConnectUrl":"https://connect.ubi.com/Default/TwitchCallback","analyticsEnv":"prod","badgesSpaceId":"348db1b4-8cdd-400c-97bd-228e6b5a3fa3","clubUrl":"https://ubisoftconnect.com","accountUrl":"https://account.ubisoft.com","customerSupportUrl":"https://support.ubisoft.com","analyticsSdkUrl":"https://ubistatic-a.akamaihd.net/0106/prod/global/tracking/analyticssdk.js","twitchClientId":"6a9lcgtz1vpt9l49p1ib6alx86lczpz","statsCDNUrl":"https://ubiservices.cdn.ubi.com","webcenterAssetsUrl":"https://ubistatic2-a.akamaihd.net/uplay-webcenter/prod","betaPopulationsSpaceId":"d1035aa9-be98-4295-8184-39a53d3aae10","betaEnitySpaceId":"dc451c3a-d711-4751-95eb-53cea444f7fd","betaType":"Overlay_Notifications","enableDebug":false,"avatarsMaintenanceStartDate":"2020-05-18 06:58:00","avatarsMaintenanceEndDate":"2020-05-18 11:00:00","ubiServicesEndpoint":"https://public-ubiservices.ubi.com","uplayWebcenterEndpoint":"https://uplaywebcenter.ubi.com","websocketEndpoint":"wss://public-ws-ubiservices.ubi.com","websocketNotificationTypes":["FRIENDS_RELATIONSHIP_UPDATE","FRIENDS_RELATIONSHIP_TRIGGER"],"websocketSpaceIds":["45d58365-547f-4b45-ab5b-53ed14cc79ed"],"ubiStoreUrl":"http://store.ubi.com","localLoginExpirationMinutes":10}';return"prod"!==env&&"cert2"!==env?new __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__.a(version,build,serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_http__.HttpService),serviceManager)):new __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_adapters_ConfigurationFromWebpackAdapter__.a(version,build,config))}}]),ConfigurationProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return AbstractProvider});var AbstractProvider=function AbstractProvider(){_classCallCheck(this,AbstractProvider)}},function(module,exports,__webpack_require__){"use strict";function namespace(namespace){return function(entity){return entity.namespace=namespace,entity}}function getNamespacedName(object){var name="function"==typeof object?object.name:object.constructor.name;return object.namespace&&(name=object.namespace+"/"+name),object.constructor.namespace&&(name=object.constructor.namespace+"/"+name),name}exports.b=namespace,exports.a=getNamespacedName},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_services_BootstrapService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(315)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(213),__WEBPACK_IMPORTED_MODULE_3__services_GeneralChannelService__=__webpack_require__(317),__WEBPACK_IMPORTED_MODULE_4__services_WidgetChannelService__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_5__services_SocialNetworkService__=__webpack_require__(319),__WEBPACK_IMPORTED_MODULE_6__entities_LinkedAccounts__=__webpack_require__(600),__WEBPACK_IMPORTED_MODULE_7__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_8__CommunicationService__=__webpack_require__(23),__WEBPACK_IMPORTED_MODULE_9__analytics_services_AnalyticsService__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_11__services_ProfilesService__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_12__actions_LoadedMyUserProfilesAction__=__webpack_require__(202),__WEBPACK_IMPORTED_MODULE_13__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_14__actions_PsnExpirationAction__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_15__actions_XboxExpirationAction__=__webpack_require__(298);__webpack_require__.d(exports,"a",function(){return BootstrapCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},_require=__webpack_require__(505),BroadcastChannel=_require.BroadcastChannel,BootstrapCommunicationService=function(_AbstractActions){function BootstrapCommunicationService(bootstrapService,emailVerificationService,channel,overlayChannel,socialNetworkService,communicationService,analyticsService,profilesService){_classCallCheck(this,BootstrapCommunicationService);var _this=_possibleConstructorReturn(this,(BootstrapCommunicationService.__proto__||Object.getPrototypeOf(BootstrapCommunicationService)).call(this));return _this.bootstrapService=bootstrapService,_this.emailVerificationService=emailVerificationService,
_this.channel=channel,_this.overlayChannel=overlayChannel,_this.socialNetworkService=socialNetworkService,_this.communicationService=communicationService,_this.analyticsService=analyticsService,_this.profilesService=profilesService,_this}return _inherits(BootstrapCommunicationService,_AbstractActions),_createClass(BootstrapCommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){var loggedInChannel=_this2.channel.subscribe("ubisoftConnect@LOGGED_IN",function(query){_this2.onLoggIn(query),loggedInChannel()}),reInitChannel=_this2.overlayChannel.subscribe(__WEBPACK_IMPORTED_MODULE_7__messages__.a.WIDGET_RE_INIT,function(){_this2.bootstrapService.initialize(!1,!0).then(function(){return _this2.reloadSocialNetwork(null)}),reInitChannel()}),emailActivationChannel=_this2.overlayChannel.subscribe(__WEBPACK_IMPORTED_MODULE_7__messages__.a.WIDGET_TRIGGER_EMAIL_ACTIVATION,function(){_this2.emailVerificationService.afterTriggeredEmailVerification(),emailActivationChannel()});try{var channel=new BroadcastChannel("internal_notification",{webWorkerSupport:!1});channel.onmessage=function(msg){msg&&msg.data&&msg.data.txt&&"ubisoftConnect@LOGGED_IN"===msg.data.txt&&_this2.onLoggIn(msg.data)}}catch(error){console.error(error)}return resolve()})}},{key:"reloadSocialNetwork",value:function(query){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(query&&query.query&&(!query.query||query.query.platform)){_context.next=2;break}return _context.abrupt("return",Promise.resolve());case 2:return _context.next=4,this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_LoadedMyUserProfilesAction__.a({},{},{},[],(!1),_defineProperty({},__WEBPACK_IMPORTED_MODULE_13__authentication_queries_IdentityQueries__.a.getUserId(this.getState()),0)));case 4:return _context.next=6,this.profilesService.loadMyUserProfile();case 6:_context.t0=query.query.platform,_context.next="XBOX"===_context.t0?9:"PSN"===_context.t0?12:15;break;case 9:return _context.next=11,this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_XboxExpirationAction__.a(0));case 11:return _context.abrupt("return",this.socialNetworkService.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_6__entities_LinkedAccounts__.a));case 12:return _context.next=14,this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_PsnExpirationAction__.a(0));case 14:return _context.abrupt("return",this.socialNetworkService.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_6__entities_LinkedAccounts__.b));case 15:return _context.abrupt("return",Promise.resolve());case 16:case"end":return _context.stop()}},_callee,this)}))}},{key:"onLoggIn",value:function(query){var _this3=this;this.analyticsService.loadSCodeScript(),this.overlayChannel.send(__WEBPACK_IMPORTED_MODULE_7__messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL),this.bootstrapService.initialize(!0,!1,query).then(function(){return _this3.reloadSocialNetwork(query)})}}]),BootstrapCommunicationService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);BootstrapCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_10__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1_app_services_BootstrapService__.a,__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_EmailVerificationService__.a,__WEBPACK_IMPORTED_MODULE_3__services_GeneralChannelService__.a,__WEBPACK_IMPORTED_MODULE_4__services_WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_5__services_SocialNetworkService__.a,__WEBPACK_IMPORTED_MODULE_8__CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_9__analytics_services_AnalyticsService__.a,__WEBPACK_IMPORTED_MODULE_11__services_ProfilesService__.a])],BootstrapCommunicationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__=__webpack_require__(109),__WEBPACK_IMPORTED_MODULE_2__authentication_services_UbisoftConnectService__=__webpack_require__(866),__WEBPACK_IMPORTED_MODULE_3__messages__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__=__webpack_require__(192);__webpack_require__.d(exports,"a",function(){return ConnectService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},ConnectService=function(){function ConnectService(appId,genomeId,config,integratorConfig){_classCallCheck(this,ConnectService),this.CONNECTerror="OverlayConnectError",this.CONNECTloginData="OverlayConnectLoginData",this.CONNECTssoExpiration="OverlayConnectSsoExpiration",this.CONNECTLogOut="OverlayConnectLogOut",this.CONNECTFormerSsoID="OverlayFormerSsoID",this.CONNECTFormerUrl="OverlayFormerUrl","undefined"==typeof window.Promise&&(window.Promise=__webpack_require__(329)),this.config=config,this.debugService=new __WEBPACK_IMPORTED_MODULE_0__services_DebugService__.a,this.ubisoftConnectService=new __WEBPACK_IMPORTED_MODULE_2__authentication_services_UbisoftConnectService__.a(this.debugService,this.config,integratorConfig),this.ubisoftConnectService.changeGetTicketTimeout(3e3),this.ubisoftConnectService.changeScriptsTimeoutTo(5e3);var enableDebug=void 0!==integratorConfig.enableDebug?integratorConfig.enableDebug:config.enableDebug;enableDebug?this.ubisoftConnectService.enableDebug():this.ubisoftConnectService.disableDebug()}return _createClass(ConnectService,[{key:"refreshIdentityFlow",value:function(nextUrl,payload){var _this=this,withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],leaveLocalStorageEmpty=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return this.check(nextUrl,!1,withTpc,"refreshIdentityFlow").then(function(){return _this.ubisoftConnectService.getThirdPartyStatus().then(function(thirdPartyStatus){return _this.thirdPartyStatus=thirdPartyStatus,thirdPartyStatus?_this.authenticate(nextUrl,!1,withTpc,leaveLocalStorageEmpty,payload):_this.refreshIdentityFlowWhenThirdPartyStatusDisabled(nextUrl,payload,withTpc,leaveLocalStorageEmpty)})})}catch(error){return this.debugService.info("[ConnectService] refreshIdentityFlow error"),this.debugService.error(error),Promise.reject(error)}}},{key:"refreshIdentityFlowWhenThirdPartyStatusDisabled",value:function(nextUrl,payload){var withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],leaveLocalStorageEmpty=arguments.length>3&&void 0!==arguments[3]&&arguments[3],alreadyTriedToAuthenticate=arguments.length>4&&void 0!==arguments[4]&&arguments[4],connectErrorFromLocalStorage=this.getItemFromLocalStorage(this.CONNECTerror),connectLoginDataFromLocalStorage=this.getItemFromLocalStorage(this.CONNECTloginData);if((connectLoginDataFromLocalStorage||connectErrorFromLocalStorage)&&!payload.afterLogin&&!payload.isReInit){this.debugService.info("[ConnectService] refreshIdentityFlow: has connectLoginDataFromLocalStorage & not afterLogin & not isReInit");var expiration=this.getCONNECTssoExpiration()?this.getCONNECTssoExpiration():connectLoginDataFromLocalStorage?connectLoginDataFromLocalStorage.expiration:connectErrorFromLocalStorage?connectErrorFromLocalStorage.expirationDate:null;return expiration&&!this.getIsExpired(expiration)?(this.debugService.info("[ConnectService] refreshIdentityFlow: is not expired"),console.log("connectLoginDataFromLocalStorage"),console.log(connectLoginDataFromLocalStorage),Promise.resolve(connectLoginDataFromLocalStorage)):(this.debugService.info("[ConnectService] refreshIdentityFlow: expired"),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeCONNECTssoExpiration(),alreadyTriedToAuthenticate?Promise.reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}):this.authenticate(nextUrl,!1,withTpc,leaveLocalStorageEmpty))}return(payload.afterLogin||payload.isReInit)&&(this.debugService.info("[ConnectService] refreshIdentityFlow: is afterLogin: "+payload.afterLogin+" | is isReInit: "+payload.isReInit),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeCONNECTssoExpiration()),alreadyTriedToAuthenticate?Promise.reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}):this.authenticate(nextUrl,!1,withTpc,leaveLocalStorageEmpty)}},{key:"ssoFlow",value:function(nextUrl){var _this2=this,withTpc=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.debugService.info("[ConnectService] ssoFlow"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().connectSsoId&&this.setItemInLocalStorage(this.CONNECTFormerSsoID,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().connectSsoId),this.authenticate(nextUrl,!0,withTpc).then(function(data){return _this2.debugService.log(["[ConnectService] ssoFlow success",data]),Promise.resolve(data)})["catch"](function(error){return _this2.debugService.log(["[ConnectService] ssoFlow error",error]),Promise.reject(error)})}},{key:"refreshStatusFlow",value:function(nextUrl){var _this3=this,withTpc=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],expirationDate=arguments[2];return this.debugService.info("[ConnectService] refreshStatusFlow"),this.check(nextUrl,!1,withTpc,"refreshStatusFlow").then(function(){var data=_this3.getItemFromLocalStorage(_this3.CONNECTloginData)?_this3.getItemFromLocalStorage(_this3.CONNECTloginData):null;if(_this3.getIsExpired(expirationDate)&&(_this3.debugService.info("[ConnectService] refreshStatusFlow is expired"),_this3.removeItemFromLocalStorage(_this3.CONNECTloginData)),data)return _this3.debugService.log(["[ConnectService] refreshStatusFlow success",data]),new Promise(function(resolve){return resolve(data)});var error={opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:expirationDate};return expirationDate&&(_this3.debugService.info("[ConnectService] refreshStatusFlow set error"),_this3.setItemInLocalStorage(_this3.CONNECTerror,__assign({},error))),_this3.debugService.log(["[ConnectService] refreshStatusFlow error",error]),new Promise(function(resolve,reject){return reject(error)})})}},{key:"authenticate",value:function(nextUrl,isSsoFlow){var withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_this4=this,leaveLocalStorageEmpty=arguments.length>3&&void 0!==arguments[3]&&arguments[3],payload=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{afterLogin:!1,isReInit:!1};return this.debugService.info("[ConnectService] authenticate"),this.check(nextUrl,isSsoFlow,withTpc,"authenticate").then(function(){return isSsoFlow?_this4.ubisoftConnectService.getTicketFromSsoId().then(function(data){return _this4.debugService.log("[ConnectService] authenticate getTicketFromSsoId success"),_this4.onAuthSuccess(data,leaveLocalStorageEmpty),Promise.resolve(data)})["catch"](function(error){return _this4.debugService.log(["[ConnectService] authenticate getTicketFromSsoId error",error]),_this4.authenticateWhenGetThirdPartyStatusInconsistency(error,nextUrl,withTpc,leaveLocalStorageEmpty,payload)}):_this4.ubisoftConnectService.getTicket().then(function(data){return _this4.debugService.log("[ConnectService] authenticate getTicket success"),_this4.onAuthSuccess(data,leaveLocalStorageEmpty),Promise.resolve(data)})["catch"](function(error){return _this4.debugService.log(["[ConnectService] authenticate getTicket error",error]),_this4.authenticateWhenGetThirdPartyStatusInconsistency(error,nextUrl,withTpc,leaveLocalStorageEmpty,payload)})})}},{key:"authenticateWhenGetThirdPartyStatusInconsistency",value:function(error,nextUrl){var withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],leaveLocalStorageEmpty=arguments.length>3&&void 0!==arguments[3]&&arguments[3],payload=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{afterLogin:!1,isReInit:!1};return this.thirdPartyStatus&&error.status===__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.THIRD_PARTY_COOKIES_DISABLED?(this.debugService.log(["[ConnectService] authenticate third party status inconsistency",error]),this.refreshIdentityFlowWhenThirdPartyStatusDisabled(nextUrl,payload,withTpc,leaveLocalStorageEmpty,!0)):(this.onAuthError(error,leaveLocalStorageEmpty),Promise.reject(error))}},{key:"triggerEmailActivation",value:function(ticket,sessionId,userId,nextUrl,callback,iframeCallback){var _this5=this,withTpc=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return this.debugService.info("[ConnectService] triggerEmailActivation"),this.check(nextUrl,!1,withTpc,"triggerEmailActivation").then(function(){return _this5.ubisoftConnectService.triggerEmailActivation(ticket,sessionId,userId,function(data){data?(callback(data),iframeCallback()):callback({errorMessage:"missingTicket",opId:"TriggerEmailActivation",status:"missingTicket"})})})}},{key:"logout",value:function(ticket,sessionId,nextUrl){var _this6=this,withTpc=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] logout"),this.removeAllOverlayDataFromLocaleStorage(),this.setItemInLocalStorage(this.CONNECTLogOut,"true"),this.setItemInLocalStorage(this.CONNECTerror,{opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}),this.check(nextUrl,!1,withTpc,"logout").then(function(){return _this6.ubisoftConnectService.logout(ticket,sessionId)})}},{key:"lgdOutFlow",value:function(nextUrl,thirdPartyCookiesSupport,onConnect){var _this7=this;return this.check(nextUrl,!1,thirdPartyCookiesSupport,"refreshIdentity lgdOut").then(function(){return _this7.removeItemFromLocalStorage(_this7.CONNECTLogOut),onConnect(__WEBPACK_IMPORTED_MODULE_3__messages__.b.LOGOUT,{opId:"GetTicket",status:"error",errorMessage:"no login data available"}),new Promise(function(resolve,reject){return reject(null)})})}},{key:"changeConfig",value:function(config){this.removeAllOverlayDataFromLocaleStorage(),this.ubisoftConnectService.resetScriptLoading(),this.config=config}},{key:"getUserData",value:function(ticket,sessionId,userId,nextUrl,callback){var _this8=this,withTpc=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return this.debugService.info("[ConnectService] getUserData"),this.check(nextUrl,!1,withTpc,"getUserData").then(function(){return _this8.ubisoftConnectService.getUserData(ticket,sessionId,userId,function(data){data?(_this8.debugService.info(["[ConnectService] got user data"]),callback(data)):(_this8.debugService.info(["[ConnectService] no user data"]),callback({errorMessage:"missingTicket",opId:"GetUserStatus",status:"missingTicket"}))})})}},{key:"getLoginUrl",value:function(nextUrl,locale,externalLoginType,isInternetExplorer){return this.debugService.info("[ConnectService] getLoginUrl"),this.ubisoftConnectService.getLoginUrl(nextUrl,locale,externalLoginType,isInternetExplorer)}},{key:"_401Flow",value:function(nextUrl,noTicketCallBack,gotTicketCallBack){var _this9=this,withTpc=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] _401Flow"),this.check(nextUrl,!1,withTpc,"_401Flow").then(function(){window.overlayConnectSDK.getTicket().subscribe(function(getTicketResponse){return _this9.debugService.warn(["[401] IN 401_stuff...",getTicketResponse]),getTicketResponse.status!==__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.OK?void noTicketCallBack():void gotTicketCallBack(getTicketResponse)})})}},{key:"check",value:function(nextUrl){var _this10=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this),withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],component=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"check";this.debugService.info("[ConnectService] check: "+component);var promise=Promise.resolve();return window.Connect&&window.overlayConnectSDK?(this.debugService.log("[ConnectService] Connect || overlayConnectSDK already created"),this.debugService.log(window.Connect),this.debugService.log(window.overlayConnectSDK)):(this.debugService.warn("[ConnectService] Connect || overlayConnectSDK objects not found"),promise=this.ubisoftConnectService.loadScripts().then(function(){return _this10.ubisoftConnectService.initialize(nextUrl,withTpc,_this10.config.localLoginExpirationMinutes,component)})),promise}},{key:"getConnectUrl",value:function(){return this.ubisoftConnectService.getConnectUrl()}},{key:"getTicket",value:function(nextUrl,callback,identity){var _this11=this,withTpc=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] getTicket"),this.check(nextUrl,!1,withTpc,"getTicket").then(function(){return _this11.ubisoftConnectService.getThirdPartyStatus().then(function(thirdPartyStatus){return _this11.thirdPartyStatus=thirdPartyStatus,thirdPartyStatus?_this11.getTicketWithCallback(callback,identity):_this11.getItemFromLocalStorage(_this11.CONNECTloginData)?(_this11.getTicketCallbackOnSuccess(callback,identity,_this11.getItemFromLocalStorage(_this11.CONNECTloginData)),Promise.resolve()):_this11.getItemFromLocalStorage(_this11.CONNECTLogOut)?(_this11.removeItemFromLocalStorage(_this11.CONNECTLogOut),callback({errorMessage:"no login data available",opId:"GetTicket",status:"error"}),Promise.resolve()):_this11.getItemFromLocalStorage(_this11.CONNECTerror)?(callback(_this11.getItemFromLocalStorage(_this11.CONNECTerror)),Promise.resolve()):_this11.getTicketWithCallback(callback,identity)})})}},{key:"getTicketWithCallback",value:function(callback,identity){var _this12=this;return this.ubisoftConnectService.getTicket().then(function(data){_this12.getTicketCallbackOnSuccess(callback,identity,data)})["catch"](function(error){callback({opId:error&&error.opId?error.opId:"GetTicket",status:error&&error.status?error.status:"no login data available",errorMessage:error&&error.errorMessage?error.errorMessage:"error"})})}},{key:"getTicketCallbackOnSuccess",value:function(callback,identity,data){callback({opId:data.opId,status:data.status?data.status:"ok",payload:{expiration:data.expiration,sessionId:data.sessionId,ticket:data.ticket,userId:data.user_id,nameOnPlatform:identity.nameOnPlatform}})}},{key:"getProfiles",value:function(ticket,sessionId,userId,callback,nextUrl){var _this13=this,withTpc=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return this.debugService.info("[ConnectService] getProfiles"),this.check(nextUrl,!1,withTpc,"getProfiles").then(function(){return _this13.ubisoftConnectService.getProfiles(ticket,sessionId,userId,function(data){callback(data?data:{errorMessage:"missingTicket",opId:"GetProfiles",status:"missingTicket"})})})}},{key:"getLocalStorageKey",value:function(key){return""+this.config.env.toUpperCase()+key}},{key:"removeItemFromLocalStorage",value:function(key){localStorage.removeItem(this.getLocalStorageKey(key))}},{key:"getItemFromLocalStorage",value:function(key){var item=localStorage.getItem(this.getLocalStorageKey(key));return item?JSON.parse(item):null}},{key:"setItemInLocalStorage",value:function(key,item){item="Object"==typeof item?JSON.stringify(item):item,localStorage.setItem(this.getLocalStorageKey(key),JSON.stringify(item))}},{key:"getIsExpired",value:function(expiration){var isExpired=expiration&&new Date(parseInt(expiration)).getTime()<=(new Date).getTime();return isExpired}},{key:"removeAllOverlayDataFromLocaleStorage",value:function(){this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTssoExpiration),this.removeItemFromLocalStorage(this.CONNECTFormerSsoID),this.removeItemFromLocalStorage(this.CONNECTLogOut)}},{key:"removeAllDataFromLocaleStorage",value:function(){this.removeItemFromLocalStorage("errorRefreshData"),this.removeItemFromLocalStorage("ssoCallBackStatusKey"),this.removeItemFromLocalStorage("loginData"),this.removeAllOverlayDataFromLocaleStorage()}},{key:"onAuthSuccess",value:function(data){var leaveLocalStorageEmpty=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.debugService.info("[ConnectService] onAuthSuccess"),leaveLocalStorageEmpty||(this.setItemInLocalStorage(this.CONNECTloginData,{opId:data.opId,ticket:data.ticket,user_id:data.user_id,sessionId:data.sessionId,token:data.token,expiration:data.expiration}),this.setCONNECTssoExpirationInLocalStorage(__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.OK))}},{key:"onAuthError",value:function(error){var leaveLocalStorageEmpty=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.debugService.info("[ConnectService] onAuthError"),!leaveLocalStorageEmpty){this.setItemInLocalStorage(this.CONNECTloginData,null),this.setItemInLocalStorage(this.CONNECTerror,error);var key=null;if(error&&error.status)switch(error.status){case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.READY:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.OK:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.OK;break;case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.ERROR:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.INVALID_DOMAIN:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.AGE_GATE_FAILED:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.MISSING_TICKET:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.MISSING_SESSION_ID:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.MISSING_USER_ID:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.THIRD_PARTY_COOKIES_DISABLED:case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.NO_LOGIN_DATA:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.NO_LOGIN_DATA;break;case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.SSO_RETRIEVE_ERROR:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.SSO_ERROR;break;case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.AGE_GATE_FAILED:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.AGE_GATE;break;case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.INVALID_CONFIG:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.INVALID_CONFIG;break;case __WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.b.TWO_FA_FAILED:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.INVALID_TWO_FA_STATUS;break;default:key=__WEBPACK_IMPORTED_MODULE_1__authentication_entities_Window__.c.NO_LOGIN_DATA}this.setCONNECTssoExpirationInLocalStorage(key)}}},{key:"setCONNECTssoExpirationInLocalStorage",value:function(withKey,withExpiration){var _this14=this,CONNECTssoExpiration=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().refreshStatus||withKey){var keys=withKey?[withKey]:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().refreshStatus?[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().refreshStatus]:["ok","noLoginData"],localStorageObj={};return keys.forEach(function(key){localStorageObj[key]=withExpiration?withExpiration:_this14.ubisoftConnectService.getConnectSsoExpirationDate(60*_this14.config.localLoginExpirationMinutes*1e3)}),CONNECTssoExpiration?void this.setItemInLocalStorage(this.CONNECTssoExpiration,__assign({},CONNECTssoExpiration,localStorageObj)):void this.setItemInLocalStorage(this.CONNECTssoExpiration,localStorageObj)}}},{key:"getCONNECTssoExpiration",value:function(ssoExpirationKey){var CONNECTssoExpiration=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(!CONNECTssoExpiration)return null;if(ssoExpirationKey)return CONNECTssoExpiration[ssoExpirationKey];var refreshStatus=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().refreshStatus;return refreshStatus&&CONNECTssoExpiration[refreshStatus]?CONNECTssoExpiration[refreshStatus]:CONNECTssoExpiration.ok||CONNECTssoExpiration.noLoginData}},{key:"removeCONNECTssoExpiration",value:function(){var CONNECTssoExpiration=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(CONNECTssoExpiration){var key=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_getQueryParameters__.a)().refreshStatus;return key?(delete CONNECTssoExpiration[key],void this.setItemInLocalStorage(this.CONNECTssoExpiration,CONNECTssoExpiration)):void this.removeItemFromLocalStorage(this.CONNECTssoExpiration)}}}]),ConnectService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HtmlEvents});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HtmlEvents=function(){function HtmlEvents(){_classCallCheck(this,HtmlEvents)}return _createClass(HtmlEvents,null,[{key:"add",value:function(element,evnt,funct){return element.attachEvent?element.attachEvent("on"+evnt,funct):element.addEventListener(evnt,funct,!1)}},{key:"remove",value:function(element,evnt,funct){return element.removeEvent?element.removeEvent("on"+evnt,funct):element.removeEventListener(evnt,funct)}}]),HtmlEvents}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(605)),__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationService=function(_AbstractActions){function IntegratorConfigurationService(){return _classCallCheck(this,IntegratorConfigurationService),_possibleConstructorReturn(this,(IntegratorConfigurationService.__proto__||Object.getPrototypeOf(IntegratorConfigurationService)).apply(this,arguments))}return _inherits(IntegratorConfigurationService,_AbstractActions),_createClass(IntegratorConfigurationService,[{key:"loadConfiguration",value:function(config){this.dispatch(new __WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a(config))}}]),IntegratorConfigurationService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);IntegratorConfigurationService=__decorate([__WEBPACK_IMPORTED_MODULE_2__modules_di_injectable__.a,__metadata("design:paramtypes",[])],IntegratorConfigurationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_2_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__),__WEBPACK_IMPORTED_MODULE_3__services_TranslatorService__=__webpack_require__(306),__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__entities_LocalStrings__=__webpack_require__(165);__webpack_require__.d(exports,"a",function(){return TranslatorProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),
Constructor}}(),TranslatorProvider=function(){function TranslatorProvider(){_classCallCheck(this,TranslatorProvider),this.localeMappings={"ar-AE":__webpack_require__(940),"zh-CN":__webpack_require__(941),"zh-TW":__webpack_require__(653),"zh-HK":__webpack_require__(653),"cs-CZ":__webpack_require__(942),"da-DK":__webpack_require__(943),"nl-NL":__webpack_require__(944),"en-GB":__webpack_require__(945),"en-CA":__webpack_require__(946),"en-US":__webpack_require__(947),"fi-FI":__webpack_require__(948),"fr-FR":__webpack_require__(949),"fr-CA":__webpack_require__(950),"de-DE":__webpack_require__(951),"hu-HU":__webpack_require__(952),"it-IT":__webpack_require__(953),"ja-JP":__webpack_require__(954),"ko-KR":__webpack_require__(955),"nb-NO":__webpack_require__(956),"pl-PL":__webpack_require__(957),"pt-PT":__webpack_require__(958),"pt-BR":__webpack_require__(959),"ru-RU":__webpack_require__(960),"es-ES":__webpack_require__(961),"es-MX":__webpack_require__(962),"sv-SE":__webpack_require__(963),"th-TH":__webpack_require__(964),"tr-TR":__webpack_require__(965),"uk-UA":__webpack_require__(966)},this.numbroMap={"ar-AE":__webpack_require__(176),"en-GB":__webpack_require__(176),"en-US":__webpack_require__(176),"en-CA":__webpack_require__(176),"zh-CN":__webpack_require__(643),"zh-TW":__webpack_require__(327),"zh-HK":__webpack_require__(327),"cs-CZ":__webpack_require__(625),"da-DK":__webpack_require__(626),"nl-NL":__webpack_require__(634),"fr-FR":__webpack_require__(326),"fr-CA":__webpack_require__(326),"fi-FI":__webpack_require__(628),"de-DE":__webpack_require__(627),"hu-HU":__webpack_require__(629),"it-IT":__webpack_require__(630),"ja-JP":__webpack_require__(631),"ko-KR":__webpack_require__(632),"nb-NO":__webpack_require__(633),"pl-PL":__webpack_require__(635),"pt-PT":__webpack_require__(637),"pt-BR":__webpack_require__(636),"ru-RU":__webpack_require__(638),"es-ES":__webpack_require__(325),"es-MX":__webpack_require__(325),"sv-SE":__webpack_require__(639),"th-TH":__webpack_require__(640),"tr-TR":__webpack_require__(641),"uk-UA":__webpack_require__(642)}}return _createClass(TranslatorProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_3__services_TranslatorService__.a}},{key:"provide",value:function(sm){var _this=this,mappings=this.localeMappings,locales=__WEBPACK_IMPORTED_MODULE_5__entities_LocalStrings__.b,translatorService=new __WEBPACK_IMPORTED_MODULE_3__services_TranslatorService__.a(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),{load:function(oldLocale){var locale=oldLocale.split("-")[1]?oldLocale.split("-")[0].toLowerCase()+"-"+oldLocale.split("-")[1].toUpperCase():oldLocale;locales.indexOf(locale)===-1&&(locale="en-GB");var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(mappings[locale]);return sm.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(request).then(function(response){var catalog={},data=JSON.parse(response.data.replace("module.exports = ","").replace("];","]"));return data.forEach(function(item){catalog[item.term]=item.definition}),catalog})}});return __WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())&&translatorService.enableDebug(),Object.keys(this.localeMappings).forEach(function(locale){var momentLocale=locale.split("-")[0];switch(locale=locale.split("-")[0]+"-"+locale.split("-")[1].toUpperCase(),locales.indexOf(locale)===-1&&(locale="en-GB"),locale){case"en-GB":momentLocale="en-gb",__WEBPACK_IMPORTED_MODULE_2_moment___default.a.defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}});break;case"en-US":case"en-CA":momentLocale="en";break;case"pt-BR":momentLocale="pt-br";break;case"zh-CN":momentLocale="zh-cn";break;case"zh-TW":case"zh-HK":momentLocale="zh-tw"}try{translatorService.registerDateLocale(momentLocale)}catch(error){console.warn(error)}}),Object.keys(this.numbroMap).forEach(function(locale){translatorService.registerNumbersLocale(locale,_this.numbroMap[locale])}),translatorService}}]),TranslatorProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(878)),__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_4__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_redux__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_7__stores_PageLoaderStore__=__webpack_require__(171);__webpack_require__.d(exports,"a",function(){return PageLoaderController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PageLoaderController=function(_PureComponent){function PageLoaderController(){return _classCallCheck(this,PageLoaderController),_possibleConstructorReturn(this,(PageLoaderController.__proto__||Object.getPrototypeOf(PageLoaderController)).apply(this,arguments))}return _inherits(PageLoaderController,_PureComponent),_createClass(PageLoaderController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__.a,{show:this.props.show,display:this.props.display,height:this.props.height,isBlue:!1})}}]),PageLoaderController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);PageLoaderController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.inject)({pageLoaderService:__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.a)(function(){return __WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({height:__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__.a.getCollapsedHeight,show:__WEBPACK_IMPORTED_MODULE_7__stores_PageLoaderStore__.a.getShowPageLoader,display:__WEBPACK_IMPORTED_MODULE_7__stores_PageLoaderStore__.a.getDisplayPageLoader})}),__metadata("design:paramtypes",[])],PageLoaderController)},function(module,exports,__webpack_require__){"use strict";function PageLoaderView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("PageLoader",{"PageLoader-show":props.show,"PageLoader-display":props.display}),style:{top:"calc("+props.height+"px/2 - 2.5rem)",height:props.height+"px"}},React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("PageLoader-container",{"PageLoader-container-blue":props.isBlue})},React.createElement("svg",{viewBox:"0 0 80 80",className:"css-gzkt9r"},React.createElement("circle",{fill:"none",strokeWidth:"15",strokeLinecap:"round",cx:"40",cy:"40",r:"30",className:"css-1x3cl5m"}))))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=PageLoaderView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__entities_Api__=__webpack_require__(215);__webpack_require__.d(exports,"a",function(){return ApplicationsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},maxApplicationIds=50,ApplicationsApi=function(_AbstractActions){function ApplicationsApi(httpService){_classCallCheck(this,ApplicationsApi);var _this=_possibleConstructorReturn(this,(ApplicationsApi.__proto__||Object.getPrototypeOf(ApplicationsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(ApplicationsApi,_AbstractActions),_createClass(ApplicationsApi,[{key:"getApplications",value:function(applicationIds){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,limit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:maxApplicationIds,iterator=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var _applicationIds,requests,request,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_applicationIds=applicationIds.slice(),requests=[];_applicationIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/applications").query("applicationIds",_applicationIds.splice(0,maxApplicationIds).join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),requests.push(request);return _context.abrupt("return",Promise.all(requests.map(function(request){return request=request.query("offset",offset).query("limit",limit),_this2.httpService.send(request).then(function(response){return response.data.applications.length>=maxApplicationIds&&iterator<__WEBPACK_IMPORTED_MODULE_6__entities_Api__.a?(iterator++,_this2.getApplications(response.request.getQueryParams().applicationIds.split(","),response.request.getQueryParams().offset+maxApplicationIds,limit,iterator).then(function(response2){return response.data.applications.concat(response2)})):response.data.applications})})).then(function(responses){return responses.reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context.stop()}},_callee,this)}))}}]),ApplicationsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ApplicationsApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],ApplicationsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__entities_Api__=__webpack_require__(215);__webpack_require__.d(exports,"a",function(){return AvatarsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AvatarsApi=function(_AbstractActions){function AvatarsApi(httpService){_classCallCheck(this,AvatarsApi);var _this=_possibleConstructorReturn(this,(AvatarsApi.__proto__||Object.getPrototypeOf(AvatarsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(AvatarsApi,_AbstractActions),_createClass(AvatarsApi,[{key:"getAvatarsConfigs",value:function(countryCode,encodingType){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/configs/avatars").query("countryCode",countryCode).header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return encodingType&&request.header("Accept-Encoding",encodingType),this.httpService.send(request).then(function(result){return result.data||{}})}},{key:"getUserAvatarById",value:function(userId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+userId+"/avatars").header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data||{}})}},{key:"getAvatarsFromGallery",value:function(countryCode,spaceIds){var offset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,limit=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,_this2=this,encodingType=arguments[4],iterator=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!spaceIds||!spaceIds.length){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/avatars/galleries").query("countryCode",countryCode).query("offset",offset).query("limit",limit).header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return encodingType&&request.header("Accept-Encoding",encodingType),this.httpService.send(request).then(function(result){return result.data.galleryAvatars.length>=limit&&iterator<__WEBPACK_IMPORTED_MODULE_6__entities_Api__.a?(iterator++,_this2.getAvatarsFromGallery(countryCode,[],offset+limit,limit,encodingType,iterator).then(function(secondResult){return result.data.galleryAvatars.concat(secondResult)})):result.data.galleryAvatars||[]})}for(var _spaceIds=spaceIds.slice(),requests=[];_spaceIds.length>0;){var _request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/avatars/galleries").query("countryCode",countryCode).query("spaceIds",_spaceIds.splice(0,20).join(",")).query("offset",offset).query("limit",limit).header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);encodingType&&_request.header("Accept-Encoding",encodingType),requests.push(_request)}return Promise.all(requests.map(function(request){return _this2.httpService.send(request).then(function(result){return result.data.galleryAvatars.length>=limit&&iterator<__WEBPACK_IMPORTED_MODULE_6__entities_Api__.a?(iterator++,_this2.getAvatarsFromGallery(countryCode,request.getQueryParams().spaceIds,offset+limit,limit,encodingType,iterator).then(function(secondResult){return result.data.galleryAvatars.concat(secondResult)})):result.data.galleryAvatars||[]})})).then(function(responses){return responses.reduce(function(prev,current){return prev.concat(current)},[])})}},{key:"saveAvatarFromGallery",value:function(userId,galleryAvatarId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+userId+"/avatars/galleries").post().body(JSON.stringify({galleryAvatarId:galleryAvatarId})).header("Content-Type","application/json").header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data||{}})}},{key:"saveUploadedAvatar",value:function(userId,base64EncodedIamgeData){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+userId+"/avatars").post().body(JSON.stringify({image:base64EncodedIamgeData})).header("Content-Type","application/json").header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data||{}})}}]),AvatarsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);AvatarsApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],AvatarsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__entities_Api__=__webpack_require__(215);__webpack_require__.d(exports,"a",function(){return ConnectionsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConnectionsApi=function(_AbstractActions){function ConnectionsApi(httpService){_classCallCheck(this,ConnectionsApi);var _this=_possibleConstructorReturn(this,(ConnectionsApi.__proto__||Object.getPrototypeOf(ConnectionsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(ConnectionsApi,_AbstractActions),_createClass(ConnectionsApi,[{key:"getConnectionsByProfileIds",value:function(profileIds){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,limit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,iterator=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var _profileIds,requests,request,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_profileIds=profileIds.slice(),requests=[];_profileIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/connections").query("profileIds",_profileIds.splice(0,50).join(",")).query("locale",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),requests.push(request);return _context.abrupt("return",Promise.all(requests.map(function(request){return request=request.query("offset",offset).query("limit",limit),_this2.httpService.send(request).then(function(response){return response.data.connections.length>=limit&&iterator<__WEBPACK_IMPORTED_MODULE_7__entities_Api__.a?(iterator++,_this2.getConnectionsByProfileIds(response.request.getQueryParams().profileIds.split(","),response.request.getQueryParams().offset+50,limit,iterator)):response.data.connections})})).then(function(responses){return responses.map(function(connections){return connections}).reduce(function(prev,current){return prev.concat(current);
},[])}));case 4:case"end":return _context.stop()}},_callee,this)}))}}]),ConnectionsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ConnectionsApi=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],ConnectionsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return EconomyApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EconomyApi=function(_AbstractActions){function EconomyApi(httpService){_classCallCheck(this,EconomyApi);var _this=_possibleConstructorReturn(this,(EconomyApi.__proto__||Object.getPrototypeOf(EconomyApi)).call(this));return _this.httpService=httpService,_this}return _inherits(EconomyApi,_AbstractActions),_createClass(EconomyApi,[{key:"getProfileUnitsByProfileId",value:function(profileId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+profileId+"/global/ubiconnect/economy/api/units").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})["catch"](function(err){return err})}}]),EconomyApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);EconomyApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],EconomyApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__entities_Friend__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(46)),__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_6__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return FriendsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsApi=function(_AbstractActions){function FriendsApi(httpService){_classCallCheck(this,FriendsApi);var _this=_possibleConstructorReturn(this,(FriendsApi.__proto__||Object.getPrototypeOf(FriendsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(FriendsApi,_AbstractActions),_createClass(FriendsApi,[{key:"getMyFriends",value:function(profileId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v3/profiles/"+profileId+"/friends").query("locale",__WEBPACK_IMPORTED_MODULE_6__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),_context.abrupt("return",this.httpService.send(request).then(function(result){return result.data.friends}));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"deleteFriend",value:function(profileId,pid){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v3/profiles/"+profileId+"/friends/"+pid)["delete"]().header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(response){return response.data.friends})}},{key:"acceptFriend",value:function(profileId,pid){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v3/profiles/"+profileId+"/friends/"+pid).put().body(JSON.stringify({state:__WEBPACK_IMPORTED_MODULE_2__entities_Friend__.a.FRIENDS})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(response){return response.data.friends})}},{key:"sendInviteFriend",value:function(profileId,pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var request;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v3/profiles/"+profileId+"/friends").post().body(JSON.stringify({friends:[pid]})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_5__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_4__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),_context2.abrupt("return",this.httpService.send(request).then(function(response){return response.data.friends}));case 2:case"end":return _context2.stop()}},_callee2,this)}))}}]),FriendsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsApi=__decorate([__WEBPACK_IMPORTED_MODULE_7__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],FriendsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return IpLocationApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},IpLocationApi=function(_AbstractActions){function IpLocationApi(httpService){_classCallCheck(this,IpLocationApi);var _this=_possibleConstructorReturn(this,(IpLocationApi.__proto__||Object.getPrototypeOf(IpLocationApi)).call(this));return _this.httpService=httpService,_this}return _inherits(IpLocationApi,_AbstractActions),_createClass(IpLocationApi,[{key:"getIpLocation",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/me/iplocation").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())),_context.abrupt("return",this.httpService.send(request).then(function(result){return result.data}));case 2:case"end":return _context.stop()}},_callee,this)}))}}]),IpLocationApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);IpLocationApi=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],IpLocationApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return LinkedAccountsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LinkedAccountsApi=function(_AbstractActions){function LinkedAccountsApi(httpService){_classCallCheck(this,LinkedAccountsApi);var _this=_possibleConstructorReturn(this,(LinkedAccountsApi.__proto__||Object.getPrototypeOf(LinkedAccountsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(LinkedAccountsApi,_AbstractActions),_createClass(LinkedAccountsApi,[{key:"getPlayStationFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getLinkedAccountsApiEndpoint(this.getState())+"/api/external/v1/psn/friends").query("offset",offset).query("limit",limit).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})}},{key:"getXboxFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getLinkedAccountsApiEndpoint(this.getState())+"/api/external/v1/xbl/friends").query("offset",offset).query("limit",limit).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})}}]),LinkedAccountsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);LinkedAccountsApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],LinkedAccountsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return MetaProgressionProfileApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},MetaProgressionProfileApi=function(_AbstractActions){function MetaProgressionProfileApi(httpService){_classCallCheck(this,MetaProgressionProfileApi);var _this=_possibleConstructorReturn(this,(MetaProgressionProfileApi.__proto__||Object.getPrototypeOf(MetaProgressionProfileApi)).call(this));return _this.httpService=httpService,_this}return _inherits(MetaProgressionProfileApi,_AbstractActions),_createClass(MetaProgressionProfileApi,[{key:"getMyMetaProgression",value:function(){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/me/global/ubiconnect/economy/api/metaprogression").get().header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})["catch"](function(err){return err})}},{key:"getProfileMetaProgressionByProfileId",value:function(profileId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+profileId+"/global/ubiconnect/economy/api/metaprogression").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})["catch"](function(err){return err})}}]),MetaProgressionProfileApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);MetaProgressionProfileApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],MetaProgressionProfileApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return NewsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NewsApi=function(_AbstractActions){function NewsApi(httpService){_classCallCheck(this,NewsApi);var _this=_possibleConstructorReturn(this,(NewsApi.__proto__||Object.getPrototypeOf(NewsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(NewsApi,_AbstractActions),
_createClass(NewsApi,[{key:"getNews",value:function(spaceIds,hasIdentity,placement,info,locale){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var _spaceIds,requests,callback,promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_spaceIds=spaceIds.slice(),requests=[],callback=function(ids){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(_this2.getState())+"/v1/spaces/news").query("spaceId",ids.join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(_this2.getState())).header("Ubi-localeCode",locale?locale:__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(_this2.getState())).header("Content-Type","application/json");return hasIdentity&&request.header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(_this2.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(_this2.getState()).ticket),null!=placement&&request.query("placement",placement),null!=info&&request.query("info",info),request};_spaceIds.length>0;)requests.push(callback(_spaceIds.splice(0,50)));return promises=requests.map(function(request){return _this2.httpService.send(request)}),_context.abrupt("return",Promise.all(promises).then(function(response){return null!=info&&response[0].data.AvailablePlacementsList?response.reduce(function(prev,current){return prev.concat(current.data.AvailablePlacementsList)},[]):response.reduce(function(prev,current){return prev.concat(current.data.news)},[])}));case 6:case"end":return _context.stop()}},_callee,this)}))}}]),NewsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NewsApi=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],NewsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return PopulationsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PopulationsApi=function(_AbstractActions){function PopulationsApi(httpService){_classCallCheck(this,PopulationsApi);var _this=_possibleConstructorReturn(this,(PopulationsApi.__proto__||Object.getPrototypeOf(PopulationsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(PopulationsApi,_AbstractActions),_createClass(PopulationsApi,[{key:"getMyPopulations",value:function(spaceIds,subjects){for(var _this2=this,_spaceIds=spaceIds.slice(),requests=[];_spaceIds.length>0;){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/me/populations").query("spaceIds",_spaceIds.splice(0,50).join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId);subjects&&0!==subjects.length&&request.query("subjects",subjects.join(",")),requests.push(request)}return Promise.all(requests.map(function(request){return _this2.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.populations}).reduce(function(prev,current){return prev.concat(current)},[])})}}]),PopulationsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);PopulationsApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],PopulationsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ProfileEntitiesApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ProfileEntitiesApi=function(_AbstractActions){function ProfileEntitiesApi(httpService){_classCallCheck(this,ProfileEntitiesApi);var _this=_possibleConstructorReturn(this,(ProfileEntitiesApi.__proto__||Object.getPrototypeOf(ProfileEntitiesApi)).call(this));return _this.httpService=httpService,_this}return _inherits(ProfileEntitiesApi,_AbstractActions),_createClass(ProfileEntitiesApi,[{key:"getProfileEntities",value:function(profileId,spaceId,type){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/"+profileId+"/entities").query("type",type).query("spaceId",spaceId).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Content-Type","application/json");return this.httpService.send(request).then(function(result){return result.data.entities})}},{key:"createProfileEntity",value:function(profileId,spaceId,name,obj,type){var body={entityId:"",extendedStorage:{fileExtension:"json"},name:name,obj:obj,spaceId:spaceId,tags:[],type:type?type:name},request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/"+profileId+"/entities").post().body(JSON.stringify(body)).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Content-Type","application/json");return this.httpService.send(request).then(function(result){return result.data})}},{key:"updateProfileEntity",value:function(entityId,spaceId,name,obj,revision,type){var body={extendedStorage:{fileExtension:"json"},name:name,obj:obj,spaceId:spaceId,revision:revision,tags:[],type:type?type:name},request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/entities/"+entityId).put().body(JSON.stringify(body)).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Content-Type","application/json");return this.httpService.send(request).then(function(result){return result.data})}}]),ProfileEntitiesApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ProfileEntitiesApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],ProfileEntitiesApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RecentlyMetApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RecentlyMetApi=function(_AbstractActions){function RecentlyMetApi(httpService){_classCallCheck(this,RecentlyMetApi);var _this=_possibleConstructorReturn(this,(RecentlyMetApi.__proto__||Object.getPrototypeOf(RecentlyMetApi)).call(this));return _this.httpService=httpService,_this}return _inherits(RecentlyMetApi,_AbstractActions),_createClass(RecentlyMetApi,[{key:"getRecentlyMetByProfileId",value:function(profileId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+profileId+"/club/recentlyMet").get().header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(response){return response.data})}}]),RecentlyMetApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RecentlyMetApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],RecentlyMetApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return RewardsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RewardsApi=function(_AbstractActions){function RewardsApi(httpService){_classCallCheck(this,RewardsApi);var _this=_possibleConstructorReturn(this,(RewardsApi.__proto__||Object.getPrototypeOf(RewardsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(RewardsApi,_AbstractActions),_createClass(RewardsApi,[{key:"getRewardsBySpaceId",value:function(spaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/spaces/"+spaceId+"/global/ubiconnect/rewards/api").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())),_context.abrupt("return",this.httpService.send(request).then(function(result){return result.data.rewards}));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"getProfileRewardsByProfileIdAndSpaceId",value:function(profileId,spaceId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+profileId+"/global/ubiconnect/rewards/api").query("spaceId",spaceId).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState()));return this.httpService.send(request).then(function(result){return result.data.rewards})}},{key:"getProfileRewardsByProfilesIdsAndSpaceId",value:function(profileIds,spaceId){for(var _this2=this,_profileIds=profileIds.slice(),requests=[];_profileIds.length>0;){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/global/ubiconnect/rewards/api").query("profileIds",_profileIds.splice(0,20).join(",")).query("spaceId",spaceId).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState()));requests.push(request)}return Promise.all(requests.map(function(request){return _this2.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.rewards}).reduce(function(prev,current){return prev.concat(current)},[])})}},{key:"purchaseReward",value:function(rewardId,spaceId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/me/global/ubiconnect/rewards/api").post().body(JSON.stringify({rewardId:rewardId,spaceId:spaceId})).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket).header("Content-Type","application/json").header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState()));return this.httpService.send(request).then(function(result){return result.data})}}]),RewardsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RewardsApi=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],RewardsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return StatsApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},StatsApi=function(_AbstractActions){function StatsApi(httpService){_classCallCheck(this,StatsApi);var _this=_possibleConstructorReturn(this,(StatsApi.__proto__||Object.getPrototypeOf(StatsApi)).call(this));return _this.httpService=httpService,_this}return _inherits(StatsApi,_AbstractActions),_createClass(StatsApi,[{key:"getStatsCard",value:function(spaceId,userId){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/"+userId+"/statscard").query("spaceId",spaceId).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data.Statscards.map(function(item){return __assign({},item,{userId:userId,spaceId:spaceId})})})}},{key:"getStatsByProfileIds",value:function(spaceId,userIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var _userIds,requests,request,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_userIds=userIds.slice(),requests=[];_userIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v1/profiles/stats").query("spaceId",spaceId).query("profileIds",_userIds.splice(0,50).join(",")).header("Ubi-LocaleCode",__WEBPACK_IMPORTED_MODULE_5__locale_queries_LocaleQueries__.a.getCurrentLocale(this.getState())).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),
requests.push(request);return _context.abrupt("return",Promise.all(requests.map(function(request){return _this2.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.profiles.map(function(profile){return __assign({},profile,{spaceId:spaceId})})}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context.stop()}},_callee,this)}))}}]),StatsApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);StatsApi=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],StatsApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return TwoFactorAuthApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},TwoFactorAuthApi=function(_AbstractActions){function TwoFactorAuthApi(httpService){_classCallCheck(this,TwoFactorAuthApi);var _this=_possibleConstructorReturn(this,(TwoFactorAuthApi.__proto__||Object.getPrototypeOf(TwoFactorAuthApi)).call(this));return _this.httpService=httpService,_this}return _inherits(TwoFactorAuthApi,_AbstractActions),_createClass(TwoFactorAuthApi,[{key:"getTwoFactorAuthStatus",value:function(){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getConnectEndpoint(this.getState())+"/api/default/check2fa").header("Ubi-AppId",__WEBPACK_IMPORTED_MODULE_3__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Content-Type","application/json").header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(result){return result.data})}}]),TwoFactorAuthApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);TwoFactorAuthApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],TwoFactorAuthApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UserApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},UserApi=function(_AbstractActions){function UserApi(httpService){_classCallCheck(this,UserApi);var _this=_possibleConstructorReturn(this,(UserApi.__proto__||Object.getPrototypeOf(UserApi)).call(this));return _this.httpService=httpService,_this}return _inherits(UserApi,_AbstractActions),_createClass(UserApi,[{key:"getCurrentUser",value:function(fields){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v3/users/me").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),fields&&fields.length&&request.query("fields",fields.join(",")),_context.abrupt("return",this.httpService.send(request).then(function(response){return response.data}));case 3:case"end":return _context.stop()}},_callee,this)}))}}]),UserApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);UserApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],UserApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UserNameApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserNameApi=function(_AbstractActions){function UserNameApi(httpService){_classCallCheck(this,UserNameApi);var _this=_possibleConstructorReturn(this,(UserNameApi.__proto__||Object.getPrototypeOf(UserNameApi)).call(this));return _this.httpService=httpService,_this}return _inherits(UserNameApi,_AbstractActions),_createClass(UserNameApi,[{key:"validateScreenName",value:function(userId,screenName){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/"+userId+"/validateUpdate").post().body(JSON.stringify({nameOnPlatform:screenName})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(response){return response.data})}},{key:"updateScreenName",value:function(userId,screenName){var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles/"+userId).put().body(JSON.stringify({nameOnPlatform:screenName})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket);return this.httpService.send(request).then(function(response){return response.data})}}]),UserNameApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);UserNameApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],UserNameApi)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return UserProfilesApi});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},UserProfilesApi=function(_AbstractActions){function UserProfilesApi(httpService){_classCallCheck(this,UserProfilesApi);var _this=_possibleConstructorReturn(this,(UserProfilesApi.__proto__||Object.getPrototypeOf(UserProfilesApi)).call(this));return _this.httpService=httpService,_this}return _inherits(UserProfilesApi,_AbstractActions),_createClass(UserProfilesApi,[{key:"getUserProfilesByUserIds",value:function(userIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var _userIds,requests,request,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_userIds=userIds.slice(),requests=[];_userIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles").query("userId",_userIds.splice(0,50).join(",")).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),requests.push(request);return _context.abrupt("return",Promise.all(requests.map(function(request){return _this2.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.profiles}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context.stop()}},_callee,this)}))}},{key:"getProfilesByPlatformIdsAndPlatformType",value:function(userIds,platformType){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var _userIds,requests,request,_this3=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:for(_userIds=userIds.slice(),requests=[];_userIds.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles").query("idOnPlatform",_userIds.splice(0,50).join(",")).query("platformType",platformType).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),requests.push(request);return _context2.abrupt("return",Promise.all(requests.map(function(request){return _this3.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.profiles}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"getProfilesByUserNameAndPlatformTypes",value:function(userName,platformType){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var _userName,requests,request,_this4=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:for(_userName=userName.slice(),requests=[];_userName.length>0;)request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(__WEBPACK_IMPORTED_MODULE_2__configuration_queries_ConfigurationQueries__.a.getUbiServicesEndpoint(this.getState())+"/v2/profiles").query("nameOnPlatform",_userName.splice(0,50).join(",")).query("platformType",platformType).header("Ubi-Appid",__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState())).header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_3__authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket),requests.push(request);return _context3.abrupt("return",Promise.all(requests.map(function(request){return _this4.httpService.send(request)})).then(function(responses){return responses.map(function(response){return response.data.profiles}).reduce(function(prev,current){return prev.concat(current)},[])}));case 4:case"end":return _context3.stop()}},_callee3,this)}))}}]),UserProfilesApi}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);UserProfilesApi=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService])],UserProfilesApi)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return NotificationType}),__webpack_require__.d(exports,"b",function(){return NotificationAction});var NotificationType;!function(NotificationType){NotificationType[NotificationType.FRIENDS_RELATIONSHIP_UPDATE="FRIENDS_RELATIONSHIP_UPDATE"]="FRIENDS_RELATIONSHIP_UPDATE",NotificationType[NotificationType.FRIENDS_RELATIONSHIP_TRIGGER="FRIENDS_RELATIONSHIP_TRIGGER"]="FRIENDS_RELATIONSHIP_TRIGGER",NotificationType[NotificationType.FRIENDS_INFO_UPDATED="FRIENDS_INFO_UPDATED"]="FRIENDS_INFO_UPDATED"}(NotificationType||(NotificationType={}));var NotificationAction;!function(NotificationAction){NotificationAction[NotificationAction.INVITE_SENT="invite_sent"]="INVITE_SENT",NotificationAction[NotificationAction.INVITE_RECEIVED="invite_received"]="INVITE_RECEIVED",NotificationAction[NotificationAction.INVITE_ACCEPTED="invite_accepted"]="INVITE_ACCEPTED",NotificationAction[NotificationAction.ACCEPT_INVITE="accept_invite"]="ACCEPT_INVITE",NotificationAction[NotificationAction.DELETE_RELATION="delete_relation"]="DELETE_RELATION",NotificationAction[NotificationAction.DECLINE_INVITE="decline_invite"]="DECLINE_INVITE"}(NotificationAction||(NotificationAction={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return IMAGE_SPECIFICATION});var IMAGE_SPECIFICATION;!function(IMAGE_SPECIFICATION){IMAGE_SPECIFICATION[IMAGE_SPECIFICATION.IMAGE_MOBILE_BOX_ART="mobileBoxArt"]="IMAGE_MOBILE_BOX_ART",IMAGE_SPECIFICATION[IMAGE_SPECIFICATION.IMAGE_UPLAY_COVER="uplayCover"]="IMAGE_UPLAY_COVER",IMAGE_SPECIFICATION[IMAGE_SPECIFICATION.IMAGE_UPLAY_BACKGROUND="uplayBackground"]="IMAGE_UPLAY_BACKGROUND",IMAGE_SPECIFICATION[IMAGE_SPECIFICATION.IMAGE_BACKGROUND="background"]="IMAGE_BACKGROUND",IMAGE_SPECIFICATION[IMAGE_SPECIFICATION.IMAGE_LOW_BOX_ART="lowBoxArt"]="IMAGE_LOW_BOX_ART"}(IMAGE_SPECIFICATION||(IMAGE_SPECIFICATION={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_analytics_services_AnalyticsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(19)),__WEBPACK_IMPORTED_MODULE_2__services_IpLocationService__=__webpack_require__(909),__WEBPACK_IMPORTED_MODULE_3__services_DebugService__=__webpack_require__(99);__webpack_require__.d(exports,"a",function(){return AnalyticsProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AnalyticsProvider=function(){function AnalyticsProvider(){_classCallCheck(this,AnalyticsProvider)}return _createClass(AnalyticsProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__modules_analytics_services_AnalyticsService__.a}},{key:"provide",value:function(serviceManager){return new __WEBPACK_IMPORTED_MODULE_1__modules_analytics_services_AnalyticsService__.a(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store),serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__services_IpLocationService__.a),serviceManager.get(__WEBPACK_IMPORTED_MODULE_3__services_DebugService__.a))}}]),AnalyticsProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_cache__=__webpack_require__(657),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_cache__),__webpack_require__(5)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return CacheProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CacheProvider=function(){function CacheProvider(){_classCallCheck(this,CacheProvider)}return _createClass(CacheProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService}},{key:"provide",value:function(sm){var cache=new __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService;return cache.enable(),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState())&&cache.enableDebug(),cache}}]),CacheProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__services_DebugService__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_1__modules_di_AbstractProvider__=__webpack_require__(870);__webpack_require__.d(exports,"a",function(){return DebugServiceProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DebugServiceProvider=function(_AbstractProvider){function DebugServiceProvider(){return _classCallCheck(this,DebugServiceProvider),_possibleConstructorReturn(this,(DebugServiceProvider.__proto__||Object.getPrototypeOf(DebugServiceProvider)).apply(this,arguments))}return _inherits(DebugServiceProvider,_AbstractProvider),_createClass(DebugServiceProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__services_DebugService__.a}},{key:"provide",value:function(sm){return new __WEBPACK_IMPORTED_MODULE_0__services_DebugService__.a}}]),DebugServiceProvider}(__WEBPACK_IMPORTED_MODULE_1__modules_di_AbstractProvider__.a)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__services_GeneralChannelService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),
__webpack_require__(317)),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5);__webpack_require__.d(exports,"a",function(){return GeneralChannelProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GeneralChannelProvider=function(){function GeneralChannelProvider(){_classCallCheck(this,GeneralChannelProvider)}return _createClass(GeneralChannelProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__services_GeneralChannelService__.a.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_1__services_GeneralChannelService__.a(__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getOverlayIndexUrl(sm.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store).getState()),window,(!1));return sm.bind(__WEBPACK_IMPORTED_MODULE_1__services_GeneralChannelService__.a,service),service}}]),GeneralChannelProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(27);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__);__webpack_require__.d(exports,"a",function(){return HttpProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HttpProvider=function(){function HttpProvider(){_classCallCheck(this,HttpProvider)}return _createClass(HttpProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService}},{key:"provide",value:function(sm){return window.fetch||__webpack_require__(1268),new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService(new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.FetchAdapter)}}]),HttpProvider}()},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stores_SpacesStore__=__webpack_require__(918),__WEBPACK_IMPORTED_MODULE_1_redux__=__webpack_require__(767),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(26)),__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_reselect__),__webpack_require__(177)),__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_6__stores_OverlayStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__),__webpack_require__(621)),__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(305),__WEBPACK_IMPORTED_MODULE_9_app_stores_LoadersStore__=__webpack_require__(917),__WEBPACK_IMPORTED_MODULE_10_app_stores_FriendsStore__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_11_app_stores_ConnectionsStore__=__webpack_require__(112),__WEBPACK_IMPORTED_MODULE_12_app_stores_WidgetStore__=__webpack_require__(919),__WEBPACK_IMPORTED_MODULE_13_app_stores_GamesPlayedStore__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_14_app_stores_GameStatsStore__=__webpack_require__(90),__WEBPACK_IMPORTED_MODULE_15_app_stores_RewardsStore__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_16_app_stores_UserProfilesStore__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__=__webpack_require__(322),__WEBPACK_IMPORTED_MODULE_18_app_modules_configuration_stores_EnvironmentStore__=__webpack_require__(602),__WEBPACK_IMPORTED_MODULE_19_app_stores_UserEmailVerificationStore__=__webpack_require__(622),__WEBPACK_IMPORTED_MODULE_20__stores_FilterFriendStore__=__webpack_require__(619),__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__=__webpack_require__(88),__WEBPACK_IMPORTED_MODULE_22__stores_SocialNetworkStore__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_23__stores_PsnAccountsStore__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_24__stores_XboxAccountsStore__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_25__stores_FriendsGamesPlayedStore__=__webpack_require__(89),__WEBPACK_IMPORTED_MODULE_26__stores_ChangePlatformStore__=__webpack_require__(323),__WEBPACK_IMPORTED_MODULE_27__stores_UserNameStore__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_28__stores_RecentlyMetStore__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_29__stores_ChangeAvatarStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_30__stores_AvatarStore__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_31__stores_OtherGamesCarouselStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_32__stores_StatsComparisonStore__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_33__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_34__stores_FriendProfileStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_35__stores_ProfileEntitiesStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_36__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_37__stores_IpLocationStore__=__webpack_require__(620),__WEBPACK_IMPORTED_MODULE_38__stores_MetaProgressionProfileStore__=__webpack_require__(91),__WEBPACK_IMPORTED_MODULE_39__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_40__stores_UserStore__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_41__modules_locale_stores_LocaleStore__=__webpack_require__(608),__WEBPACK_IMPORTED_MODULE_42__stores_RewardsViewStore__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_43__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_44__stores_PageLoaderStore__=__webpack_require__(171);__webpack_require__.d(exports,"a",function(){return StoreProvider});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},persistStore=__webpack_require__(763).persistStore,autoRehydrate=__webpack_require__(763).autoRehydrate,StoreProvider=function(){function StoreProvider(){_classCallCheck(this,StoreProvider)}return _createClass(StoreProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store}},{key:"provide",value:function(sm){var store=new __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store;sm.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store,store),window.showDebugTable=__WEBPACK_IMPORTED_MODULE_3__stejar_reselect__.showDebugTable;var redux=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__.a)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__.b)(__assign({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.combineStores)(sm)(__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__.ConfigurationStore,__WEBPACK_IMPORTED_MODULE_5__stejar_authentication__.AuthenticationStore,__WEBPACK_IMPORTED_MODULE_41__modules_locale_stores_LocaleStore__.a,__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,__WEBPACK_IMPORTED_MODULE_16_app_stores_UserProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_9_app_stores_LoadersStore__.a,__WEBPACK_IMPORTED_MODULE_14_app_stores_GameStatsStore__.a,__WEBPACK_IMPORTED_MODULE_13_app_stores_GamesPlayedStore__.a,__WEBPACK_IMPORTED_MODULE_10_app_stores_FriendsStore__.a,__WEBPACK_IMPORTED_MODULE_11_app_stores_ConnectionsStore__.a,__WEBPACK_IMPORTED_MODULE_12_app_stores_WidgetStore__.a,__WEBPACK_IMPORTED_MODULE_15_app_stores_RewardsStore__.a,__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__.a,__WEBPACK_IMPORTED_MODULE_18_app_modules_configuration_stores_EnvironmentStore__.a,__WEBPACK_IMPORTED_MODULE_19_app_stores_UserEmailVerificationStore__.a,__WEBPACK_IMPORTED_MODULE_20__stores_FilterFriendStore__.a,__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a,__WEBPACK_IMPORTED_MODULE_22__stores_SocialNetworkStore__.a,__WEBPACK_IMPORTED_MODULE_23__stores_PsnAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_24__stores_XboxAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_25__stores_FriendsGamesPlayedStore__.a,__WEBPACK_IMPORTED_MODULE_26__stores_ChangePlatformStore__.a,__WEBPACK_IMPORTED_MODULE_27__stores_UserNameStore__.a,__WEBPACK_IMPORTED_MODULE_28__stores_RecentlyMetStore__.a,__WEBPACK_IMPORTED_MODULE_29__stores_ChangeAvatarStore__.a,__WEBPACK_IMPORTED_MODULE_30__stores_AvatarStore__.a,__WEBPACK_IMPORTED_MODULE_31__stores_OtherGamesCarouselStore__.a,__WEBPACK_IMPORTED_MODULE_32__stores_StatsComparisonStore__.a,__WEBPACK_IMPORTED_MODULE_33__stores_PopulationsStore__.a,__WEBPACK_IMPORTED_MODULE_34__stores_FriendProfileStore__.a,__WEBPACK_IMPORTED_MODULE_35__stores_ProfileEntitiesStore__.a,__WEBPACK_IMPORTED_MODULE_36__stores_NewsStore__.a,__WEBPACK_IMPORTED_MODULE_37__stores_IpLocationStore__.a,__WEBPACK_IMPORTED_MODULE_40__stores_UserStore__.a,__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a,__WEBPACK_IMPORTED_MODULE_42__stores_RewardsViewStore__.a,__WEBPACK_IMPORTED_MODULE_38__stores_MetaProgressionProfileStore__.a,__WEBPACK_IMPORTED_MODULE_40__stores_UserStore__.a,__WEBPACK_IMPORTED_MODULE_43__stores_ApplicationsStore__.a,__WEBPACK_IMPORTED_MODULE_0__stores_SpacesStore__.a,__WEBPACK_IMPORTED_MODULE_44__stores_PageLoaderStore__.a),_defineProperty({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__stores_OverlayStore__.a)(),__WEBPACK_IMPORTED_MODULE_6__stores_OverlayStore__.b))),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window._initialState?window._initialState:{},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_redux__.c)(autoRehydrate(),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window.devToolsExtension?window.devToolsExtension():function(f){return f}));return window.clearStores=persistStore(redux,{whitelist:["EnvironmentStore","UserEmailVerificationStore","FriendsStore","ConnectionsStore","UserProfilesStore","AuthenticationStore","ConfigurationStore","UserStore","RewardsStore","UbisoftGamesStore","GamesPlayedStore","FriendsGamesPlayedStore","GamesStatsStore","MetaProgressionProfileStore","ApplicationsStore","AvatarStore","PopulationsStore","RecentlyMetStore","PsnAccountsStore","XboxAccountsStore","SpacesStore","NewsStore"]},function(){if(store.bootRedux(redux),store.getState().ConfigurationStore&&store.getState().ConfigurationStore.version&&"4.0.23"!==store.getState().ConfigurationStore.version)try{store.dispatch(new __WEBPACK_IMPORTED_MODULE_39__actions_PurgeAction__.a),window.clearStores.purgeAll()}catch(error){console.error(error)}return!0}),store.bootRedux(redux),store}}]),StoreProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__=__webpack_require__(111);__webpack_require__.d(exports,"a",function(){return WidgetChannelProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WidgetChannelProvider=function(){function WidgetChannelProvider(){_classCallCheck(this,WidgetChannelProvider)}return _createClass(WidgetChannelProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a(window.self.location.href.split("owner=")[1]||"*",window.self.parent,(!1));return sm.bind(__WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a,service),service}}]),WidgetChannelProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(26),__WEBPACK_IMPORTED_MODULE_1_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),__webpack_require__(8)),__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_6__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_8__GamesCommonQueries__=__webpack_require__(135);__webpack_require__.d(exports,"a",function(){return ExpandedQueries});var ExpandedQueries=function ExpandedQueries(){_classCallCheck(this,ExpandedQueries)};ExpandedQueries.getAccountUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getAccountUrl",__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLink,__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.getAccountUrl,function(hasOverwrittenLinks,overwrittenAccountLink,accountUrl){return hasOverwrittenLinks&&overwrittenAccountLink?overwrittenAccountLink:""+accountUrl}),ExpandedQueries.getCustomerSupportUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getCustomerSupportUrl",__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLink,__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.getCustomerSupportUrl,__WEBPACK_IMPORTED_MODULE_4__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,function(hasOverwrittenLinks,overwrittenSupportLink,customerSupportUrl,locale){return hasOverwrittenLinks&&overwrittenSupportLink?overwrittenSupportLink:customerSupportUrl+"/"+locale}),ExpandedQueries.getStoreUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getStoreUrl",__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenStoreLink,__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.getUbiStoreUrl,__WEBPACK_IMPORTED_MODULE_4__modules_locale_queries_LocaleQueries__.a.getCurrentLocale,function(hasOverwrittenLinks,overwrittenStoreLink,storeUrl,locale){return hasOverwrittenLinks&&overwrittenStoreLink?overwrittenStoreLink:storeUrl+"/"+(locale.split("-").length?locale.split("-")[0]:locale)}),ExpandedQueries.getShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getShow",__WEBPACK_IMPORTED_MODULE_6__selectors__.r,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getShowMobileTabs,function(showPlayerCard,isInMobileView,showMobileTabs){return showPlayerCard||isInMobileView&&showMobileTabs}),ExpandedQueries.getScrollbarContainerHeightForExpandedView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getScrollbarContainerHeightForExpandedView",__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getWindowInnerHeight,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getCollapsedHeight,__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,ExpandedQueries.getShow,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.computeScrollbarContainerHeight),ExpandedQueries.getScrollbarContainerMaxHeightForExpandeView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getScrollbarContainerMaxHeightForExpandeView",__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,ExpandedQueries.getScrollbarContainerHeightForExpandedView,function(isInMobileView,height){return isInMobileView?null:height}),ExpandedQueries.getScrollbarHeightForExpandedView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.getScrollbarHeightForExpandedView",__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getWindowInnerHeight,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getCollapsedHeight,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getTrackingBannerHeight,__WEBPACK_IMPORTED_MODULE_2__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,ExpandedQueries.getShow,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.computeScrollbarHeight),ExpandedQueries.gameCustomerSupport=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ExpandedQueries.gameCustomerSupport",__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getNewLastPlayGameInstallmentId,ExpandedQueries.getCustomerSupportUrl,__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a.getByPlatformApplicationId,__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_7__stores_UbisoftGamesStore__.a.getSiblingsSpaceIdsByParentSpaceId,function(installmentId,customerSupportUrl,gamesByPlatformId,gamesBySpaceId,siblingsSpaceIdsByParentSpaceId){if(!installmentId)return customerSupportUrl;var foundGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__.find)(gamesBySpaceId,function(game){return game.installmentId==installmentId||game.spaceId==installmentId||__WEBPACK_IMPORTED_MODULE_8__GamesCommonQueries__.a.isInSiblingsSpaceIds(siblingsSpaceIdsByParentSpaceId,game.spaceId,installmentId)});return foundGame&&gamesByPlatformId[foundGame.spaceId]&&gamesBySpaceId[gamesByPlatformId[foundGame.spaceId].parentSpaceId]&&gamesBySpaceId[gamesByPlatformId[foundGame.spaceId].parentSpaceId].links&&gamesBySpaceId[gamesByPlatformId[foundGame.spaceId].parentSpaceId].links.supportLink?gamesBySpaceId[gamesByPlatformId[foundGame.spaceId].parentSpaceId].links.supportLink:customerSupportUrl})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return AllSettledService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},_allSettled=__webpack_require__(775),AllSettledService=function(){function AllSettledService(){_classCallCheck(this,AllSettledService)}return _createClass(AllSettledService,[{key:"allSettled",value:function(requests){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var responses;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_allSettled(requests);case 2:return responses=_context.sent,_context.abrupt("return",responses.filter(function(response){return"fulfilled"===response.state}).map(function(response){return response.result}));case 4:case"end":return _context.stop()}},_callee,this)}))}}]),AllSettledService}();AllSettledService=__decorate([__WEBPACK_IMPORTED_MODULE_0__modules_di_injectable__.a,__metadata("design:paramtypes",[])],AllSettledService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_api_ApplicationsApi__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(879)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_4__stores_ApplicationsStore__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_5__actions_LoadingApplicationsAction__=__webpack_require__(540),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return ApplicationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ApplicationsService=function(_AbstractActions){function ApplicationsService(applicationsApi){_classCallCheck(this,ApplicationsService);var _this=_possibleConstructorReturn(this,(ApplicationsService.__proto__||Object.getPrototypeOf(ApplicationsService)).call(this));return _this.applicationsApi=applicationsApi,_this}return _inherits(ApplicationsService,_AbstractActions),_createClass(ApplicationsService,[{key:"loadApplicationsByAppIds",value:function(applicationIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var bySpaceId,byAppId,expirationKey,expiration,applications;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(bySpaceId={},byAppId={},expirationKey=applicationIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_4__stores_ApplicationsStore__.a.getExpiration(this.getState())[expirationKey]?__WEBPACK_IMPORTED_MODULE_4__stores_ApplicationsStore__.a.getExpiration(this.getState())[expirationKey]:0,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=7;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__.a(bySpaceId,byAppId,{})),_context.abrupt("return");case 7:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadingApplicationsAction__.a),_context.prev=8,_context.next=11,this.applicationsApi.getApplications(applicationIds);case 11:applications=_context.sent,applications.forEach(function(application){bySpaceId[application.spaceId]=application,byAppId[application.applicationId]=application}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__.a(bySpaceId,byAppId,_defineProperty({},expirationKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context.next=19;break;case 16:_context.prev=16,_context.t0=_context["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedApplicationsAction__.a({},{},_defineProperty({},expirationKey,0)));case 19:case"end":return _context.stop()}},_callee,this,[[8,16]])}))}}]),ApplicationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ApplicationsService=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_api_ApplicationsApi__.a])],ApplicationsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_LoadedIpLocationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(534)),__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_IpLocationApi__=__webpack_require__(884),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);
__webpack_require__.d(exports,"a",function(){return IpLocationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},IpLocationService=function(_AbstractActions){function IpLocationService(ipLocationApi){_classCallCheck(this,IpLocationService);var _this=_possibleConstructorReturn(this,(IpLocationService.__proto__||Object.getPrototypeOf(IpLocationService)).call(this));return _this.ipLocationApi=ipLocationApi,_this}return _inherits(IpLocationService,_AbstractActions),_createClass(IpLocationService,[{key:"loadIpLocation",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promise;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.ipLocationApi.getIpLocation();case 2:return promise=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_LoadedIpLocationAction__.a(_defineProperty({},promise.ip,promise),_defineProperty({},__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),promise.ip))),_context.abrupt("return",promise);case 5:case"end":return _context.stop()}},_callee,this)}))}}]),IpLocationService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);IpLocationService=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_IpLocationApi__.a])],IpLocationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_LoadedPsnFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(536)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedXboxFriendsAction__=__webpack_require__(539),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_LinkedAccountsApi__=__webpack_require__(885),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return LinkedAccountsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},LinkedAccountsService=function(_AbstractActions){function LinkedAccountsService(linkedAccountsApi){_classCallCheck(this,LinkedAccountsService);var _this=_possibleConstructorReturn(this,(LinkedAccountsService.__proto__||Object.getPrototypeOf(LinkedAccountsService)).call(this));return _this.linkedAccountsApi=linkedAccountsApi,_this}return _inherits(LinkedAccountsService,_AbstractActions),_createClass(LinkedAccountsService,[{key:"loadPlayStationFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promise;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.linkedAccountsApi.getPlayStationFriends(offset,limit);case 3:return promise=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_LoadedPsnFriendsAction__.a(promise)),_context.abrupt("return",promise);case 8:return _context.prev=8,_context.t0=_context["catch"](0),_context.abrupt("return",Promise.reject(_context.t0));case 11:case"end":return _context.stop()}},_callee,this,[[0,8]])}))}},{key:"loadXboxFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var promise;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.linkedAccountsApi.getXboxFriends(offset,limit);case 3:return promise=_context2.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedXboxFriendsAction__.a(promise)),_context2.abrupt("return",promise);case 8:return _context2.prev=8,_context2.t0=_context2["catch"](0),_context2.abrupt("return",Promise.reject(_context2.t0));case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}))}}]),LinkedAccountsService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);LinkedAccountsService=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_LinkedAccountsApi__.a])],LinkedAccountsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(269)),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_NewsApi__=__webpack_require__(887),__WEBPACK_IMPORTED_MODULE_4__modules_locale_queries_LocaleQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__=__webpack_require__(138),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return NewsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NewsService=function(_AbstractActions){function NewsService(newsApi){_classCallCheck(this,NewsService);var _this=_possibleConstructorReturn(this,(NewsService.__proto__||Object.getPrototypeOf(NewsService)).call(this));return _this.newsApi=newsApi,_this}return _inherits(NewsService,_AbstractActions),_createClass(NewsService,[{key:"loadNews",value:function(spaceIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var news,byId,bySpaceId,cacheKey,expiration;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(news=[],byId={},bySpaceId={},cacheKey=spaceIds.sort().join(","),expiration=__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getExpiration(this.getState())&&__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getExpiration(this.getState())[cacheKey]?__WEBPACK_IMPORTED_MODULE_6__stores_NewsStore__.a.getExpiration(this.getState())[cacheKey]:0,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=8;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__.a(news,byId,bySpaceId,{})),_context.abrupt("return");case 8:return _context.prev=8,_context.next=11,this.newsApi.getNews(spaceIds,!0);case 11:if(news=_context.sent,0!=news.length||"en-US"===__WEBPACK_IMPORTED_MODULE_4__modules_locale_queries_LocaleQueries__.a.getCurrentLocale(this.store.getState())){_context.next=16;break}return _context.next=15,this.newsApi.getNews(spaceIds,!0,null,null,"en-US");case 15:news=_context.sent;case 16:news.map(function(singleNews){byId[singleNews.newsId]=singleNews,bySpaceId[singleNews.spaceId]?bySpaceId[singleNews.spaceId].push(singleNews.newsId):bySpaceId[singleNews.spaceId]=[singleNews.newsId]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__.a(news,byId,bySpaceId,_defineProperty({},cacheKey,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context.next=23;break;case 20:_context.prev=20,_context.t0=_context["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedGamesNewsAction__.a(news,byId,bySpaceId,_defineProperty({},cacheKey,0)));case 23:case"end":return _context.stop()}},_callee,this,[[8,20]])}))}}]),NewsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NewsService=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_NewsApi__.a])],NewsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(271)),__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__=__webpack_require__(139),__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_api_PopulationsApi__=__webpack_require__(888),__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return PopulationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PopulationsService=function(_AbstractActions){function PopulationsService(populationsApi){_classCallCheck(this,PopulationsService);var _this=_possibleConstructorReturn(this,(PopulationsService.__proto__||Object.getPrototypeOf(PopulationsService)).call(this));return _this.populationsApi=populationsApi,_this}return _inherits(PopulationsService,_AbstractActions),_createClass(PopulationsService,[{key:"loadMyBetaPopulations",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(populations=[],byUniqueName={},byType={},byBetaName={},byPhaseName={},byPlatformCode={},bySpaceId={},__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=10;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__.a(__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getPopulations(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getByUniqueName(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getByType(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getByBetaName(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getByPhaseName(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getByPlatformCode(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__stores_PopulationsStore__.a.getExpiration(this.getState()))),_context.abrupt("return");case 10:return _context.prev=10,_context.next=13,this.populationsApi.getMyPopulations([__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId(this.getState())]);case 13:populations=_context.sent,populations.forEach(function(population){byUniqueName[population.name+"__"+population.subject]=population,bySpaceId[population.spaceId]?bySpaceId[population.spaceId].push(population.name+"__"+population.subject):bySpaceId[population.spaceId]=[population.name+"__"+population.subject],Object.keys(population.obj).length&&(byType[population.obj.type]?byType[population.obj.type].push(population):byType[population.obj.type]=[population],byBetaName[population.obj.betaName]?byBetaName[population.obj.betaName].push(population):byBetaName[population.obj.betaName]=[population],byPhaseName[population.obj.phaseName]?byPhaseName[population.obj.phaseName].push(population):byPhaseName[population.obj.phaseName]=[population],byPlatformCode[population.obj.platform]?byPlatformCode[population.obj.platform].push(population):byPlatformCode[population.obj.platform]=[population])}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__.a(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())),_context.next=21;break;case 18:_context.prev=18,_context.t0=_context["catch"](10),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedPopulationsAction__.a(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,0));case 21:case"end":return _context.stop()}},_callee,this,[[10,18]])}))}}]),PopulationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);PopulationsService=__decorate([__WEBPACK_IMPORTED_MODULE_6__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_5__modules_serviceApis_api_PopulationsApi__.a])],PopulationsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedProfileEntitiesAction__=__webpack_require__(272),__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_ProfileEntitiesApi__=__webpack_require__(889),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return ProfileEntitiesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ProfileEntitiesService=function(_AbstractActions){function ProfileEntitiesService(profileEntitiesApi){_classCallCheck(this,ProfileEntitiesService);var _this=_possibleConstructorReturn(this,(ProfileEntitiesService.__proto__||Object.getPrototypeOf(ProfileEntitiesService)).call(this));return _this.profileEntitiesApi=profileEntitiesApi,_this}return _inherits(ProfileEntitiesService,_AbstractActions),_createClass(ProfileEntitiesService,[{key:"loadMyProfileEntities",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.common(this.profileEntitiesApi.getProfileEntities(__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"createProfileEntity",value:function(obj){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.common(this.profileEntitiesApi.createProfileEntity(__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),"Beta",obj,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"updateProfileEntity",value:function(entityId,obj,revision){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(entityId&&obj&&revision){_context3.next=2;break}return _context3.abrupt("return");case 2:return _context3.next=4,this.common(this.profileEntitiesApi.updateProfileEntity(entityId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),"Beta",obj,revision,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"common",value:function(promise){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var entities,byEntityId,bySpaceId;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return entities=[],byEntityId={},bySpaceId={},_context4.prev=3,_context4.next=6,promise;case 6:entities=_context4.sent,Array.isArray(entities)?entities.map(function(entity){byEntityId[entity.entityId]=entity,bySpaceId[entity.spaceId]?bySpaceId[entity.spaceId].push(entity.entityId):bySpaceId[entity.spaceId]=[entity.entityId]}):(byEntityId[entities.entityId]=entities,bySpaceId[entities.applicationId]?bySpaceId[entities.applicationId].push(entities.entityId):bySpaceId[entities.applicationId]=[entities.entityId]),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedProfileEntitiesAction__.a(entities,byEntityId,bySpaceId)),_context4.next=14;break;case 11:_context4.prev=11,_context4.t0=_context4["catch"](3),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedProfileEntitiesAction__.a(entities,byEntityId,bySpaceId));case 14:case"end":return _context4.stop()}},_callee4,this,[[3,11]])}))}}]),ProfileEntitiesService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);ProfileEntitiesService=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_ProfileEntitiesApi__.a])],ProfileEntitiesService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__actions_LoadedTwoFactorAuthStatusAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(538)),__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_api_TwoFactorAuthApi__=__webpack_require__(893),__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return TwoFactorAuthService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){
var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},TwoFactorAuthService=function(_AbstractActions){function TwoFactorAuthService(twoFactorAuthApi){_classCallCheck(this,TwoFactorAuthService);var _this=_possibleConstructorReturn(this,(TwoFactorAuthService.__proto__||Object.getPrototypeOf(TwoFactorAuthService)).call(this));return _this.twoFactorAuthApi=twoFactorAuthApi,_this}return _inherits(TwoFactorAuthService,_AbstractActions),_createClass(TwoFactorAuthService,[{key:"getTwoFactorAuthStatus",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var twoFactorAuth;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.twoFactorAuthApi.getTwoFactorAuthStatus();case 3:twoFactorAuth=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_LoadedTwoFactorAuthStatusAction__.a(twoFactorAuth.active,twoFactorAuth.optin)),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context["catch"](0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_1__actions_LoadedTwoFactorAuthStatusAction__.a((!1),(!1)));case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])}))}}]),TwoFactorAuthService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);TwoFactorAuthService=__decorate([__WEBPACK_IMPORTED_MODULE_3__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__modules_serviceApis_api_TwoFactorAuthApi__.a])],TwoFactorAuthService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2__actions_LocalizedMessageAction__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_3__actions_ValidationErrorCodeAction__=__webpack_require__(583),__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_UserNameApi__=__webpack_require__(895),__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"g",function(){return USER_NAME_ERROR_GENERAL}),__webpack_require__.d(exports,"d",function(){return USER_NAME_ERROR_REQUIRED}),__webpack_require__.d(exports,"f",function(){return USER_NAME_ERROR_LOCALIZED}),__webpack_require__.d(exports,"c",function(){return USER_NAME_ERROR_AVAILABLE}),__webpack_require__.d(exports,"e",function(){return USER_NAME_ERROR_RESTRICTED}),__webpack_require__.d(exports,"a",function(){return USER_NAME_ERROR_TIME_LIMIT}),__webpack_require__.d(exports,"b",function(){return USER_NAME_ERROR_TIME_LIMIT_NEW}),__webpack_require__.d(exports,"h",function(){return USER_NAME_ERROR_START}),__webpack_require__.d(exports,"i",function(){return USER_NAME_ERROR_LENGTH}),__webpack_require__.d(exports,"j",function(){return USER_NAME_ERROR_CHARACTER}),__webpack_require__.d(exports,"k",function(){return UserNameService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},USER_NAME_ERROR_GENERAL="general",USER_NAME_ERROR_REQUIRED="Required",USER_NAME_ERROR_LOCALIZED="1010",USER_NAME_ERROR_AVAILABLE="1011",USER_NAME_ERROR_RESTRICTED="1013",USER_NAME_ERROR_TIME_LIMIT="1213",USER_NAME_ERROR_TIME_LIMIT_NEW="4",USER_NAME_ERROR_START="USER_NAME_ERROR_START",USER_NAME_ERROR_LENGTH="USER_NAME_ERROR_LENGTH",USER_NAME_ERROR_CHARACTER="USER_NAME_ERROR_CHARACTER",UserNameService=function(_AbstractActions){function UserNameService(userNameApi){_classCallCheck(this,UserNameService);var _this=_possibleConstructorReturn(this,(UserNameService.__proto__||Object.getPrototypeOf(UserNameService)).call(this));return _this.userNameApi=userNameApi,_this}return _inherits(UserNameService,_AbstractActions),_createClass(UserNameService,[{key:"validateUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var validation;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.userNameApi.validateScreenName(__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),userName);case 2:return validation=_context.sent,validation.validationReports.length>0?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LocalizedMessageAction__.a(validation.validationReports[0].Message)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ValidationErrorCodeAction__.a(validation.validationReports[0].ErrorCode,(!0)))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LocalizedMessageAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ValidationErrorCodeAction__.a(null,(!1)))),_context.abrupt("return",validation);case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"updateScreenName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.userNameApi.updateScreenName(__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),userName);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}))}}]),UserNameService}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.AbstractActions);UserNameService=__decorate([__WEBPACK_IMPORTED_MODULE_5__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4__modules_serviceApis_api_UserNameApi__.a])],UserNameService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedUserAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(276)),__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_UserApi__=__webpack_require__(894),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6__stores_UserStore__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__=__webpack_require__(45);__webpack_require__.d(exports,"a",function(){return UserService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},UserService=function(_AbstractActions){function UserService(userApi){_classCallCheck(this,UserService);var _this=_possibleConstructorReturn(this,(UserService.__proto__||Object.getPrototypeOf(UserService)).call(this));return _this.userApi=userApi,_this}return _inherits(UserService,_AbstractActions),_createClass(UserService,[{key:"loadCurrentUser",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,expiration,user;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userId=__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),expiration=__WEBPACK_IMPORTED_MODULE_6__stores_UserStore__.a.getExpiration(this.getState())[userId]?__WEBPACK_IMPORTED_MODULE_6__stores_UserStore__.a.getExpiration(this.getState())[userId]:0,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_entities_CachingTime__.a.DEFAULT_DATA_CACHE_TIME)){_context.next=5;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedUserAction__.a({},{})),_context.abrupt("return");case 5:return _context.prev=5,_context.next=8,this.userApi.getCurrentUser(["userId","status","dateCreated","country","nameOnPlatform"]);case 8:user=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedUserAction__.a(_defineProperty({},user.userId,user),_defineProperty({},user.userId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix()))),_context.next=15;break;case 12:_context.prev=12,_context.t0=_context["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_LoadedUserAction__.a({},_defineProperty({},__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),0)));case 15:case"end":return _context.stop()}},_callee,this,[[5,12]])}))}}]),UserService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);UserService=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__modules_serviceApis_api_UserApi__.a])],UserService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(202)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=__webpack_require__(780),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsAction__=__webpack_require__(197),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(200),__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedConnectionsAction__=__webpack_require__(196),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedRewardsAction__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedGameStatsAction__=__webpack_require__(201),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadingRewardsAction__=__webpack_require__(203),__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadingGameStatsAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadingGamesAction__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_12__actions_LoadedAvatarAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_13__actions_LoadedFriendsPlayingGame__=__webpack_require__(198),__WEBPACK_IMPORTED_MODULE_14__actions_LoadedFriendsStatsAction__=__webpack_require__(199),__WEBPACK_IMPORTED_MODULE_15__actions_LoadedRecentlyMetAction__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_16__actions_LoadedGalleryAvatarsAction__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_17__actions_LoadingAvatarsAction__=__webpack_require__(541),__WEBPACK_IMPORTED_MODULE_18__actions_LoadedPopulationsAction__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_19__actions_LoadedProfileEntitiesAction__=__webpack_require__(272),__WEBPACK_IMPORTED_MODULE_20__actions_LoadedGamesNewsAction__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_21__actions_LoadingFriendsPlayingGameAction__=__webpack_require__(542),__WEBPACK_IMPORTED_MODULE_22__actions_LoadedFriendGamesAction__=__webpack_require__(532),__WEBPACK_IMPORTED_MODULE_23__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_24__actions_LoadedUserAction__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_25__actions_LoadedUbisoftGamesAction__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_26__actions_LoadedGamesPlayedAction__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_27__actions_LoadingGamesPlayedAction__=__webpack_require__(543),__WEBPACK_IMPORTED_MODULE_28__actions_LoadingUbisoftGamesAction__=__webpack_require__(545),__WEBPACK_IMPORTED_MODULE_29__actions_LoadedApplicationsAction__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_30__actions_LoadingApplicationsAction__=__webpack_require__(540),__WEBPACK_IMPORTED_MODULE_31__actions_LoadedSpacesAction__=__webpack_require__(537),__WEBPACK_IMPORTED_MODULE_32__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return LoadersStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoadersStore=function(_ReducerStore){function LoadersStore(){_classCallCheck(this,LoadersStore);var _this=_possibleConstructorReturn(this,(LoadersStore.__proto__||Object.getPrototypeOf(LoadersStore)).call(this));return _this.iniitalState={MyUserProfiles:!1,FriendsUserProfiles:!1,Games:!1,GamesStats:!1,Rewards:!1,Friends:!1,Connections:!1,Avatars:!1,FriendsPlayingGame:!1,GamesFriendsStats:!1,RecentlyMet:!1,GalleryAvatars:!1,Populations:!1,ProfileEntities:!1,News:!1,FriendGames:!1,UserStore:!1,UbisoftGamesStore:!1,GamesPlayedStore:!1,ApplicationsStore:!1,SpacesStore:!1},_this.bind(null,function(){return _this.iniitalState}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadingGameStatsAction__.a.name,_this.handleLoadingGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadingGamesAction__.a.name,_this.handleLoadingGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadingRewardsAction__.a.name,_this.handleLoadingRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_LoadedAvatarAction__.a.name,_this.handleLoadedAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_LoadedFriendsPlayingGame__.a.name,_this.handleLoadedFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_LoadedFriendsStatsAction__.a.name,_this.handleLoadedFriendsStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_LoadedRecentlyMetAction__.a.name,_this.handleLoadedRecentlyMetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_LoadedGalleryAvatarsAction__.a.name,_this.handleLoadedGalleryAvatarsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_LoadingAvatarsAction__.a.name,_this.handleLoadingGalleryAvatarsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_LoadedPopulationsAction__.a.name,_this.handleLoadedPopulationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_LoadedProfileEntitiesAction__.a.name,_this.handleLoadedProfileEntitiesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_LoadedGamesNewsAction__.a.name,_this.handleLoadedGamesNewsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_23__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_LoadingFriendsPlayingGameAction__.a.name,_this.handleLoadingFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_22__actions_LoadedFriendGamesAction__.a.name,_this.handleLoadFriendGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_24__actions_LoadedUserAction__.a.name,_this.handleLoadedUserAction),_this.bind(__WEBPACK_IMPORTED_MODULE_25__actions_LoadedUbisoftGamesAction__.a.name,_this.handleLoadedUbisoftGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_26__actions_LoadedGamesPlayedAction__.a.name,_this.handleLoadedUserGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_27__actions_LoadingGamesPlayedAction__.a.name,_this.handleLoadingGamesPlayedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_28__actions_LoadingUbisoftGamesAction__.a.name,_this.handleLoadingUbisoftGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_29__actions_LoadedApplicationsAction__.a.name,_this.handleLoadedApplicationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_30__actions_LoadingApplicationsAction__.a.name,_this.handleLoadingApplicationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_31__actions_LoadedSpacesAction__.a.name,_this.handleLoadedSpacesAction),_this}return _inherits(LoadersStore,_ReducerStore),_createClass(LoadersStore,[{key:"handleLoggedOutAction",value:function(state,action){return this.iniitalState}},{key:"handleLoadedUserProfilesAction",value:function(state,action){return Object.assign({},state,{MyUserProfiles:!0})}},{key:"handleLoadedGamesAction",value:function(state,action){return Object.assign({},state,{Games:!0})}},{key:"handleLoadingGamesAction",value:function(state,action){return Object.assign({},state,{Games:!action.loading})}},{key:"handleLoadedGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!0})}},{key:"handleLoadingGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!1})}},{key:"handleLoadedRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!0})}},{key:"handleLoadingRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!1})}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{Friends:!0})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsUserProfiles:!0})}},{key:"handleLoadedConnectionsAction",value:function(state,action){return Object.assign({},state,{Connections:!0})}},{key:"handleLoadedAvatarAction",value:function(state,action){return Object.assign({},state,{Avatars:!0})}},{key:"handleLoadedFriendsPlayingGame",value:function(state,action){return Object.assign({},state,{FriendsPlayingGame:!0})}},{key:"handleLoadedRecentlyMetAction",value:function(state,action){return Object.assign({},state,{RecentlyMet:!0})}},{key:"handleLoadedFriendsStatsAction",value:function(state,action){return Object.assign({},state,{GamesFriendsStats:!0})}},{key:"handleLoadedGalleryAvatarsAction",value:function(state,action){return Object.assign({},state,{GalleryAvatars:!0})}},{key:"handleLoadingGalleryAvatarsAction",value:function(state,action){return Object.assign({},state,{Avatars:!1})}},{key:"handleLoadedPopulationsAction",value:function(state,action){return Object.assign({},state,{Populations:!0})}},{key:"handleLoadedProfileEntitiesAction",value:function(state,action){return Object.assign({},state,{ProfileEntities:!0})}},{key:"handleLoadedGamesNewsAction",value:function(state,action){return Object.assign({},state,{News:!0})}},{key:"handleLoadingFriendsPlayingGame",value:function(state,action){return Object.assign({},state,{FriendsPlayingGame:!1})}},{key:"handleLoadFriendGamesAction",value:function(state,action){return __assign({},state,{FriendGames:action.loading})}},{key:"handleLoadedUserAction",value:function(state,action){return __assign({},state,{UserStore:!0})}},{key:"handleLoadedUbisoftGamesAction",value:function(state,action){return __assign({},state,{UbisoftGamesStore:!0})}},{key:"handleLoadingUbisoftGamesAction",value:function(state,action){return __assign({},state,{UbisoftGamesStore:!action.loading})}},{key:"handleLoadedUserGamesAction",value:function(state,action){return __assign({},state,{GamesPlayedStore:!0})}},{key:"handleLoadingGamesPlayedAction",value:function(state,action){return __assign({},state,{GamesPlayedStore:!1})}},{key:"handleLoadedApplicationsAction",value:function(state,action){return __assign({},state,{ApplicationsStore:!0})}},{key:"handleLoadingApplicationsAction",value:function(state,action){return __assign({},state,{ApplicationsStore:!1})}},{key:"handleLoadedSpacesAction",value:function(state,action){return __assign({},state,{ApplicationsStore:!0})}}]),LoadersStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);LoadersStore=__decorate([__WEBPACK_IMPORTED_MODULE_32__modules_di_injectable__.a,__metadata("design:paramtypes",[])],LoadersStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__actions_LoadedSpacesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(537)),__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__=__webpack_require__(3);__webpack_require__.d(exports,"a",function(){return SpacesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){
s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SpacesStore=function(_ReducerStore){function SpacesStore(){_classCallCheck(this,SpacesStore);var _this=_possibleConstructorReturn(this,(SpacesStore.__proto__||Object.getPrototypeOf(SpacesStore)).call(this));return _this.bind(null,function(){return{bySpaceId:null,expirations:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_LoadedSpacesAction__.a.name,_this.handleLoadedSpacesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_PurgeAction__.a.name,_this.handlePurgeAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(SpacesStore,_ReducerStore),_createClass(SpacesStore,[{key:"handlePurgeAction",value:function(state,action){return{bySpaceId:null,expirations:null}}},{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state)}},{key:"handleLoadedSpacesAction",value:function(state,action){return __assign({},state,{bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),expirations:__assign({},state.expirations,action.expirations)})}}]),SpacesStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);SpacesStore.getState=function(state){return state.SpacesStore},SpacesStore.getBySpaceId=function(state){return state.SpacesStore.bySpaceId},SpacesStore.getExpirations=function(state){return state.SpacesStore.expirations},SpacesStore=__decorate([__WEBPACK_IMPORTED_MODULE_4__modules_di_injectable__.a,__metadata("design:paramtypes",[])],SpacesStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2_app_actions_ShowFriendsActivityAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(556)),__WEBPACK_IMPORTED_MODULE_3_app_actions_HideFriendsActivityAction__=__webpack_require__(528),__WEBPACK_IMPORTED_MODULE_4_app_actions_BootedWidgetAction__=__webpack_require__(507),__WEBPACK_IMPORTED_MODULE_5_app_actions_ResizeWidgetAction__=__webpack_require__(551),__WEBPACK_IMPORTED_MODULE_6_app_actions_ShowMobileTabsAction__=__webpack_require__(557),__WEBPACK_IMPORTED_MODULE_7_app_actions_HideMobileTabsAction__=__webpack_require__(529),__WEBPACK_IMPORTED_MODULE_8_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(564),__WEBPACK_IMPORTED_MODULE_9_app_actions_ChangeLastPlayedGameAction__=__webpack_require__(515),__WEBPACK_IMPORTED_MODULE_10_app_actions_HideNotificationsPanelAction__=__webpack_require__(530),__WEBPACK_IMPORTED_MODULE_11_app_actions_ShowNotificationsPanelAction__=__webpack_require__(558),__WEBPACK_IMPORTED_MODULE_12__actions_DeselectArabLanguageAction__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_13__actions_SelectArabLanguageAction__=__webpack_require__(282),__WEBPACK_IMPORTED_MODULE_14__actions_SetParentUrlAction__=__webpack_require__(553),__WEBPACK_IMPORTED_MODULE_15__actions_SetSsoIdAction__=__webpack_require__(554),__WEBPACK_IMPORTED_MODULE_16__actions_ConnectLoginUrlAction__=__webpack_require__(525),__WEBPACK_IMPORTED_MODULE_17__actions_WritteCONNECTloginDataAction__=__webpack_require__(297),__WEBPACK_IMPORTED_MODULE_18__actions_DeleteCONNECTloginDataAction__=__webpack_require__(195),__WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_20__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(204),__WEBPACK_IMPORTED_MODULE_21__actions_ShowDetailsViewAction__=__webpack_require__(555),__WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowMobileViewOnDesktopAction__=__webpack_require__(569),__WEBPACK_IMPORTED_MODULE_23__actions_StartedPanelFlowAction__=__webpack_require__(560),__WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(207),__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(206),__WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(291),__WEBPACK_IMPORTED_MODULE_27__actions_PurgeAction__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_28__actions_ResizeWindowInnerHeightAction__=__webpack_require__(552),__WEBPACK_IMPORTED_MODULE_29__modules_di_injectable__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_30__actions_ThirdPartyCookiesSupportAction__=__webpack_require__(561);__webpack_require__.d(exports,"a",function(){return WidgetStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},WidgetStore=function(_ReducerStore){function WidgetStore(){_classCallCheck(this,WidgetStore);var _this=_possibleConstructorReturn(this,(WidgetStore.__proto__||Object.getPrototypeOf(WidgetStore)).call(this));return _this.bind(null,function(){return{booted:!1,showFriends:!1,showPlayerCard:!1,isInMobileView:!1,showMobileTabs:!1,noActiveClickOnMenu:!1,newLastPlayGameInstallmentId:null,showNotifications:!1,isOnArabLocale:null,parentUrl:null,ssoId:null,connectLoginUrl:null,connectUrl:null,CONNECTloginData:null,showPlayerCardDetails:!1,showFriendsDetails:!1,showDetailsView:!1,showMobileViewOnDesktop:!1,startedPanelFlow:!1,showStatsHeaderOnPlayerCardDetails:!1,showStatsHeaderOnFriendsDetails:!1,showNameHeaderOnFriendsDetails:!1,trackingBannerHeight:0,windowInnerHeight:0,thirdPartyCookiesSupport:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_ShowFriendsActivityAction__.a.name,_this.handleShowFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_HideFriendsActivityAction__.a.name,_this.handleHideFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_ShowMobileTabsAction__.a.name,_this.handleShowMobileTabs),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_HideMobileTabsAction__.a.name,_this.handleHideMobileTabs),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_BootedWidgetAction__.a.name,_this.handleBootedWidgetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_27__actions_PurgeAction__.a.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_ResizeWidgetAction__.a.name,_this.handleResizeWidget),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_ToggleOnClickActiveMenuAction__.a.name,_this.handleNoActiveClickMenu),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_ChangeLastPlayedGameAction__.a.name,_this.handleChangeLastPlayedGame),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_ShowNotificationsPanelAction__.a.name,_this.handleShowNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_HideNotificationsPanelAction__.a.name,_this.handleHideNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_SelectArabLanguageAction__.a.name,_this.handleSelectedArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_DeselectArabLanguageAction__.a.name,_this.handleDeselectArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_SetParentUrlAction__.a.name,_this.handleSetParentUrlAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_SetSsoIdAction__.a.name,_this.handleSetSsoIdAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_ConnectLoginUrlAction__.a.name,_this.handleSetConnectLoginUrlAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_WritteCONNECTloginDataAction__.a.name,_this.handleWritteCONNECTloginDataAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_DeleteCONNECTloginDataAction__.a.name,_this.handleDeleteCONNECTloginDataAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowOverviewTabDetailsViewAction__.a.name,_this.handleToggleShowOverviewTabDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_ToggleShowFriendsTabDetailsViewAction__.a.name,_this.handleToggleShowFriendsTabDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_ShowDetailsViewAction__.a.name,_this.handleShowDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowMobileViewOnDesktopAction__.a.name,_this.handleToggleShowMobileViewOnDesktopAction),_this.bind(__WEBPACK_IMPORTED_MODULE_23__actions_StartedPanelFlowAction__.a.name,_this.handleStartedPanelFlowAction),_this.bind(__WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a.name,_this.handleToggleShowStatsHeaderOnPlayerCardDetails),_this.bind(__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowStatsHeaderOnFriendsDetails__.a.name,_this.handleToggleShowStatsHeaderOnFriendsDetails),_this.bind(__WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowNameHeaderOnFriendsDetails__.a.name,_this.handleToggleShowNameHeaderOnFriendsDetails),_this.bind(__WEBPACK_IMPORTED_MODULE_28__actions_ResizeWindowInnerHeightAction__.a.name,_this.handleResizeWindowInnerHeightAction),_this.bind(__WEBPACK_IMPORTED_MODULE_30__actions_ThirdPartyCookiesSupportAction__.a.name,_this.handleThirdPartyCookiesSupportAction),_this}return _inherits(WidgetStore,_ReducerStore),_createClass(WidgetStore,[{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state,{showFriends:!1,showPlayerCard:!1,showNotifications:!1,height:null,windowHeight:50,showPlayerCardDetails:!1,showFriendsDetails:!1,detailsViewWidth:0,showMobileViewOnDesktop:!1})}},{key:"handleShowFriendsActivityAction",value:function(state,action){return __assign({},state,{showFriends:!0})}},{key:"handleHideFriendsActivityAction",value:function(state,action){return __assign({},state,{showFriends:!1})}},{key:"handleBootedWidgetAction",value:function(state,action){return __assign({},state,{booted:!0})}},{key:"handleResizeWidget",value:function(state,action){return __assign({},state,{isInMobileView:action.isInMobileView})}},{key:"handleShowMobileTabs",value:function(state,action){return __assign({},state,{showMobileTabs:!0})}},{key:"handleHideMobileTabs",value:function(state,action){return __assign({},state,{showMobileTabs:!1})}},{key:"handleNoActiveClickMenu",value:function(state,action){return __assign({},state,{noActiveClickOnMenu:action.active})}},{key:"handleChangeLastPlayedGame",value:function(state,action){return __assign({},state,{newLastPlayGameInstallmentId:action.installmentId})}},{key:"handleShowNotificationsAction",value:function(state,action){return __assign({},state,{showNotifications:!0})}},{key:"handleHideNotificationsAction",value:function(state,action){return __assign({},state,{showNotifications:!1})}},{key:"handleSelectedArabLanguageAction",value:function(state,action){return __assign({},state,{isOnArabLocale:!0})}},{key:"handleDeselectArabLanguageAction",value:function(state,action){return __assign({},state,{isOnArabLocale:!1})}},{key:"handleSetParentUrlAction",value:function(state,action){return __assign({},state,{parentUrl:action.parentUrl})}},{key:"handleSetSsoIdAction",value:function(state,action){return __assign({},state,{ssoId:action.ssoId})}},{key:"handleSetConnectLoginUrlAction",value:function(state,action){return __assign({},state,{connectLoginUrl:action.loginUrl,connectUrl:action.connectUrl})}},{key:"handleWritteCONNECTloginDataAction",value:function(state,action){return __assign({},state,{CONNECTloginData:action.CONNECTloginData})}},{key:"handleDeleteCONNECTloginDataAction",value:function(state,action){return __assign({},state,{CONNECTloginData:null})}},{key:"handleToggleShowOverviewTabDetailsViewAction",value:function(state,action){return __assign({},state,{showPlayerCardDetails:action.show})}},{key:"handleToggleShowFriendsTabDetailsViewAction",value:function(state,action){return __assign({},state,{showFriendsDetails:action.show})}},{key:"handleShowDetailsViewAction",value:function(state,action){return __assign({},state,{showDetailsView:action.toggle})}},{key:"handleToggleShowMobileViewOnDesktopAction",value:function(state,action){return __assign({},state,{showMobileViewOnDesktop:action.showMobileViewOnDesktop})}},{key:"handleStartedPanelFlowAction",value:function(state,action){return __assign({},state,{startedPanelFlow:action.startedPanelFlow})}},{key:"handleToggleShowStatsHeaderOnPlayerCardDetails",value:function(state,action){return __assign({},state,{showStatsHeaderOnPlayerCardDetails:action.toggle})}},{key:"handleToggleShowStatsHeaderOnFriendsDetails",value:function(state,action){return __assign({},state,{showStatsHeaderOnFriendsDetails:action.toggle})}},{key:"handleToggleShowNameHeaderOnFriendsDetails",value:function(state,action){return __assign({},state,{showNameHeaderOnFriendsDetails:action.toggle})}},{key:"handleResizeWindowInnerHeightAction",value:function(state,action){return __assign({},state,{windowInnerHeight:action.windowInnerHeight})}},{key:"handleThirdPartyCookiesSupportAction",value:function(state,action){return __assign({},state,{thirdPartyCookiesSupport:action.thirdPartyCookiesSupport})}}]),WidgetStore}(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.ReducerStore);WidgetStore=__decorate([__WEBPACK_IMPORTED_MODULE_29__modules_di_injectable__.a,__metadata("design:paramtypes",[])],WidgetStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./af":374,"./af.js":374,"./ar":380,"./ar-dz":375,"./ar-dz.js":375,"./ar-ly":376,"./ar-ly.js":376,"./ar-ma":377,"./ar-ma.js":377,"./ar-sa":378,"./ar-sa.js":378,"./ar-tn":379,"./ar-tn.js":379,"./ar.js":380,"./az":381,"./az.js":381,"./be":382,"./be.js":382,"./bg":383,"./bg.js":383,"./bn":384,"./bn.js":384,"./bo":385,"./bo.js":385,"./br":386,"./br.js":386,"./bs":387,"./bs.js":387,"./ca":388,"./ca.js":388,"./cs":389,"./cs.js":389,"./cv":390,"./cv.js":390,"./cy":391,"./cy.js":391,"./da":392,"./da.js":392,"./de":394,"./de-at":393,"./de-at.js":393,"./de.js":394,"./dv":395,"./dv.js":395,"./el":396,"./el.js":396,"./en-au":397,"./en-au.js":397,"./en-ca":398,"./en-ca.js":398,"./en-gb":399,"./en-gb.js":399,"./en-ie":400,"./en-ie.js":400,"./en-nz":401,"./en-nz.js":401,"./eo":402,"./eo.js":402,"./es":404,"./es-do":403,"./es-do.js":403,"./es.js":404,"./et":405,"./et.js":405,"./eu":406,"./eu.js":406,"./fa":407,"./fa.js":407,"./fi":408,"./fi.js":408,"./fo":409,"./fo.js":409,"./fr":412,"./fr-ca":410,"./fr-ca.js":410,"./fr-ch":411,"./fr-ch.js":411,"./fr.js":412,"./fy":413,"./fy.js":413,"./gd":414,"./gd.js":414,"./gl":415,"./gl.js":415,"./he":416,"./he.js":416,"./hi":417,"./hi.js":417,"./hr":418,"./hr.js":418,"./hu":419,"./hu.js":419,"./hy-am":420,"./hy-am.js":420,"./id":421,"./id.js":421,"./is":422,"./is.js":422,"./it":423,"./it.js":423,"./ja":424,"./ja.js":424,"./jv":425,"./jv.js":425,"./ka":426,"./ka.js":426,"./kk":427,"./kk.js":427,"./km":428,"./km.js":428,"./ko":429,"./ko.js":429,"./ky":430,"./ky.js":430,"./lb":431,"./lb.js":431,"./lo":432,"./lo.js":432,"./lt":433,"./lt.js":433,"./lv":434,"./lv.js":434,"./me":435,"./me.js":435,"./mi":436,"./mi.js":436,"./mk":437,"./mk.js":437,"./ml":438,"./ml.js":438,"./mr":439,"./mr.js":439,"./ms":441,"./ms-my":440,"./ms-my.js":440,"./ms.js":441,"./my":442,"./my.js":442,"./nb":443,"./nb.js":443,"./ne":444,"./ne.js":444,"./nl":446,"./nl-be":445,"./nl-be.js":445,"./nl.js":446,"./nn":447,"./nn.js":447,"./pa-in":448,"./pa-in.js":448,"./pl":449,"./pl.js":449,"./pt":451,"./pt-br":450,"./pt-br.js":450,"./pt.js":451,"./ro":452,"./ro.js":452,"./ru":453,"./ru.js":453,"./se":454,"./se.js":454,"./si":455,"./si.js":455,"./sk":456,"./sk.js":456,"./sl":457,"./sl.js":457,"./sq":458,"./sq.js":458,"./sr":460,"./sr-cyrl":459,"./sr-cyrl.js":459,"./sr.js":460,"./ss":461,"./ss.js":461,"./sv":462,"./sv.js":462,"./sw":463,"./sw.js":463,"./ta":464,"./ta.js":464,"./te":465,"./te.js":465,"./tet":466,"./tet.js":466,"./th":467,"./th.js":467,"./tl-ph":468,"./tl-ph.js":468,"./tlh":469,"./tlh.js":469,"./tr":470,"./tr.js":470,"./tzl":471,"./tzl.js":471,"./tzm":473,"./tzm-latn":472,"./tzm-latn.js":472,"./tzm.js":473,"./uk":474,"./uk.js":474,"./uz":475,"./uz.js":475,"./vi":476,"./vi.js":476,"./x-pseudo":477,"./x-pseudo.js":477,"./yo":478,"./yo.js":478,"./zh-cn":479,"./zh-cn.js":479,"./zh-hk":480,"./zh-hk.js":480,"./zh-tw":481,"./zh-tw.js":481};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=967},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){},,function(module,exports,__webpack_require__){__webpack_require__(774),module.exports=__webpack_require__(773)}],[1536]);